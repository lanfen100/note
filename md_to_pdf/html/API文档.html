
    <html lang="zh-cn">
    <head>
    <meta content="text/html; charset=utf-8" http-equiv="content-type" />
    <link href="F:\bkdoc\md_to_pdf/default.css" rel="stylesheet">
    </head>
    <body>
    <h2 id="api">蓝鲸统一登录 API 简介</h2>
<p><strong>蓝鲸统一登录，管理用户登录验证，及用户信息。</strong></p>
<table>
<thead>
<tr>
<th>资源名称</th>
<th>资源描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="5.1/API文档/BK_LOGIN/get_all_users.md">get_all_users</a></td>
<td>获取所有用户信息</td>
</tr>
<tr>
<td><a href="5.1/API文档/BK_LOGIN/get_batch_users.md">get_batch_users</a></td>
<td>批量获取用户信息</td>
</tr>
<tr>
<td><a href="5.1/API文档/BK_LOGIN/get_batch_users_platform_role.md">get_batch_users_platform_role</a></td>
<td>批量获取用户各平台角色信息</td>
</tr>
<tr>
<td><a href="5.1/API文档/BK_LOGIN/get_user.md">get_user</a></td>
<td>获取用户信息</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/bk_login/get_all_users/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>获取所有用户信息</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_role</td>
<td>int</td>
<td>否</td>
<td>用户角色，0：普通用户，1：超级管理员，2：开发者，3：职能化用户，4：审计员</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_token&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_role&quot;</span><span class="p">:</span> <span class="mi">0</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;OK&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;bk_username&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
            <span class="s2">&quot;qq&quot;</span><span class="p">:</span> <span class="s2">&quot;12345&quot;</span><span class="p">,</span>
            <span class="s2">&quot;bk_role&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s2">&quot;language&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="n">zh</span><span class="o">-</span><span class="n">cn</span><span class="p">,</span>
            <span class="s2">&quot;phone&quot;</span><span class="p">:</span> <span class="s2">&quot;12345678911&quot;</span><span class="p">,</span>
            <span class="s2">&quot;wx_userid&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;email&quot;</span><span class="p">:</span> <span class="s2">&quot;11@qq.com&quot;</span><span class="p">,</span>
            <span class="s2">&quot;chname&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
            <span class="s2">&quot;time_zone&quot;</span><span class="p">:</span> <span class="s2">&quot;Asia/Shanghai&quot;</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_username</td>
<td>string</td>
<td>用户名</td>
</tr>
<tr>
<td>qq</td>
<td>string</td>
<td>用户QQ</td>
</tr>
<tr>
<td>language</td>
<td>string</td>
<td>语言</td>
</tr>
<tr>
<td>phone</td>
<td>string</td>
<td>手机号</td>
</tr>
<tr>
<td>wx_userid</td>
<td>string</td>
<td>企业号用户USERID/公众号用户OPENID</td>
</tr>
<tr>
<td>email</td>
<td>string</td>
<td>邮箱</td>
</tr>
<tr>
<td>chname</td>
<td>string</td>
<td>中文名</td>
</tr>
<tr>
<td>time_zone</td>
<td>string</td>
<td>时区</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/bk_login/get_batch_users/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>批量获取用户信息</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_username_list</td>
<td>array</td>
<td>是</td>
<td>用户名列表</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_token&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_username_list&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;admin&quot;</span><span class="p">,</span> <span class="s2">&quot;test&quot;</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;OK&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;admin&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;bk_username&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
            <span class="s2">&quot;qq&quot;</span><span class="p">:</span> <span class="s2">&quot;12345&quot;</span><span class="p">,</span>
            <span class="s2">&quot;bk_role&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">&quot;phone&quot;</span><span class="p">:</span> <span class="s2">&quot;11111111111&quot;</span><span class="p">,</span>
            <span class="s2">&quot;language&quot;</span><span class="p">:</span> <span class="s2">&quot;zh-cn&quot;</span><span class="p">,</span>
            <span class="s2">&quot;wx_userid&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;email&quot;</span><span class="p">:</span> <span class="s2">&quot;11@qq.com&quot;</span><span class="p">,</span>
            <span class="s2">&quot;chname&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span>
            <span class="s2">&quot;time_zone&quot;</span><span class="p">:</span> <span class="s2">&quot;Asia/Shanghai&quot;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_username</td>
<td>string</td>
<td>用户名</td>
</tr>
<tr>
<td>qq</td>
<td>string</td>
<td>用户QQ</td>
</tr>
<tr>
<td>language</td>
<td>string</td>
<td>语言</td>
</tr>
<tr>
<td>phone</td>
<td>string</td>
<td>手机号</td>
</tr>
<tr>
<td>wx_userid</td>
<td>string</td>
<td>企业号用户USERID/公众号用户OPENID</td>
</tr>
<tr>
<td>email</td>
<td>string</td>
<td>邮箱</td>
</tr>
<tr>
<td>chname</td>
<td>string</td>
<td>中文名</td>
</tr>
<tr>
<td>time_zone</td>
<td>string</td>
<td>时区</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/bk_login/get_batch_users_platform_role/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>批量获取用户各平台角色信息</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_username_list</td>
<td>array</td>
<td>是</td>
<td>用户名列表</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>登录票据</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_token&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_username_list&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;admin&quot;</span><span class="p">,</span> <span class="s2">&quot;test&quot;</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;OK&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;admin&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;bkdata&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="mi">1</span>
            <span class="p">],</span>
            <span class="s2">&quot;job&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="mi">2</span>
            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>key1</td>
<td>string</td>
<td>用户名</td>
</tr>
<tr>
<td>key1.key2</td>
<td>string</td>
<td>产品代号</td>
</tr>
<tr>
<td>key1.key2.value</td>
<td>list</td>
<td>用户角色，0：普通用户，1：超级管理员，2：开发者，3：职能化用户，4：审计员</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/bk_login/get_user/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>获取用户信息</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h3 id="_6">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_token&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>


<h3 id="_7">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;OK&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;bk_username&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
        <span class="s2">&quot;qq&quot;</span><span class="p">:</span> <span class="s2">&quot;12345&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bk_role&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">&quot;language&quot;</span><span class="p">:</span> <span class="s2">&quot;zh-cn&quot;</span><span class="p">,</span>
        <span class="s2">&quot;phone&quot;</span><span class="p">:</span> <span class="s2">&quot;12345678911&quot;</span><span class="p">,</span>
        <span class="s2">&quot;wx_userid&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;email&quot;</span><span class="p">:</span> <span class="s2">&quot;11@qq.com&quot;</span><span class="p">,</span>
        <span class="s2">&quot;chname&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
        <span class="s2">&quot;time_zone&quot;</span><span class="p">:</span> <span class="s2">&quot;Asia/Shanghai&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_username</td>
<td>string</td>
<td>用户名</td>
</tr>
<tr>
<td>qq</td>
<td>string</td>
<td>用户QQ</td>
</tr>
<tr>
<td>language</td>
<td>string</td>
<td>语言</td>
</tr>
<tr>
<td>phone</td>
<td>string</td>
<td>手机号</td>
</tr>
<tr>
<td>wx_userid</td>
<td>string</td>
<td>企业号用户USERID/公众号用户OPENID</td>
</tr>
<tr>
<td>email</td>
<td>string</td>
<td>邮箱</td>
</tr>
<tr>
<td>chname</td>
<td>string</td>
<td>中文名</td>
</tr>
<tr>
<td>time_zone</td>
<td>string</td>
<td>时区</td>
</tr>
</tbody>
</table><h2 id="api">蓝鲸开发者中心 API 简介</h2>
<table>
<thead>
<tr>
<th>资源名称</th>
<th>资源描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="5.1/API文档/BK_PAAS/get_app_info.md">get_app_info</a></td>
<td>获取应用信息</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/bk_paas/get_app_info/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>获取应用信息，支持批量获取</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>target_app_code</td>
<td>string</td>
<td>否</td>
<td>target_app_code 表示应用 ID，多个 ID 以英文分号分隔，target_app_code 为空则表示所有应用</td>
</tr>
<tr>
<td>fields</td>
<td>string</td>
<td>否</td>
<td>fields 需要返回的字段，多个字段以英文分号分割，如果不传或传入 &#34;&#34;，则返回应用的 bk_app_code、bk_app_name 字段。可选的字段有：bk_app_code（应用ID），bk_app_name（应用名），introduction（应用简介），creator（创建者），developer（开发人员）</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_token&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;target_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;bk_test;esb_test&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;bk_test&quot;</span><span class="p">,</span>
            <span class="s2">&quot;bk_app_name&quot;</span><span class="p">:</span> <span class="s2">&quot;BKTest&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
            <span class="s2">&quot;bk_app_name&quot;</span><span class="p">:</span> <span class="s2">&quot;ESBTest&quot;</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div><h2 id="api">蓝鲸消息管理 API 简介</h2>
<p><strong>蓝鲸消息管理，用于支持向用户发送多种类型的消息，包括邮件、短信、语音通知等。</strong></p>
<table>
<thead>
<tr>
<th>资源名称</th>
<th>资源描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="CMSI/get_msg_type.md">get_msg_type</a></td>
<td>查询消息发送类型</td>
</tr>
<tr>
<td><a href="CMSI/send_mail.md">send_mail</a></td>
<td>发送邮件</td>
</tr>
<tr>
<td><a href="CMSI/send_msg.md">send_msg</a></td>
<td>通用消息发送</td>
</tr>
<tr>
<td><a href="CMSI/send_sms.md">send_sms</a></td>
<td>发送短信</td>
</tr>
<tr>
<td><a href="CMSI/send_voice_msg.md">send_voice_msg</a></td>
<td>公共语音通知</td>
</tr>
<tr>
<td><a href="CMSI/send_weixin.md">send_weixin</a></td>
<td>发送微信消息</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/cmsi/get_msg_type/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>查询 send_msg 组件支持发送消息的类型</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h3 id="_6">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_token&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span>
<span class="p">}</span>
</pre></div>


<h3 id="_7">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;weixin&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="s2">&quot;微信&quot;</span><span class="p">,</span>
            <span class="s2">&quot;is_active&quot;</span><span class="p">:</span> <span class="n">true</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;mail&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="s2">&quot;邮件&quot;</span><span class="p">,</span>
            <span class="s2">&quot;is_active&quot;</span><span class="p">:</span> <span class="n">true</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;sms&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="s2">&quot;短信&quot;</span><span class="p">,</span>
            <span class="s2">&quot;is_active&quot;</span><span class="p">:</span> <span class="n">true</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;voice&quot;</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="s2">&quot;语音&quot;</span><span class="p">,</span>
            <span class="s2">&quot;is_active&quot;</span><span class="p">:</span> <span class="n">true</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/cmsi/send_mail/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>发送邮件</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>receiver</td>
<td>string</td>
<td>否</td>
<td>邮件接收者，包含邮件完整地址，多个以逗号分隔，若receiver、receiver__username同时存在，以receiver为准</td>
</tr>
<tr>
<td>receiver__username</td>
<td>string</td>
<td>否</td>
<td>邮件接收者，包含用户名，用户需在蓝鲸平台注册，多个以逗号分隔，若receiver、receiver__username同时存在，以receiver为准</td>
</tr>
<tr>
<td>sender</td>
<td>string</td>
<td>否</td>
<td>发件人</td>
</tr>
<tr>
<td>title</td>
<td>string</td>
<td>是</td>
<td>邮件主题</td>
</tr>
<tr>
<td>content</td>
<td>string</td>
<td>是</td>
<td>邮件内容</td>
</tr>
<tr>
<td>cc</td>
<td>string</td>
<td>否</td>
<td>抄送人，包含邮件完整地址，多个以逗号分隔</td>
</tr>
<tr>
<td>cc__username</td>
<td>string</td>
<td>否</td>
<td>抄送人，包含用户名，用户需在蓝鲸平台注册，多个以逗号分隔，若cc、cc__username同时存在，以cc为准</td>
</tr>
<tr>
<td>body_format</td>
<td>string</td>
<td>否</td>
<td>邮件格式，包含&#39;Html&#39;, &#39;Text&#39;，默认为&#39;Html&#39;</td>
</tr>
<tr>
<td>is_content_base64</td>
<td>bool</td>
<td>否</td>
<td>邮件内容是否base64编码，默认False，不编码，请使用base64.b64encode方法编码</td>
</tr>
<tr>
<td>attachments</td>
<td>bool</td>
<td>否</td>
<td>邮件附件</td>
</tr>
</tbody>
</table>
<h5 id="attachments">attachments</h5>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>filename</td>
<td>string</td>
<td>是</td>
<td>文件名</td>
</tr>
<tr>
<td>content</td>
<td>string</td>
<td>是</td>
<td>文件内容，文件内容为原文件内容的 base64 编码字符串</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>否</td>
<td>文件类型，默认为文件名后缀，如 a.png 文件类型为 &#39;png&#39;</td>
</tr>
<tr>
<td>disposition</td>
<td>string</td>
<td>否</td>
<td>文件 Content-Disposition，图片文件(type=image, jpg, png, jpeg)默认为 &#39;inline&#39;，其他文件默认为 &#39;attachment&#39;</td>
</tr>
<tr>
<td>content_id</td>
<td>string</td>
<td>否</td>
<td>文件 Content-ID，文件为图片文件时生效；默认为 &#39;&lt;文件名&gt;&#39;</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_token&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;receiver&quot;</span><span class="p">:</span> <span class="s2">&quot;admin@bking.com&quot;</span><span class="p">,</span>
    <span class="s2">&quot;sender&quot;</span><span class="p">:</span> <span class="s2">&quot;admin@bking.com&quot;</span><span class="p">,</span>
    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;This is a Test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;html&gt;Welcome to Blueking&lt;/html&gt;&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="s2">&quot;00&quot;</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;OK&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/cmsi/send_msg/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>通用消息发送接口</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>msg_type</td>
<td>string</td>
<td>是</td>
<td>发送信息的类型，可通过get_msg_type组件获取</td>
</tr>
<tr>
<td>receiver__username</td>
<td>string</td>
<td>是</td>
<td>接收者，包含用户名，用户需在蓝鲸平台注册，多个以逗号分隔</td>
</tr>
<tr>
<td>title</td>
<td>string</td>
<td>是</td>
<td>主题</td>
</tr>
<tr>
<td>content</td>
<td>string</td>
<td>是</td>
<td>内容</td>
</tr>
<tr>
<td>sender</td>
<td>string</td>
<td>否</td>
<td>发件人，msg_type 为 mail 时有效</td>
</tr>
<tr>
<td>cc__username</td>
<td>string</td>
<td>否</td>
<td>抄送人，包含用户名，用户需在蓝鲸平台注册，多个以逗号分隔，msg_type为mail时有效</td>
</tr>
<tr>
<td>body_format</td>
<td>string</td>
<td>否</td>
<td>邮件格式，包含'Html', 'Text'，默认为'Html'， msg_type 为 mail 时有效</td>
</tr>
<tr>
<td>attachments</td>
<td>list</td>
<td>否</td>
<td>邮件附件， msg_type 为 mail 时有效</td>
</tr>
<tr>
<td>date</td>
<td>string</td>
<td>否</td>
<td>通知发送时间，默认为当前时间 "YYYY-mm-dd HH:MM"，msg_type 为 weixin 时有效</td>
</tr>
<tr>
<td>remark</td>
<td>string</td>
<td>否</td>
<td>通知尾部文字，msg_type 为 weixin 时有效</td>
</tr>
<tr>
<td>wx_qy_agentid</td>
<td>string</td>
<td>否</td>
<td>企业微信AgentId，msg_type 为 weixin 时有效</td>
</tr>
<tr>
<td>wx_qy_corpsecret</td>
<td>string</td>
<td>否</td>
<td>企业微信CorpSecret，msg_type 为 weixin 时有效</td>
</tr>
<tr>
<td>is_content_base64</td>
<td>bool</td>
<td>否</td>
<td>通知文字content是否base64编码，默认False，不编码，若编码请使用base64.b64encode方法</td>
</tr>
</tbody>
</table>
<h5 id="attachments">attachments</h5>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>filename</td>
<td>string</td>
<td>是</td>
<td>文件名</td>
</tr>
<tr>
<td>content</td>
<td>string</td>
<td>是</td>
<td>文件内容，文件内容为原文件内容的 base64 编码字符串"</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>否</td>
<td>文件类型，默认为文件名后缀，如 a.png 文件类型为 'png'</td>
</tr>
<tr>
<td>disposition</td>
<td>string</td>
<td>否</td>
<td>文件 Content-Disposition，图片文件(type=image, jpg, png, jpeg)默认为 'inline'，其他文件默认为 'attachment'</td>
</tr>
<tr>
<td>content_id</td>
<td>string</td>
<td>否</td>
<td>文件 Content-ID，文件为图片文件时生效；默认为 '&lt;文件名&gt;'</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb-test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;esb-test-secret&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_username&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
    <span class="s2">&quot;msg_type&quot;</span><span class="p">:</span> <span class="s2">&quot;mail&quot;</span><span class="p">,</span>
    <span class="s2">&quot;receiver__username&quot;</span><span class="p">:</span> <span class="s2">&quot;admin,yunchao&quot;</span><span class="p">,</span>
    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;OK&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">[],</span>
    <span class="s2">&quot;request_id&quot;</span><span class="p">:</span> <span class="s2">&quot;sdfdfdfsdfasdasdasas&quot;</span>
<span class="p">}</span>
</pre></div><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/cmsi/send_sms/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>发送短信</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>receiver</td>
<td>string</td>
<td>否</td>
<td>短信接收者，包含接收者电话号码，多个以逗号分隔，若receiver、receiver__username同时存在，以receiver为准</td>
</tr>
<tr>
<td>receiver__username</td>
<td>string</td>
<td>否</td>
<td>短信接收者，包含用户名，用户需在蓝鲸平台注册，多个以逗号分隔，若receiver、receiver__username同时存在，以receiver为准</td>
</tr>
<tr>
<td>content</td>
<td>string</td>
<td>是</td>
<td>短信内容</td>
</tr>
<tr>
<td>is_content_base64</td>
<td>bool</td>
<td>否</td>
<td>消息内容是否base64编码，默认False，不编码，请使用base64.b64encode方法编码</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_token&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;receiver&quot;</span><span class="p">:</span> <span class="s2">&quot;1234567890&quot;</span><span class="p">,</span>
    <span class="s2">&quot;receiver__username&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
    <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;Welcome to Blueking&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="s2">&quot;00&quot;</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;OK&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/cmsi/send_voice_msg/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>公共语音通知</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>auto_read_message</td>
<td>string</td>
<td>是</td>
<td>自动语音读字信息</td>
</tr>
<tr>
<td>user_list_information</td>
<td>array</td>
<td>否</td>
<td>待通知的用户列表，自动语音通知列表，若user_list_information、receiver__username同时存在，以user_list_information为准</td>
</tr>
<tr>
<td>receiver__username</td>
<td>string</td>
<td>否</td>
<td>待通知的用户列表，包含用户名，用户需在蓝鲸平台注册，多个以逗号分隔，若user_list_information、receiver__username同时存在，以user_list_information为准</td>
</tr>
</tbody>
</table>
<h4 id="user_list_information">user_list_information</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>username</td>
<td>string</td>
<td>是</td>
<td>被通知人</td>
</tr>
<tr>
<td>mobile_phone</td>
<td>string</td>
<td>否</td>
<td>被通知人手机号</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_token&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;auto_read_message&quot;</span><span class="p">:</span> <span class="s2">&quot;This is a test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;user_list_information&quot;</span><span class="p">:</span> <span class="p">[{</span>
        <span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mobile_phone&quot;</span><span class="p">:</span> <span class="s2">&quot;1234567890&quot;</span><span class="p">,</span>
    <span class="p">}]</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="s2">&quot;00&quot;</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;instance_id&quot;</span><span class="p">:</span> <span class="s2">&quot;2662152044&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/cmsi/send_weixin/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>发送微信消息，支持微信公众号消息，及微信企业号消息</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>receiver</td>
<td>string</td>
<td>否</td>
<td>微信接收者，包含绑定在指定公众号上的微信用户的 openid 或 企业号上的微信用户的用户ID，多个以逗号分隔</td>
</tr>
<tr>
<td>receiver__username</td>
<td>string</td>
<td>否</td>
<td>微信接收者，包含用户名，用户需在蓝鲸平台注册，多个以逗号分隔，若receiver、receiver__username同时存在，以receiver为准</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>是</td>
<td>消息内容</td>
</tr>
<tr>
<td>wx_qy_agentid</td>
<td>string</td>
<td>否</td>
<td>agentid of WeChat app</td>
</tr>
<tr>
<td>wx_qy_corpsecret</td>
<td>string</td>
<td>否</td>
<td>secret of WeChat app</td>
</tr>
</tbody>
</table>
<h4 id="data">data 参数包含内容</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>heading</td>
<td>string</td>
<td>是</td>
<td>通知头部文字</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>是</td>
<td>通知文字</td>
</tr>
<tr>
<td>date</td>
<td>string</td>
<td>否</td>
<td>通知发送时间，默认为当前时间 &#34;YYYY-mm-dd HH:MM&#34;</td>
</tr>
<tr>
<td>remark</td>
<td>string</td>
<td>否</td>
<td>通知尾部文字</td>
</tr>
<tr>
<td>is_message_base64</td>
<td>bool</td>
<td>否</td>
<td>通知文字message是否base64编码，默认False，不编码，若编码请使用base64.b64encode方法</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_token&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;receiver&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;heading&quot;</span><span class="p">:</span> <span class="s2">&quot;blueking alarm&quot;</span><span class="p">,</span>
        <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;This is a test.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;date&quot;</span><span class="p">:</span> <span class="s2">&quot;2017-02-22 15:36&quot;</span><span class="p">,</span>
        <span class="s2">&quot;remark&quot;</span><span class="p">:</span> <span class="s2">&quot;This is a test!&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="s2">&quot;00&quot;</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;OK&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div><h2 id="api">配置平台 API 简介</h2>
<p><strong>蓝鲸配置平台是一款面向应用的 CMDB，在 ITIL 体系里，CMDB 是构建其它流程的基石，而在蓝鲸智云体系里，配置平台就扮演着基石的角色，为应用提供了各种运维场景的配置数据服务。</strong></p>
<table>
<thead>
<tr>
<th>资源名称</th>
<th>资源描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="5.1/API文档/CC/add_host_lock.md">add_host_lock</a></td>
<td>新加主机锁</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/add_host_to_resource.md">add_host_to_resource</a></td>
<td>新增主机到资源池</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/add_instance_association.md">add_instance_association</a></td>
<td>新建模型实例之间的关联关系</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/batch_delete_inst.md">batch_delete_inst</a></td>
<td>批量删除实例</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/batch_delete_set.md">batch_delete_set</a></td>
<td>批量删除集群</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/batch_update_inst.md">batch_update_inst</a></td>
<td>批量更新对象实例</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/bind_process_module.md">bind_process_module</a></td>
<td>绑定进程到模块</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/bind_role_privilege.md">bind_role_privilege</a></td>
<td>绑定角色权限</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/clone_host_property.md">clone_host_property</a></td>
<td>克隆主机属性</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/create_business.md">create_business</a></td>
<td>新建业务</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/create_classification.md">create_classification</a></td>
<td>添加模型分类</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/create_custom_query.md">create_custom_query</a></td>
<td>添加自定义API</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/create_inst.md">create_inst</a></td>
<td>创建实例</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/create_module.md">create_module</a></td>
<td>创建模块</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/create_object.md">create_object</a></td>
<td>创建模型</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/create_object_attribute.md">create_object_attribute</a></td>
<td>创建模型属性</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/create_set.md">create_set</a></td>
<td>创建集群</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/create_user_group.md">create_user_group</a></td>
<td>新建用户分组</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/delete_business.md">delete_business</a></td>
<td>删除业务</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/delete_classification.md">delete_classification</a></td>
<td>删除模型分类</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/delete_custom_query.md">delete_custom_query</a></td>
<td>删除自定义API</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/delete_host.md">delete_host</a></td>
<td>删除主机</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/delete_host_lock.md">delete_host_lock</a></td>
<td>删除主机锁</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/delete_inst.md">delete_inst</a></td>
<td>删除实例</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/delete_instance_association.md">delete_instance_association</a></td>
<td>删除模型实例之间的关联关系</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/delete_module.md">delete_module</a></td>
<td>删除模块</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/delete_object.md">delete_object</a></td>
<td>删除模型</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/delete_object_attribute.md">delete_object_attribute</a></td>
<td>删除对象模型属性</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/delete_process_module_bind.md">delete_process_module_bind</a></td>
<td>解绑进程模块</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/delete_set.md">delete_set</a></td>
<td>删除集群</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/delete_user_group.md">delete_user_group</a></td>
<td>删除用户分组</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/find_host_by_module.md">find_host_by_module</a></td>
<td>根据模块查询主机</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/find_instance_association.md">find_instance_association</a></td>
<td>查询模型实例之间的关联关系</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/find_object_association.md">find_object_association</a></td>
<td>查询模型之间的关联关系</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/get_biz_internal_module.md">get_biz_internal_module</a></td>
<td>查询业务的空闲机和故障机模块</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/get_custom_query_data.md">get_custom_query_data</a></td>
<td>根据自定义api获取数据</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/get_custom_query_detail.md">get_custom_query_detail</a></td>
<td>获取自定义API详情</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/get_host_base_info.md">get_host_base_info</a></td>
<td>获取主机详情</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/get_mainline_object_topo.md">get_mainline_object_topo</a></td>
<td>查询主线模型的业务拓扑</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/get_operation_log.md">get_operation_log</a></td>
<td>获取操作日志</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/get_process_bind_module.md">get_process_bind_module</a></td>
<td>查询进程绑定模块</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/get_role_privilege.md">get_role_privilege</a></td>
<td>获取角色绑定权限</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/get_user_privilege.md">get_user_privilege</a></td>
<td>查询用户权限</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/search_biz_inst_topo.md">search_biz_inst_topo</a></td>
<td>查询业务实例拓扑</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/search_business.md">search_business</a></td>
<td>查询业务</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/search_classifications.md">search_classifications</a></td>
<td>查询模型分类</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/search_custom_query.md">search_custom_query</a></td>
<td>查询自定义API</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/search_group_privilege.md">search_group_privilege</a></td>
<td>查询分组权限</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/search_host.md">search_host</a></td>
<td>根据条件查询主机</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/search_host_lock.md">search_host_lock</a></td>
<td>查询主机锁</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/search_inst.md">search_inst</a></td>
<td>查询实例</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/search_inst_association_topo.md">search_inst_association_topo</a></td>
<td>查询实例关联拓扑</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/search_inst_by_object.md">search_inst_by_object</a></td>
<td>查询实例详情</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/search_module.md">search_module</a></td>
<td>查询模块</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/search_objects.md">search_objects</a></td>
<td>查询模型</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/search_object_attribute.md">search_object_attribute</a></td>
<td>查询对象模型属性</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/search_object_topo.md">search_object_topo</a></td>
<td>查询普通模型拓扑</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/search_object_topo_graphics.md">search_object_topo_graphics</a></td>
<td>查询拓扑图</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/search_set.md">search_set</a></td>
<td>查询集群</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/search_subscription.md">search_subscription</a></td>
<td>查询订阅</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/search_user_group.md">search_user_group</a></td>
<td>查询用户分组</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/subscribe_event.md">subscribe_event</a></td>
<td>订阅事件</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/testing_connection.md">testing_connection</a></td>
<td>测试推送（只测试连通性）</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/transfer_host_module.md">transfer_host_module</a></td>
<td>业务内主机转移模块</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/transfer_host_to_faultmodule.md">transfer_host_to_faultmodule</a></td>
<td>上交主机到业务的故障机模块</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/transfer_host_to_idlemodule.md">transfer_host_to_idlemodule</a></td>
<td>上交主机到业务的空闲机模块</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/transfer_host_to_resourcemodule.md">transfer_host_to_resourcemodule</a></td>
<td>上交主机至资源池</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/transfer_resourcehost_to_idlemodule.md">transfer_resourcehost_to_idlemodule</a></td>
<td>资源池主机分配至业务的空闲机模块</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/transfer_sethost_to_idle_module.md">transfer_sethost_to_idle_module</a></td>
<td>清空业务下集群/模块中主机</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/unsubcribe_event.md">unsubcribe_event</a></td>
<td>退订事件</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/update_business.md">update_business</a></td>
<td>修改业务</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/update_business_enable_status.md">update_business_enable_status</a></td>
<td>修改业务启用状态</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/update_classification.md">update_classification</a></td>
<td>更新模型分类</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/update_custom_query.md">update_custom_query</a></td>
<td>更新自定义API</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/update_event_subscribe.md">update_event_subscribe</a></td>
<td>修改订阅</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/update_host.md">update_host</a></td>
<td>更新主机属性</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/update_inst.md">update_inst</a></td>
<td>更新对象实例</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/update_module.md">update_module</a></td>
<td>更新模块</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/update_object.md">update_object</a></td>
<td>更新定义</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/update_object_attribute.md">update_object_attribute</a></td>
<td>更新对象模型属性</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/update_object_topo_graphics.md">update_object_topo_graphics</a></td>
<td>更新拓扑图</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/update_set.md">update_set</a></td>
<td>更新集群</td>
</tr>
<tr>
<td><a href="5.1/API文档/CC/update_user_group.md">update_user_group</a></td>
<td>更新用户分组</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/add_host_lock/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>新加主机锁，如果主机已经加过锁，同样提示加锁成功</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>ip_list</td>
<td>string array</td>
<td>是</td>
<td>无</td>
</tr>
<tr>
<td>bk_cloud_id</td>
<td>int</td>
<td>否</td>
<td>0</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
   <span class="s2">&quot;ip_list&quot;</span><span class="p">:[</span><span class="s2">&quot;127.0.0.1&quot;</span><span class="p">],</span>
   <span class="s2">&quot;bk_cloud_id&quot;</span><span class="p">:</span><span class="mi">0</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;bk_error_code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;bk_error_msg&quot;</span><span class="p">:</span> <span class="s2">&quot;success&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="n">null</span>
<span class="p">}</span>
</pre></div><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/add_host_to_resource/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>新增主机到资源池</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>host_info</td>
<td>dict</td>
<td>是</td>
<td>主机信息</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>否</td>
<td>业务ID</td>
</tr>
</tbody>
</table>
<h4 id="host_info">host_info</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_host_innerip</td>
<td>string</td>
<td>是</td>
<td>主机内网ip</td>
</tr>
<tr>
<td>import_from</td>
<td>string</td>
<td>是</td>
<td>主机导入来源,以api方式导入为3</td>
</tr>
<tr>
<td>bk_cloud_id</td>
<td>int</td>
<td>是</td>
<td>云区域ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_token&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;123456789&quot;</span><span class="p">,</span>
    <span class="s2">&quot;host_info&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;0&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;bk_host_innerip&quot;</span><span class="p">:</span> <span class="s2">&quot;10.0.0.1&quot;</span><span class="p">,</span>
            <span class="s2">&quot;bk_cloud_id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s2">&quot;import_from&quot;</span><span class="p">:</span> <span class="s2">&quot;3&quot;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{}</span>
<span class="p">}</span>
</pre></div><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/add_instance_association/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>新增模型实例之间的关联关系.</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>是否必填</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>metadata</td>
<td>object</td>
<td>Yes</td>
<td>meta data</td>
</tr>
<tr>
<td>condition</td>
<td>string map</td>
<td>Yes</td>
<td>查询条件</td>
</tr>
</tbody>
</table>
<p>metadata params</p>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>是否必填</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>label</td>
<td>string map</td>
<td>Yes</td>
<td>标签信息</td>
</tr>
</tbody>
</table>
<p>label params</p>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>是否必填</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>string</td>
<td>Yes</td>
<td>业务id</td>
</tr>
</tbody>
</table>
<p>condition params</p>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>是否必填</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_obj_asst_id</td>
<td>string</td>
<td>Yes</td>
<td>模型之间关系关系的唯一id</td>
</tr>
<tr>
<td>bk_inst_id</td>
<td>int64</td>
<td>Yes</td>
<td>源模型实例id</td>
</tr>
<tr>
<td>bk_asst_inst_id</td>
<td>int64</td>
<td>Yes</td>
<td>目标模型实例id</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;bk_obj_asst_id&quot;</span><span class="p">:</span> <span class="s2">&quot;bk_switch_belong_bk_host&quot;</span><span class="p">,</span>
    <span class="nt">&quot;bk_inst_id&quot;</span><span class="p">:</span> <span class="mi">11</span><span class="p">,</span>
    <span class="nt">&quot;bk_asst_inst_id&quot;</span><span class="p">:</span> <span class="mi">21</span><span class="p">,</span>
    <span class="nt">&quot;metadata&quot;</span><span class="p">:{</span>
        <span class="nt">&quot;label&quot;</span><span class="p">:{</span>
            <span class="nt">&quot;bk_biz_id&quot;</span><span class="p">:</span><span class="s2">&quot;1&quot;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="nt">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="mi">1038</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int64</td>
<td>新增的实例关联关系身份id</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/batch_delete_inst/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>批量删除对象实例</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>是</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>是</td>
<td>模型ID，删除对象为云区域时为plat</td>
</tr>
<tr>
<td>inst_ids</td>
<td>int array</td>
<td>是</td>
<td>实例ID集合</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_obj_id&quot;</span><span class="p">:</span> <span class="s2">&quot;test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;delete&quot;</span><span class="p">:{</span>
    <span class="s2">&quot;inst_ids&quot;</span><span class="p">:[</span><span class="mi">123</span><span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="s2">&quot;success&quot;</span>
<span class="p">}</span>
</pre></div><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/batch_delete_set/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>批量删除集群</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务ID</td>
</tr>
<tr>
<td>inst_ids</td>
<td>int array</td>
<td>是</td>
<td>集群ID集合</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;delete&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;inst_ids&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">123</span><span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="s2">&quot;success&quot;</span>
<span class="p">}</span>
</pre></div><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/batch_update_inst/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>批量更新对象实例</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>是</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>是</td>
<td>模型ID</td>
</tr>
<tr>
<td>update</td>
<td>object array</td>
<td>是</td>
<td>实例被更新的字段及值</td>
</tr>
</tbody>
</table>
<h4 id="update">update</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_inst_name</td>
<td>string</td>
<td>否</td>
<td>实例名，也可以为其它自定义字段</td>
</tr>
<tr>
<td>datas</td>
<td>object</td>
<td>是</td>
<td>实例被更新的字段取值</td>
</tr>
<tr>
<td>inst_id</td>
<td>int</td>
<td>是</td>
<td>指明datas 用于更新的具体实例</td>
</tr>
</tbody>
</table>
<h4 id="datas">datas</h4>
<p><strong>datas 是map类型的对象，key 是实例对应的模型定义的字段，value是字段的取值</strong></p>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_obj_id&quot;</span><span class="p">:</span><span class="s2">&quot;test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;update&quot;</span><span class="p">:[</span>
        <span class="p">{</span>
          <span class="s2">&quot;datas&quot;</span><span class="p">:{</span>
            <span class="s2">&quot;bk_inst_name&quot;</span><span class="p">:</span><span class="s2">&quot;batch_update&quot;</span>
          <span class="p">},</span>
          <span class="s2">&quot;inst_id&quot;</span><span class="p">:</span><span class="mi">46</span>
         <span class="p">}</span>
        <span class="p">]</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="s2">&quot;success&quot;</span>
<span class="p">}</span>
</pre></div><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/bind_process_module/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>绑定进程到模块</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>是</td>
<td>开发商ID</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务ID</td>
</tr>
<tr>
<td>bk_process_id</td>
<td>int</td>
<td>是</td>
<td>进程ID</td>
</tr>
<tr>
<td>bk_module_name</td>
<td>string</td>
<td>是</td>
<td>模块名</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span><span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;bk_error_code&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;bk_error_msg&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span><span class="s2">&quot;success&quot;</span>
<span class="p">}</span>
</pre></div><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/bind_role_privilege/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>绑定角色权限</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>是</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>是</td>
<td>模型ID</td>
</tr>
<tr>
<td>bk_property_id</td>
<td>string</td>
<td>是</td>
<td>模型对应用户角色属性ID</td>
</tr>
<tr>
<td>data</td>
<td>list</td>
<td>否</td>
<td>角色权限数据，输入为空数组则不绑定任何权限</td>
</tr>
</tbody>
</table>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>hostupdate</td>
<td>string</td>
<td>否</td>
<td>主机编辑</td>
</tr>
<tr>
<td>hosttrans</td>
<td>string</td>
<td>否</td>
<td>主机转移</td>
</tr>
<tr>
<td>topoupdate</td>
<td>string</td>
<td>否</td>
<td>主机拓扑编辑</td>
</tr>
<tr>
<td>customapi</td>
<td>string</td>
<td>否</td>
<td>自定义api</td>
</tr>
<tr>
<td>proconfig</td>
<td>string</td>
<td>否</td>
<td>进程管理</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_token&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;123456789&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_obj_id&quot;</span><span class="p">:</span> <span class="s2">&quot;biz&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_property_id&quot;</span><span class="p">:</span> <span class="s2">&quot;test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;hostupdate&quot;</span><span class="p">,</span>
        <span class="s2">&quot;hosttrans&quot;</span><span class="p">,</span>
        <span class="s2">&quot;topoupdate&quot;</span><span class="p">,</span>
        <span class="s2">&quot;customapi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;proconfig&quot;</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;success&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="s2">&quot;success&quot;</span>
<span class="p">}</span>
</pre></div><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/clone_host_property/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>克隆主机属性</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_org_ip</td>
<td>string</td>
<td>是</td>
<td>源主机ip, 只支持传入单ip</td>
</tr>
<tr>
<td>bk_dst_ip</td>
<td>string</td>
<td>是</td>
<td>目标主机ip, 多个ip用","分割</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务ID</td>
</tr>
<tr>
<td>bk_cloud_id</td>
<td>int</td>
<td>否</td>
<td>云区域ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>
    <span class="s2">&quot;bk_org_ip&quot;</span><span class="p">:</span><span class="s2">&quot;127.0.0.1&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_dst_ip&quot;</span><span class="p">:</span><span class="s2">&quot;127.0.0.2&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_cloud_id&quot;</span><span class="p">:</span><span class="mi">0</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="n">null</span>
<span class="p">}</span>
</pre></div><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/create_business/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>新建业务</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>是</td>
<td>业务数据</td>
</tr>
</tbody>
</table>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_name</td>
<td>string</td>
<td>是</td>
<td>业务名</td>
</tr>
<tr>
<td>bk_biz_maintainer</td>
<td>string</td>
<td>是</td>
<td>运维人员</td>
</tr>
<tr>
<td>bk_biz_productor</td>
<td>string</td>
<td>是</td>
<td>产品人员</td>
</tr>
<tr>
<td>bk_biz_developer</td>
<td>string</td>
<td>是</td>
<td>开发人员</td>
</tr>
<tr>
<td>bk_biz_tester</td>
<td>string</td>
<td>是</td>
<td>测试人员</td>
</tr>
<tr>
<td>time_zone</td>
<td>string</td>
<td>是</td>
<td>时区</td>
</tr>
</tbody>
</table>
<p><strong>注意：此处的输入参数仅对必填以及系统内置的参数做了说明，其余需要填写的参数取决于用户自己定义的属性字段</strong></p>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_token&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;123456789&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;bk_biz_name&quot;</span><span class="p">:</span> <span class="s2">&quot;cc_app_test&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bk_biz_maintainer&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bk_biz_productor&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bk_biz_developer&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bk_biz_tester&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
        <span class="s2">&quot;time_zone&quot;</span><span class="p">:</span> <span class="s2">&quot;Asia/Shanghai&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">2</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/create_classification/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>添加模型分类</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_classification_id</td>
<td>string</td>
<td>是</td>
<td>分类ID，英文描述用于系统内部使用</td>
</tr>
<tr>
<td>bk_classification_name</td>
<td>string</td>
<td>是</td>
<td>分类名</td>
</tr>
<tr>
<td>bk_classification_icon</td>
<td>string</td>
<td>否</td>
<td>模型分类的图标,取值可参考，取值可参考<a href="resource_define/classIcon.json">(classIcon.json)</a></td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_classification_id&quot;</span><span class="p">:</span> <span class="s2">&quot;cs_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_classification_name&quot;</span><span class="p">:</span> <span class="s2">&quot;test_name&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_classification_icon&quot;</span><span class="p">:</span> <span class="s2">&quot;icon-cc-business&quot;</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">18</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int</td>
<td>新增数据记录的ID</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/create_custom_query/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>添加自定义api</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务ID</td>
</tr>
<tr>
<td>info</td>
<td>string</td>
<td>是</td>
<td>通用查询条件</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>是</td>
<td>收藏的名称</td>
</tr>
</tbody>
</table>
<h4 id="info">info</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>否</td>
<td>对象名,可以为biz,set,module,host,object</td>
</tr>
<tr>
<td>fields</td>
<td>array</td>
<td>否</td>
<td>查询输出字段</td>
</tr>
<tr>
<td>condition</td>
<td>array</td>
<td>否</td>
<td>查询条件</td>
</tr>
</tbody>
</table>
<h4 id="infoconditioncondition">info.condition.condition</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>field</td>
<td>string</td>
<td>否</td>
<td>对象的字段</td>
</tr>
<tr>
<td>operator</td>
<td>string</td>
<td>否</td>
<td>操作符, $eq为相等，$neq为不等，$in为属于，$nin为不属于</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>否</td>
<td>字段对应的值</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_token&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;123456789&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;info&quot;</span><span class="p">:</span> <span class="s2">&quot;{</span><span class="se">\&quot;</span><span class="s2">condition</span><span class="se">\&quot;</span><span class="s2">:[{</span><span class="se">\&quot;</span><span class="s2">bk_obj_id</span><span class="se">\&quot;</span><span class="s2">:</span><span class="se">\&quot;</span><span class="s2">biz</span><span class="se">\&quot;</span><span class="s2">,</span><span class="se">\&quot;</span><span class="s2">condition</span><span class="se">\&quot;</span><span class="s2">:[{</span><span class="se">\&quot;</span><span class="s2">field</span><span class="se">\&quot;</span><span class="s2">:</span><span class="se">\&quot;</span><span class="s2">default</span><span class="se">\&quot;</span><span class="s2">,</span><span class="se">\&quot;</span><span class="s2">operator</span><span class="se">\&quot;</span><span class="s2">:</span><span class="se">\&quot;</span><span class="s2">$ne</span><span class="se">\&quot;</span><span class="s2">,</span><span class="se">\&quot;</span><span class="s2">value</span><span class="se">\&quot;</span><span class="s2">:1}],</span><span class="se">\&quot;</span><span class="s2">fields</span><span class="se">\&quot;</span><span class="s2">:[]},{</span><span class="se">\&quot;</span><span class="s2">bk_obj_id</span><span class="se">\&quot;</span><span class="s2">:</span><span class="se">\&quot;</span><span class="s2">set</span><span class="se">\&quot;</span><span class="s2">,</span><span class="se">\&quot;</span><span class="s2">condition</span><span class="se">\&quot;</span><span class="s2">:[],</span><span class="se">\&quot;</span><span class="s2">fields</span><span class="se">\&quot;</span><span class="s2">:[]},{</span><span class="se">\&quot;</span><span class="s2">bk_obj_id</span><span class="se">\&quot;</span><span class="s2">:</span><span class="se">\&quot;</span><span class="s2">module</span><span class="se">\&quot;</span><span class="s2">,</span><span class="se">\&quot;</span><span class="s2">condition</span><span class="se">\&quot;</span><span class="s2">:[],</span><span class="se">\&quot;</span><span class="s2">fields</span><span class="se">\&quot;</span><span class="s2">:[]},{</span><span class="se">\&quot;</span><span class="s2">bk_obj_id</span><span class="se">\&quot;</span><span class="s2">:</span><span class="se">\&quot;</span><span class="s2">host</span><span class="se">\&quot;</span><span class="s2">,</span><span class="se">\&quot;</span><span class="s2">condition</span><span class="se">\&quot;</span><span class="s2">:[{</span><span class="se">\&quot;</span><span class="s2">field</span><span class="se">\&quot;</span><span class="s2">:</span><span class="se">\&quot;</span><span class="s2">bk_host_innerip</span><span class="se">\&quot;</span><span class="s2">,</span><span class="se">\&quot;</span><span class="s2">operator</span><span class="se">\&quot;</span><span class="s2">:</span><span class="se">\&quot;</span><span class="s2">$eq</span><span class="se">\&quot;</span><span class="s2">,</span><span class="se">\&quot;</span><span class="s2">value</span><span class="se">\&quot;</span><span class="s2">:</span><span class="se">\&quot;</span><span class="s2">127.0.0.1</span><span class="se">\&quot;</span><span class="s2">}],</span><span class="se">\&quot;</span><span class="s2">fields</span><span class="se">\&quot;</span><span class="s2">:[</span><span class="se">\&quot;</span><span class="s2">bk_host_innerip</span><span class="se">\&quot;</span><span class="s2">,</span><span class="se">\&quot;</span><span class="s2">bk_host_outerip</span><span class="se">\&quot;</span><span class="s2">,</span><span class="se">\&quot;</span><span class="s2">bk_agent_status</span><span class="se">\&quot;</span><span class="s2">]}]}&quot;</span><span class="p">,</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;api1&quot;</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;b80nu3dmjrccd9i5r1eg&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>string</td>
<td>自定义api主键ID</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/create_inst/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>创建实例</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>是</td>
<td>模型ID，新建云区域时为plat</td>
</tr>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>是</td>
<td>开发商账号,独立部署请填"0"</td>
</tr>
<tr>
<td>bk_inst_name/bk_cloud_name</td>
<td>string</td>
<td>是</td>
<td>实例名,当创建对象为云区域时为bk_cloud_name</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>否</td>
<td>业务ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_inst_name&quot;</span><span class="p">:</span> <span class="s2">&quot;example18&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">0</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;bk_inst_id&quot;</span><span class="p">:</span> <span class="mi">67</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_inst_id</td>
<td>int</td>
<td>实例id</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/create_module/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>创建模块</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务ID</td>
</tr>
<tr>
<td>bk_set_id</td>
<td>int</td>
<td>是</td>
<td>集群id</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>是</td>
<td>业务数据</td>
</tr>
</tbody>
</table>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_parent_id</td>
<td>int</td>
<td>是</td>
<td>父实例节点的ID，当前实例节点的上一级实例节点，在拓扑结构中对于module一般指的是set的bk_set_id</td>
</tr>
<tr>
<td>bk_module_name</td>
<td>string</td>
<td>是</td>
<td>模块名</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_token&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;123456789&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;bk_set_id&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;bk_parent_id&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
        <span class="s2">&quot;bk_module_name&quot;</span><span class="p">:</span> <span class="s2">&quot;test&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;bk_module_id&quot;</span><span class="p">:</span> <span class="mi">10</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/create_object/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>创建模型</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>creator</td>
<td>string</td>
<td>否</td>
<td>本条数据创建者</td>
</tr>
<tr>
<td>bk_classification_id</td>
<td>string</td>
<td>是</td>
<td>对象模型的分类ID，只能用英文字母序列命名</td>
</tr>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>是</td>
<td>对象模型的ID，只能用英文字母序列命名</td>
</tr>
<tr>
<td>bk_obj_name</td>
<td>string</td>
<td>是</td>
<td>对象模型的名字，用于展示，可以使用人类可以阅读的任何语言</td>
</tr>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>是</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_obj_icon</td>
<td>string</td>
<td>否</td>
<td>对象模型的ICON信息，用于前端显示，取值可参考<a href="/static/esb/api_docs/res/cc/modleIcon.json">(modleIcon.json)</a></td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;creator&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_classification_id&quot;</span><span class="p">:</span> <span class="s2">&quot;test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_obj_name&quot;</span><span class="p">:</span> <span class="s2">&quot;test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_obj_icon&quot;</span><span class="p">:</span> <span class="s2">&quot;icon-cc-business&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_obj_id&quot;</span><span class="p">:</span> <span class="s2">&quot;test&quot;</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">1038</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int</td>
<td>新增的数据记录的ID</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/create_object_attribute/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>创建模型属性</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>creator</td>
<td>string</td>
<td>否</td>
<td>数据的创建者</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>否</td>
<td>数据的描述信息</td>
</tr>
<tr>
<td>editable</td>
<td>bool</td>
<td>否</td>
<td>表明数据是否可编辑</td>
</tr>
<tr>
<td>isonly</td>
<td>bool</td>
<td>否</td>
<td>表明唯一性</td>
</tr>
<tr>
<td>ispre</td>
<td>bool</td>
<td>否</td>
<td>true:预置字段,false:非内置字段</td>
</tr>
<tr>
<td>isreadonly</td>
<td>bool</td>
<td>否</td>
<td>true:只读，false:非只读</td>
</tr>
<tr>
<td>isrequired</td>
<td>bool</td>
<td>否</td>
<td>true:必填，false:可选</td>
</tr>
<tr>
<td>option</td>
<td>string</td>
<td>否</td>
<td _min_:_1_max_:_2_="&quot;min&quot;:&quot;1&quot;,&quot;max&quot;:&quot;2&quot;">用户自定义内容，存储的内容及格式由调用方决定，以数字类型为例（</td>
</tr>
<tr>
<td>unit</td>
<td>string</td>
<td>否</td>
<td>单位</td>
</tr>
<tr>
<td>placeholder</td>
<td>string</td>
<td>否</td>
<td>占位符</td>
</tr>
<tr>
<td>bk_property_group</td>
<td>string</td>
<td>否</td>
<td>字段分栏的名字</td>
</tr>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>是</td>
<td>模型ID</td>
</tr>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>是</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_property_id</td>
<td>string</td>
<td>是</td>
<td>模型的属性ID</td>
</tr>
<tr>
<td>bk_property_name</td>
<td>string</td>
<td>是</td>
<td>模型属性名，用于展示</td>
</tr>
<tr>
<td>bk_property_type</td>
<td>string</td>
<td>是</td>
<td>定义的属性字段用于存储数据的数据类型,可取值范围（singlechar,longchar,int,enum,date,time,objuser,singleasst,multiasst,timezone,bool）</td>
</tr>
<tr>
<td>bk_asst_obj_id</td>
<td>string</td>
<td>否</td>
<td>如果有关联其它的模型，那么就必需设置此字段，否则就不需要设置</td>
</tr>
</tbody>
</table>
<h4 id="bk_property_type">bk_property_type</h4>
<table>
<thead>
<tr>
<th>标识</th>
<th>名字</th>
</tr>
</thead>
<tbody>
<tr>
<td>singlechar</td>
<td>短字符</td>
</tr>
<tr>
<td>longchar</td>
<td>长字符</td>
</tr>
<tr>
<td>int</td>
<td>整形</td>
</tr>
<tr>
<td>enum</td>
<td>枚举类型</td>
</tr>
<tr>
<td>date</td>
<td>日期</td>
</tr>
<tr>
<td>time</td>
<td>时间</td>
</tr>
<tr>
<td>objuser</td>
<td>用户</td>
</tr>
<tr>
<td>singleasst</td>
<td>单关联</td>
</tr>
<tr>
<td>multiasst</td>
<td>多关联</td>
</tr>
<tr>
<td>timezone</td>
<td>时区</td>
</tr>
<tr>
<td>bool</td>
<td>布尔</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;creator&quot;</span><span class="p">:</span> <span class="s2">&quot;user&quot;</span><span class="p">,</span>
    <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;editable&quot;</span><span class="p">:</span> <span class="s2">&quot;true&quot;</span><span class="p">,</span>
    <span class="s2">&quot;isonly&quot;</span><span class="p">:</span> <span class="s2">&quot;false&quot;</span><span class="p">,</span>
    <span class="s2">&quot;ispre&quot;</span><span class="p">:</span> <span class="s2">&quot;false&quot;</span><span class="p">,</span>
    <span class="s2">&quot;isreadonly&quot;</span><span class="p">:</span> <span class="s2">&quot;false&quot;</span><span class="p">,</span>
    <span class="s2">&quot;isrequired&quot;</span><span class="p">:</span> <span class="s2">&quot;false&quot;</span><span class="p">,</span>
    <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;min&quot;</span><span class="p">:</span><span class="s2">&quot;1&quot;</span><span class="p">,</span><span class="s2">&quot;max&quot;</span><span class="p">:</span><span class="s2">&quot;2&quot;</span><span class="p">},</span>
    <span class="s2">&quot;unit&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
    <span class="s2">&quot;placeholder&quot;</span><span class="p">:</span> <span class="s2">&quot;test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_property_group&quot;</span><span class="p">:</span> <span class="s2">&quot;default&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_obj_id&quot;</span><span class="p">:</span> <span class="s2">&quot;cc_test_inst&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_property_id&quot;</span><span class="p">:</span> <span class="s2">&quot;cc_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_property_name&quot;</span><span class="p">:</span> <span class="s2">&quot;cc_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_property_type&quot;</span><span class="p">:</span> <span class="s2">&quot;singlechar&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_asst_obj_id&quot;</span><span class="p">:</span> <span class="s2">&quot;test&quot;</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">11142</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int</td>
<td>新增的数据记录的ID</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/create_set/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>创建集群</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务ID</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>是</td>
<td>集群数据</td>
</tr>
</tbody>
</table>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_parent_id</td>
<td>int</td>
<td>是</td>
<td>父节点的ID</td>
</tr>
<tr>
<td>bk_set_name</td>
<td>string</td>
<td>是</td>
<td>集群名字</td>
</tr>
<tr>
<td>default</td>
<td>int</td>
<td>否</td>
<td>0-普通集群，1-内置模块集合，默认为0</td>
</tr>
</tbody>
</table>
<p><strong>注意：其它需要的字段由模型定义</strong></p>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_token&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;123456789&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;bk_parent_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">&quot;bk_set_name&quot;</span><span class="p">:</span> <span class="s2">&quot;test-set&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bk_set_desc&quot;</span><span class="p">:</span> <span class="s2">&quot;test-set&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bk_capacity&quot;</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;description&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;bk_set_id&quot;</span><span class="p">:</span> <span class="mi">1</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/create_user_group/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>新建用户分组</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>是</td>
<td>开发商账号</td>
</tr>
<tr>
<td>group_name</td>
<td>string</td>
<td>是</td>
<td>分组名</td>
</tr>
<tr>
<td>user_list</td>
<td>string</td>
<td>是</td>
<td>分组用户列表，多个用;分割</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;group_name&quot;</span><span class="p">:</span><span class="s2">&quot;Administrators&quot;</span><span class="p">,</span>
    <span class="s2">&quot;user_list&quot;</span><span class="p">:</span><span class="s2">&quot;owen;tt&quot;</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span>
<span class="p">}</span>
</pre></div><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/delete_business/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>删除业务</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务id</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_token&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;123456789&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">1</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{}</span>
<span class="p">}</span>
</pre></div><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/delete_classification/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>删除模型分类</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int</td>
<td>是</td>
<td>分类数据记录ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;delete&quot;</span><span class="p">:{</span>
    <span class="s2">&quot;id&quot;</span> <span class="p">:</span> <span class="mi">0</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="s2">&quot;success&quot;</span>
<span class="p">}</span>
</pre></div><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/delete_custom_query/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>删除自定义api</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务ID</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>是</td>
<td>主键ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_token&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;123456789&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{}</span>
<span class="p">}</span>
</pre></div><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/delete_host/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>删除主机</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_host_id</td>
<td>string</td>
<td>是</td>
<td>主机id，多个以逗号分隔</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_token&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;123456789&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_host_id&quot;</span><span class="p">:</span> <span class="s2">&quot;1,2,3&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{}</span>
<span class="p">}</span>
</pre></div><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/delete_host_lock/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>新加主机锁，如果主机已经加过锁，同样提示加锁成功</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>ip_list</td>
<td>string array</td>
<td>是</td>
<td>无</td>
</tr>
<tr>
<td>bk_cloud_id</td>
<td>int</td>
<td>否</td>
<td>0</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
   <span class="s2">&quot;ip_list&quot;</span><span class="p">:[</span><span class="s2">&quot;127.0.0.1&quot;</span><span class="p">],</span>
   <span class="s2">&quot;bk_cloud_id&quot;</span><span class="p">:</span><span class="mi">0</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;bk_error_code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;bk_error_msg&quot;</span><span class="p">:</span> <span class="s2">&quot;success&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="n">null</span>
<span class="p">}</span>
</pre></div><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/delete_inst/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>删除对象实例</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>是</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>是</td>
<td>模型ID，删除对象为云区域时为"plat"</td>
</tr>
<tr>
<td>bk_inst_id</td>
<td>int</td>
<td>是</td>
<td>实例ID，删除云区域时为云区域ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_obj_id&quot;</span><span class="p">:</span> <span class="s2">&quot;test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;delete&quot;</span><span class="p">:{</span>
    <span class="s2">&quot;bk_inst_id&quot;</span><span class="p">:</span> <span class="mi">0</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="s2">&quot;success&quot;</span>
<span class="p">}</span>
</pre></div><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/delete_instance_association/</p>
<h3 id="_2">请求方法</h3>
<p>DELETE</p>
<h3 id="_3">功能描述</h3>
<p>删除模型实例之间的关联关系。</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必填</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int64</td>
<td>Yes</td>
<td>模型实例关联关系的唯一身份id</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="nt">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="s2">&quot;success&quot;</span>
<span class="p">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/delete_module/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>删除模块</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务id</td>
</tr>
<tr>
<td>bk_set_id</td>
<td>int</td>
<td>是</td>
<td>集群id</td>
</tr>
<tr>
<td>bk_module_id</td>
<td>int</td>
<td>是</td>
<td>模块id</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_token&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;123456789&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;bk_set_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;bk_module_id&quot;</span><span class="p">:</span> <span class="mi">1</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{}</span>
<span class="p">}</span>
</pre></div><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/delete_object/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>删除模型</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int</td>
<td>否</td>
<td>被删除的数据记录的ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
      <span class="s2">&quot;delete&quot;</span><span class="p">:{</span>
          <span class="s2">&quot;id&quot;</span> <span class="p">:</span> <span class="mi">0</span>
      <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="s2">&quot;success&quot;</span>
<span class="p">}</span>
</pre></div><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/delete_object_attribute/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>删除对象模型属性</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int</td>
<td>否</td>
<td>被删除的数据记录的唯一标识ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;delete&quot;</span><span class="p">:{</span>
    <span class="s2">&quot;id&quot;</span> <span class="p">:</span> <span class="mi">0</span>
    <span class="p">}</span>    
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="s2">&quot;success&quot;</span>
<span class="p">}</span>
</pre></div><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/delete_process_module_bind/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>解绑进程模块</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>是</td>
<td>开发商ID</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务ID</td>
</tr>
<tr>
<td>bk_process_id</td>
<td>int</td>
<td>是</td>
<td>进程ID</td>
</tr>
<tr>
<td>bk_module_name</td>
<td>string</td>
<td>是</td>
<td>模块名</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="s2">&quot;success&quot;</span>
<span class="p">}</span>
</pre></div><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/delete_set/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>删除集群</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务id</td>
</tr>
<tr>
<td>bk_set_id</td>
<td>int</td>
<td>是</td>
<td>集群id</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_token&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;123456789&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;bk_set_id&quot;</span><span class="p">:</span> <span class="mi">10</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{}</span>
<span class="p">}</span>
</pre></div><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/delete_user_group/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>删除用户分组</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>是</td>
<td>开发商账号</td>
</tr>
<tr>
<td>group_id</td>
<td>string</td>
<td>是</td>
<td>分组ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;delete&quot;</span><span class="p">:{</span>
        <span class="s2">&quot;group_id&quot;</span><span class="p">:</span> <span class="s2">&quot;test&quot;</span>    
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span>
<span class="p">}</span>
</pre></div><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/find_host_by_module/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>根据模块ID查询主机</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>metadata</td>
<td>object</td>
<td>是</td>
<td>请求元数据</td>
</tr>
<tr>
<td>bk_module_ids</td>
<td>int array</td>
<td>是</td>
<td>模块ID数组</td>
</tr>
<tr>
<td>page</td>
<td>object</td>
<td>是</td>
<td>分页参数</td>
</tr>
</tbody>
</table>
<p>metadata参数</p>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>label</td>
<td>string map</td>
<td>是</td>
<td>请求中需要携带的信息，例如业务ID</td>
</tr>
</tbody>
</table>
<p>label参数</p>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>string</td>
<td>是</td>
<td>业务ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;metadata&quot;</span><span class="p">:{</span>
        <span class="s2">&quot;label&quot;</span><span class="p">:{</span>
            <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span><span class="s2">&quot;3&quot;</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="s2">&quot;bk_module_ids&quot;</span><span class="p">:[</span>
        <span class="mi">56</span>
    <span class="p">],</span>
    <span class="s2">&quot;page&quot;</span><span class="p">:{</span>
        <span class="s2">&quot;start&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;limit&quot;</span><span class="p">:</span><span class="mi">10</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span><span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;bk_error_code&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;bk_error_msg&quot;</span><span class="p">:</span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:{</span>
        <span class="s2">&quot;count&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
        <span class="s2">&quot;info&quot;</span><span class="p">:[</span>
            <span class="p">{</span>
                <span class="s2">&quot;biz&quot;</span><span class="p">:[</span>
                    <span class="p">{</span>
                        <span class="s2">&quot;bk_biz_developer&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>
                        <span class="s2">&quot;bk_biz_maintainer&quot;</span><span class="p">:</span><span class="s2">&quot;admin&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;bk_biz_name&quot;</span><span class="p">:</span><span class="s2">&quot;蓝鲸&quot;</span>
                    <span class="p">}</span>
                <span class="p">],</span>
                <span class="s2">&quot;host&quot;</span><span class="p">:{</span>
                    <span class="s2">&quot;bk_asset_id&quot;</span><span class="p">:</span><span class="s2">&quot;DKUXHBUH189&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;bk_bak_operator&quot;</span><span class="p">:</span><span class="s2">&quot;admin&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;bk_cloud_id&quot;</span><span class="p">:[</span>
                        <span class="p">{</span>
                            <span class="s2">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;bk_obj_id&quot;</span><span class="p">:</span><span class="s2">&quot;plat&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;bk_obj_icon&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;bk_inst_id&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
                            <span class="s2">&quot;bk_obj_name&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;bk_inst_name&quot;</span><span class="p">:</span><span class="s2">&quot;default area&quot;</span>
                        <span class="p">}</span>
                    <span class="p">],</span>
                    <span class="s2">&quot;bk_comment&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;bk_cpu&quot;</span><span class="p">:</span><span class="mi">8</span><span class="p">,</span>
                    <span class="s2">&quot;bk_cpu_mhz&quot;</span><span class="p">:</span><span class="mi">2609</span><span class="p">,</span>
                    <span class="s2">&quot;bk_cpu_module&quot;</span><span class="p">:</span><span class="s2">&quot;E5-2620&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;bk_disk&quot;</span><span class="p">:</span><span class="mi">300000</span><span class="p">,</span>
                    <span class="s2">&quot;bk_host_id&quot;</span><span class="p">:</span><span class="mi">17</span><span class="p">,</span>
                    <span class="s2">&quot;bk_host_innerip&quot;</span><span class="p">:</span><span class="s2">&quot;192.168.1.1&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;bk_host_name&quot;</span><span class="p">:</span><span class="s2">&quot;nginx-1&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;bk_host_outerip&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;bk_isp_name&quot;</span><span class="p">:</span><span class="n">null</span><span class="p">,</span>
                    <span class="s2">&quot;bk_mac&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;bk_mem&quot;</span><span class="p">:</span><span class="mi">32000</span><span class="p">,</span>
                    <span class="s2">&quot;bk_os_bit&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span>
                <span class="p">},</span>
                <span class="s2">&quot;module&quot;</span><span class="p">:[</span>
                    <span class="p">{</span>
                        <span class="s2">&quot;TopModuleName&quot;</span><span class="p">:</span><span class="s2">&quot;蓝鲸##公共组件##consul&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;bk_bak_operator&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>
                        <span class="s2">&quot;bk_module_id&quot;</span><span class="p">:</span><span class="mi">35</span><span class="p">,</span>
                        <span class="s2">&quot;bk_module_name&quot;</span><span class="p">:</span><span class="s2">&quot;consul&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;bk_module_type&quot;</span><span class="p">:</span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;bk_parent_id&quot;</span><span class="p">:</span><span class="mi">8</span><span class="p">,</span>
                        <span class="s2">&quot;bk_set_id&quot;</span><span class="p">:</span><span class="mi">8</span><span class="p">,</span>
                        <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;create_time&quot;</span><span class="p">:</span><span class="s2">&quot;2018-05-16T21:03:22.724+08:00&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;default&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
                        <span class="s2">&quot;last_time&quot;</span><span class="p">:</span><span class="s2">&quot;2018-05-16T21:03:22.724+08:00&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;operator&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span>
                    <span class="p">}</span>
                <span class="p">],</span>
                <span class="s2">&quot;set&quot;</span><span class="p">:[</span>
                    <span class="p">{</span>
                        <span class="s2">&quot;TopSetName&quot;</span><span class="p">:</span><span class="s2">&quot;蓝鲸##公共组件&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>
                        <span class="s2">&quot;bk_capacity&quot;</span><span class="p">:</span><span class="n">null</span><span class="p">,</span>
                        <span class="s2">&quot;bk_parent_id&quot;</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span>
                        <span class="s2">&quot;bk_service_status&quot;</span><span class="p">:</span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;bk_set_desc&quot;</span><span class="p">:</span><span class="s2">&quot;111&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;bk_set_env&quot;</span><span class="p">:</span><span class="s2">&quot;3&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;bk_set_id&quot;</span><span class="p">:</span><span class="mi">8</span><span class="p">,</span>
                        <span class="s2">&quot;bk_set_name&quot;</span><span class="p">:</span><span class="s2">&quot;公共组件&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;create_time&quot;</span><span class="p">:</span><span class="s2">&quot;2018-05-16T21:03:22.692+08:00&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;default&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
                        <span class="s2">&quot;description&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;last_time&quot;</span><span class="p">:</span><span class="s2">&quot;2018-05-18T11:50:53.947+08:00&quot;</span>
                    <span class="p">}</span>
                <span class="p">]</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<p>| 名称  | 类型  | 说明 |
|---|---|---|---|
| result | bool | 请求成功与否。true:请求成功；false请求失败 |
| bk_error_code | int | 错误编码。 0表示success，&gt;0表示失败错误 |
| bk_error_msg | string | 请求失败返回的错误信息 |
| data | object| 请求返回的数据 |</p>
<p>data 字段说明：</p>
<p>| 名称  | 类型  | 说明 |
|---|---|---|---|
| count| int| 记录条数 |
| info| object array | 主机实际数据 |</p>
<p>info 字段说明:</p>
<p>| 名称  | 类型  | 说明 |
|---|---|---|---| 
| biz | object array| 主机所属的业务信息 |
| set| object array | 主机所属的集群信息 |
| module| object array| 主机所属的模块信息 |
| host| object | 主机自身属性|</p><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/find_instance_association/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>查询模型的实例关联关系。</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>是否必填</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>metadata</td>
<td>object</td>
<td>Yes</td>
<td>meta data</td>
</tr>
<tr>
<td>condition</td>
<td>string map</td>
<td>Yes</td>
<td>查询条件</td>
</tr>
</tbody>
</table>
<p>metadata params</p>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>是否必填</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>label</td>
<td>string map</td>
<td>Yes</td>
<td>标签信息</td>
</tr>
</tbody>
</table>
<p>label params</p>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>是否必填</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>string</td>
<td>Yes</td>
<td>业务ID</td>
</tr>
</tbody>
</table>
<p>condition params</p>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>是否必填</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_obj_asst_id</td>
<td>string</td>
<td>Yes</td>
<td>模型关联关系的唯一id</td>
</tr>
<tr>
<td>bk_asst_id</td>
<td>string</td>
<td>NO</td>
<td>关联类型的唯一id</td>
</tr>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>NO</td>
<td>源模型id</td>
</tr>
<tr>
<td>bk_asst_id</td>
<td>string</td>
<td>NO</td>
<td>目标模型id</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;condition&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;bk_obj_asst_id&quot;</span><span class="p">:</span> <span class="s2">&quot;bk_switch_belong_bk_host&quot;</span><span class="p">,</span>
        <span class="nt">&quot;bk_asst_id&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="nt">&quot;bk_object_id&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="nt">&quot;bk_asst_obj_id&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;metadata&quot;</span><span class="p">:{</span>
        <span class="nt">&quot;label&quot;</span><span class="p">:{</span>
            <span class="nt">&quot;bk_biz_id&quot;</span><span class="p">:</span><span class="s2">&quot;3&quot;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="nt">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">[{</span>
        <span class="nt">&quot;bk_obj_asst_id&quot;</span><span class="p">:</span> <span class="s2">&quot;bk_switch_belong_bk_host&quot;</span><span class="p">,</span>
        <span class="nt">&quot;bk_obj_id&quot;</span><span class="p">:</span><span class="s2">&quot;switch&quot;</span><span class="p">,</span>
        <span class="nt">&quot;bk_asst_obj_id&quot;</span><span class="p">:</span><span class="s2">&quot;host&quot;</span><span class="p">,</span>
        <span class="nt">&quot;bk_inst_id&quot;</span><span class="p">:</span><span class="mi">12</span><span class="p">,</span>
        <span class="nt">&quot;bk_asst_inst_id&quot;</span><span class="p">:</span><span class="mi">13</span>
    <span class="p">}]</span>
<span class="p">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int64</td>
<td>the association's unique id</td>
</tr>
<tr>
<td>bk_obj_asst_id</td>
<td>string</td>
<td>自动生成的模型关联关系id.</td>
</tr>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>关联关系源模型id</td>
</tr>
<tr>
<td>bk_asst_obj_id</td>
<td>string</td>
<td>关联关系目标模型id</td>
</tr>
<tr>
<td>bk_inst_id</td>
<td>int64</td>
<td>源模型实例id</td>
</tr>
<tr>
<td>bk_asst_inst_id</td>
<td>int64</td>
<td>目标模型实例id</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/find_object_association/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>查询模型的实例之间的关联关系。</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>是否必填</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>metadata</td>
<td>object</td>
<td>Yes</td>
<td>meta data</td>
</tr>
<tr>
<td>condition</td>
<td>string map</td>
<td>Yes</td>
<td>查询条件</td>
</tr>
</tbody>
</table>
<p>metadata params</p>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>是否必填</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>label</td>
<td>string map</td>
<td>Yes</td>
<td>标签信息</td>
</tr>
</tbody>
</table>
<p>label params</p>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>是否必填</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>string</td>
<td>Yes</td>
<td>业务id</td>
</tr>
</tbody>
</table>
<p>condition params</p>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>是否必填</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_asst_id</td>
<td>string</td>
<td>Yes</td>
<td>模型的关联类型唯一id</td>
</tr>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>Yes</td>
<td>源模型id</td>
</tr>
<tr>
<td>bk_asst_id</td>
<td>string</td>
<td>Yes</td>
<td>目标模型id</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;condition&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;bk_asst_id&quot;</span><span class="p">:</span> <span class="s2">&quot;belong&quot;</span><span class="p">,</span>
        <span class="nt">&quot;bk_obj_id&quot;</span><span class="p">:</span> <span class="s2">&quot;bk_switch&quot;</span><span class="p">,</span>
        <span class="nt">&quot;bk_asst_obj_id&quot;</span><span class="p">:</span> <span class="s2">&quot;bk_host&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;metadata&quot;</span><span class="p">:{</span>
        <span class="nt">&quot;label&quot;</span><span class="p">:{</span>
            <span class="nt">&quot;bk_biz_id&quot;</span><span class="p">:</span><span class="s2">&quot;1&quot;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="nt">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="nt">&quot;bk_obj_asst_id&quot;</span><span class="p">:</span> <span class="s2">&quot;bk_switch_belong_bk_host&quot;</span><span class="p">,</span>
            <span class="nt">&quot;bk_obj_asst_name&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="nt">&quot;bk_asst_id&quot;</span><span class="p">:</span> <span class="s2">&quot;belong&quot;</span><span class="p">,</span>
            <span class="nt">&quot;bk_asst_name&quot;</span><span class="p">:</span> <span class="s2">&quot;belong&quot;</span><span class="p">,</span>
            <span class="nt">&quot;bk_obj_id&quot;</span><span class="p">:</span> <span class="s2">&quot;bk_switch&quot;</span><span class="p">,</span>
            <span class="nt">&quot;bk_obj_name&quot;</span><span class="p">:</span> <span class="s2">&quot;switch&quot;</span><span class="p">,</span>
            <span class="nt">&quot;bk_asst_obj_id&quot;</span><span class="p">:</span> <span class="s2">&quot;bk_host&quot;</span><span class="p">,</span>
            <span class="nt">&quot;bk_asst_obj_name&quot;</span><span class="p">:</span> <span class="s2">&quot;host&quot;</span><span class="p">,</span>
            <span class="nt">&quot;mapping&quot;</span><span class="p">:</span> <span class="s2">&quot;1:n&quot;</span><span class="p">,</span>
            <span class="nt">&quot;on_delete&quot;</span><span class="p">:</span> <span class="s2">&quot;none&quot;</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int64</td>
<td>模型关联关系的身份id</td>
</tr>
<tr>
<td>bk_obj_asst_id</td>
<td>string</td>
<td>模型关联关系的唯一id.</td>
</tr>
<tr>
<td>bk_obj_asst_name</td>
<td>string</td>
<td>关联关系的别名.</td>
</tr>
<tr>
<td>bk_asst_id</td>
<td>string</td>
<td>关联类型id</td>
</tr>
<tr>
<td>bk_asst_name</td>
<td>string</td>
<td>关联类型名称</td>
</tr>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>源模型id</td>
</tr>
<tr>
<td>bk_obj_name</td>
<td>string</td>
<td>源模型名称</td>
</tr>
<tr>
<td>bk_asst_obj_id</td>
<td>string</td>
<td>目标模型id</td>
</tr>
<tr>
<td>bk_asst_obj_name</td>
<td>string</td>
<td>目标模型名称</td>
</tr>
<tr>
<td>mapping</td>
<td>string</td>
<td>源模型与目标模型关联关系实例的映身关系，可以是以下中的一种[1:1, 1:n, n:n]</td>
</tr>
<tr>
<td>on_delete</td>
<td>string</td>
<td>删除关联关系时的动作, 取值为以下其中的一种 [none, delete_src, delete_dest], "none" 什么也不做, "delete_src" 删除源模型的实例, "delete_dest" 删除目标模型的实例.</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/get_biz_internal_module/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>获取业务空闲机和故障机模块</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务ID</td>
</tr>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>是</td>
<td>开发商账号</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
  <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;success&quot;</span><span class="p">,</span>
  <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;bk_set_id&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="s2">&quot;bk_set_name&quot;</span><span class="p">:</span> <span class="s2">&quot;空闲机池&quot;</span><span class="p">,</span>
    <span class="s2">&quot;module&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="s2">&quot;bk_module_id&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
        <span class="s2">&quot;bk_module_name&quot;</span><span class="p">:</span> <span class="s2">&quot;空闲机&quot;</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="s2">&quot;bk_module_id&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
        <span class="s2">&quot;bk_module_name&quot;</span><span class="p">:</span> <span class="s2">&quot;故障机&quot;</span>
      <span class="p">}</span>
    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_set_id</td>
<td>int64</td>
<td>空闲机和故障机所属的set的实例ID</td>
</tr>
<tr>
<td>bk_set_name</td>
<td>string</td>
<td>空闲机和故障机所属的set的实例名称</td>
</tr>
</tbody>
</table>
<h4 id="module">module说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_module_id</td>
<td>int64</td>
<td>空闲机或故障机的的实例ID</td>
</tr>
<tr>
<td>bk_module_name</td>
<td>string</td>
<td>空闲机或故障机的实例名称</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/get_custom_query_data/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>根据自定义api获取数据</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务ID</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>是</td>
<td>主键ID</td>
</tr>
<tr>
<td>start</td>
<td>int</td>
<td>是</td>
<td>记录开始位置</td>
</tr>
<tr>
<td>limit</td>
<td>int</td>
<td>是</td>
<td>每页限制条数,最大200</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_token&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;123456789&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;start&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="mi">10</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;count&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">&quot;info&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s2">&quot;biz&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                    <span class="s2">&quot;bk_biz_name&quot;</span><span class="p">:</span> <span class="s2">&quot;test&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;bk_biz_maintainer&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;bk_biz_productor&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span>
                <span class="p">},</span>
                <span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;bk_host_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                    <span class="s2">&quot;bk_host_name&quot;</span><span class="p">:</span> <span class="s2">&quot;nginx-1&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;bk_host_innerip&quot;</span><span class="p">:</span> <span class="s2">&quot;10.0.0.1&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;bk_cloud_id&quot;</span><span class="p">:</span> <span class="mi">0</span>
                <span class="p">},</span>
                <span class="s2">&quot;module&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;bk_module_name&quot;</span><span class="p">:</span> <span class="s2">&quot;module-test&quot;</span>
                <span class="p">},</span>
                <span class="s2">&quot;set&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;bk_set_name&quot;</span><span class="p">:</span> <span class="s2">&quot;set-test&quot;</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>count</td>
<td>int</td>
<td>记录条数</td>
</tr>
<tr>
<td>info</td>
<td>array</td>
<td>主机实际数据</td>
</tr>
</tbody>
</table>
<h4 id="datainfo">data.info</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>biz</td>
<td>dict</td>
<td>主机所属的业务信息</td>
</tr>
<tr>
<td>set</td>
<td>dict</td>
<td>主机所属的集群信息</td>
</tr>
<tr>
<td>module</td>
<td>dict</td>
<td>主机所属的模块信息</td>
</tr>
<tr>
<td>host</td>
<td>dict</td>
<td>主机自身属性</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/get_custom_query_detail/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>获取自定义api详情</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务ID</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>是</td>
<td>主键ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_token&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;123456789&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;api1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;bacfet4kd42325venmcg&quot;</span><span class="p">,</span>
        <span class="s2">&quot;info&quot;</span><span class="p">:</span> <span class="s2">&quot;{</span><span class="se">\&quot;</span><span class="s2">condition</span><span class="se">\&quot;</span><span class="s2">:[{</span><span class="se">\&quot;</span><span class="s2">bk_obj_id</span><span class="se">\&quot;</span><span class="s2">:</span><span class="se">\&quot;</span><span class="s2">biz</span><span class="se">\&quot;</span><span class="s2">,</span><span class="se">\&quot;</span><span class="s2">condition</span><span class="se">\&quot;</span><span class="s2">:[{</span><span class="se">\&quot;</span><span class="s2">field</span><span class="se">\&quot;</span><span class="s2">:</span><span class="se">\&quot;</span><span class="s2">default</span><span class="se">\&quot;</span><span class="s2">,</span><span class="se">\&quot;</span><span class="s2">operator</span><span class="se">\&quot;</span><span class="s2">:</span><span class="se">\&quot;</span><span class="s2">$ne</span><span class="se">\&quot;</span><span class="s2">,</span><span class="se">\&quot;</span><span class="s2">value</span><span class="se">\&quot;</span><span class="s2">:1}],</span><span class="se">\&quot;</span><span class="s2">fields</span><span class="se">\&quot;</span><span class="s2">:[]},{</span><span class="se">\&quot;</span><span class="s2">bk_obj_id</span><span class="se">\&quot;</span><span class="s2">:</span><span class="se">\&quot;</span><span class="s2">set</span><span class="se">\&quot;</span><span class="s2">,</span><span class="se">\&quot;</span><span class="s2">condition</span><span class="se">\&quot;</span><span class="s2">:[],</span><span class="se">\&quot;</span><span class="s2">fields</span><span class="se">\&quot;</span><span class="s2">:[]},{</span><span class="se">\&quot;</span><span class="s2">bk_obj_id</span><span class="se">\&quot;</span><span class="s2">:</span><span class="se">\&quot;</span><span class="s2">module</span><span class="se">\&quot;</span><span class="s2">,</span><span class="se">\&quot;</span><span class="s2">condition</span><span class="se">\&quot;</span><span class="s2">:[],</span><span class="se">\&quot;</span><span class="s2">fields</span><span class="se">\&quot;</span><span class="s2">:[]},{</span><span class="se">\&quot;</span><span class="s2">bk_obj_id</span><span class="se">\&quot;</span><span class="s2">:</span><span class="se">\&quot;</span><span class="s2">host</span><span class="se">\&quot;</span><span class="s2">,</span><span class="se">\&quot;</span><span class="s2">condition</span><span class="se">\&quot;</span><span class="s2">:[{</span><span class="se">\&quot;</span><span class="s2">field</span><span class="se">\&quot;</span><span class="s2">:</span><span class="se">\&quot;</span><span class="s2">bk_host_innerip</span><span class="se">\&quot;</span><span class="s2">,</span><span class="se">\&quot;</span><span class="s2">operator</span><span class="se">\&quot;</span><span class="s2">:</span><span class="se">\&quot;</span><span class="s2">$eq</span><span class="se">\&quot;</span><span class="s2">,</span><span class="se">\&quot;</span><span class="s2">value</span><span class="se">\&quot;</span><span class="s2">:</span><span class="se">\&quot;</span><span class="s2">127.0.0.1</span><span class="se">\&quot;</span><span class="s2">}],</span><span class="se">\&quot;</span><span class="s2">fields</span><span class="se">\&quot;</span><span class="s2">:[</span><span class="se">\&quot;</span><span class="s2">bk_host_innerip</span><span class="se">\&quot;</span><span class="s2">,</span><span class="se">\&quot;</span><span class="s2">bk_host_outerip</span><span class="se">\&quot;</span><span class="s2">,</span><span class="se">\&quot;</span><span class="s2">bk_agent_status</span><span class="se">\&quot;</span><span class="s2">]}]}&quot;</span><span class="p">,</span>
        <span class="s2">&quot;create_user&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
        <span class="s2">&quot;create_time&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-03-27T16:22:43.271+08:00&quot;</span><span class="p">,</span>
        <span class="s2">&quot;modify_user&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
        <span class="s2">&quot;last_time&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-03-27T16:29:26.428+08:00&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>业务ID</td>
</tr>
<tr>
<td>create_time</td>
<td>string</td>
<td>创建时间</td>
</tr>
<tr>
<td>create_user</td>
<td>string</td>
<td>创建者</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>自定义api主键ID</td>
</tr>
<tr>
<td>info</td>
<td>string</td>
<td>自定义api信息</td>
</tr>
<tr>
<td>last_time</td>
<td>string</td>
<td>更新时间</td>
</tr>
<tr>
<td>modify_user</td>
<td>string</td>
<td>修改者</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>自定义api命名</td>
</tr>
</tbody>
</table>
<h4 id="datainfo">data.info</h4>
<p>| 字段      |  类型     |  描述      |
|-----------|------------|--------|------------|
| bk_obj_id |  string   | 对象名,可以为biz,set,module,host,object |
| fields    |  array    | 查询输出字段 |
| condition |  array    | 查询条件 |</p>
<h4 id="datainfocondition">data.info.condition</h4>
<p>| 字段      |  类型     |  描述      |
|-----------|------------|--------|------------|
| field     |  string    | 对象的字段 |
| operator  |  string    | 操作符, $eq为相等，$neq为不等，$in为属于，$nin为不属于 |
| value     |  string    | 字段对应的值 |</p><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/get_host_base_info/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>获取主机基础信息详情</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_host_id</td>
<td>int</td>
<td>是</td>
<td>主机ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_token&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;123456789&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_host_id&quot;</span><span class="p">:</span> <span class="mi">10000</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;bk_property_id&quot;</span><span class="p">:</span> <span class="s2">&quot;bk_host_name&quot;</span><span class="p">,</span>
            <span class="s2">&quot;bk_property_name&quot;</span><span class="p">:</span> <span class="s2">&quot;host name&quot;</span><span class="p">,</span>
            <span class="s2">&quot;bk_property_value&quot;</span><span class="p">:</span> <span class="s2">&quot;centos7&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;bk_property_id&quot;</span><span class="p">:</span> <span class="s2">&quot;bk_host_id&quot;</span><span class="p">,</span>
            <span class="s2">&quot;bk_property_name&quot;</span><span class="p">:</span> <span class="s2">&quot;host ID&quot;</span><span class="p">,</span>
            <span class="s2">&quot;bk_property_value&quot;</span><span class="p">:</span> <span class="s2">&quot;10000&quot;</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_property_id</td>
<td>string</td>
<td>属性id</td>
</tr>
<tr>
<td>bk_property_name</td>
<td>string</td>
<td>属性名称</td>
</tr>
<tr>
<td>bk_property_value</td>
<td>string</td>
<td>属性值</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/get_mainline_object_topo/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>获取主线模型的业务拓扑</p>
<h3 id="_4">请求参数</h3>
<p>无</p>
<h4 id="_5">接口参数</h4>
<h3 id="_6">请求参数示例</h3>
<div class="codehilite"><pre><span></span>
</pre></div>


<h3 id="_7">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
  <span class="s2">&quot;bk_error_code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="s2">&quot;bk_error_msg&quot;</span><span class="p">:</span> <span class="s2">&quot;success&quot;</span><span class="p">,</span>
  <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">&quot;bk_obj_id&quot;</span><span class="p">:</span> <span class="s2">&quot;biz&quot;</span><span class="p">,</span>
      <span class="s2">&quot;bk_obj_name&quot;</span><span class="p">:</span> <span class="s2">&quot;业务&quot;</span><span class="p">,</span>
      <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
      <span class="s2">&quot;bk_next_obj&quot;</span><span class="p">:</span> <span class="s2">&quot;set&quot;</span><span class="p">,</span>
      <span class="s2">&quot;bk_next_name&quot;</span><span class="p">:</span> <span class="s2">&quot;集群&quot;</span><span class="p">,</span>
      <span class="s2">&quot;bk_pre_obj_id&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
      <span class="s2">&quot;bk_pre_obj_name&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">&quot;bk_obj_id&quot;</span><span class="p">:</span> <span class="s2">&quot;set&quot;</span><span class="p">,</span>
      <span class="s2">&quot;bk_obj_name&quot;</span><span class="p">:</span> <span class="s2">&quot;集群&quot;</span><span class="p">,</span>
      <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
      <span class="s2">&quot;bk_next_obj&quot;</span><span class="p">:</span> <span class="s2">&quot;module&quot;</span><span class="p">,</span>
      <span class="s2">&quot;bk_next_name&quot;</span><span class="p">:</span> <span class="s2">&quot;模块&quot;</span><span class="p">,</span>
      <span class="s2">&quot;bk_pre_obj_id&quot;</span><span class="p">:</span> <span class="s2">&quot;biz&quot;</span><span class="p">,</span>
      <span class="s2">&quot;bk_pre_obj_name&quot;</span><span class="p">:</span> <span class="s2">&quot;业务&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">&quot;bk_obj_id&quot;</span><span class="p">:</span> <span class="s2">&quot;module&quot;</span><span class="p">,</span>
      <span class="s2">&quot;bk_obj_name&quot;</span><span class="p">:</span> <span class="s2">&quot;模块&quot;</span><span class="p">,</span>
      <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
      <span class="s2">&quot;bk_next_obj&quot;</span><span class="p">:</span> <span class="s2">&quot;host&quot;</span><span class="p">,</span>
      <span class="s2">&quot;bk_next_name&quot;</span><span class="p">:</span> <span class="s2">&quot;主机&quot;</span><span class="p">,</span>
      <span class="s2">&quot;bk_pre_obj_id&quot;</span><span class="p">:</span> <span class="s2">&quot;set&quot;</span><span class="p">,</span>
      <span class="s2">&quot;bk_pre_obj_name&quot;</span><span class="p">:</span> <span class="s2">&quot;集群&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">&quot;bk_obj_id&quot;</span><span class="p">:</span> <span class="s2">&quot;host&quot;</span><span class="p">,</span>
      <span class="s2">&quot;bk_obj_name&quot;</span><span class="p">:</span> <span class="s2">&quot;主机&quot;</span><span class="p">,</span>
      <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
      <span class="s2">&quot;bk_next_obj&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
      <span class="s2">&quot;bk_next_name&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
      <span class="s2">&quot;bk_pre_obj_id&quot;</span><span class="p">:</span> <span class="s2">&quot;module&quot;</span><span class="p">,</span>
      <span class="s2">&quot;bk_pre_obj_name&quot;</span><span class="p">:</span> <span class="s2">&quot;模块&quot;</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>模型的唯一ID</td>
</tr>
<tr>
<td>bk_obj_name</td>
<td>string</td>
<td>模型名称</td>
</tr>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>开发商帐户名称</td>
</tr>
<tr>
<td>bk_next_obj</td>
<td>string</td>
<td>当前模型的下一个模型唯一ID</td>
</tr>
<tr>
<td>bk_next_name</td>
<td>string</td>
<td>当前模型的下一个模型名称</td>
</tr>
<tr>
<td>bk_pre_obj_id</td>
<td>string</td>
<td>当前模型的前一个模型的唯一ID</td>
</tr>
<tr>
<td>bk_pre_obj_name</td>
<td>string</td>
<td>当前模型的前一个模型的名称</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/get_operation_log/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>获取操作日志</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>condition</td>
<td>object</td>
<td>否</td>
<td>查询条件</td>
</tr>
<tr>
<td>start</td>
<td>int</td>
<td>否</td>
<td>查询起始记录</td>
</tr>
<tr>
<td>limit</td>
<td>int</td>
<td>否</td>
<td>查询限制条数</td>
</tr>
<tr>
<td>sort</td>
<td>string</td>
<td>否</td>
<td>排序字段</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;condition&quot;</span><span class="p">:{</span>
        <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span><span class="mi">99999</span><span class="p">,</span>
        <span class="s2">&quot;ext_key&quot;</span><span class="p">:{</span>
            <span class="s2">&quot;$in&quot;</span><span class="p">:[</span>
                <span class="s2">&quot;127.0.0.23&quot;</span><span class="p">,</span>
                <span class="s2">&quot;127.0.0.22&quot;</span>
            <span class="p">]</span>
        <span class="p">},</span>
        <span class="s2">&quot;op_target&quot;</span><span class="p">:</span><span class="s2">&quot;host&quot;</span><span class="p">,</span>
        <span class="s2">&quot;op_type&quot;</span><span class="p">:</span><span class="s2">&quot;add&quot;</span><span class="p">,</span>
        <span class="s2">&quot;op_time&quot;</span><span class="p">:[</span>
            <span class="s2">&quot;2017-12-25 10:10:10&quot;</span><span class="p">,</span>
            <span class="s2">&quot;2017-12-25 10:10:11&quot;</span>
        <span class="p">]</span>
    <span class="p">},</span>
    <span class="s2">&quot;start&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;limit&quot;</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span>
    <span class="s2">&quot;sort&quot;</span><span class="p">:</span><span class="s2">&quot;-create_time&quot;</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span><span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;bk_error_code&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;bk_error_msg&quot;</span><span class="p">:</span><span class="n">null</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:{</span>
        <span class="s2">&quot;count&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
        <span class="s2">&quot;info&quot;</span><span class="p">:[</span>
            <span class="p">{</span>
                <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
                <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
                <span class="s2">&quot;op_desc&quot;</span><span class="p">:</span><span class="s2">&quot;修改主机&quot;</span><span class="p">,</span>
                <span class="s2">&quot;op_type&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>
                <span class="s2">&quot;op_target&quot;</span><span class="p">:</span><span class="s2">&quot;host&quot;</span><span class="p">,</span>
                <span class="s2">&quot;operator&quot;</span><span class="p">:</span><span class="s2">&quot;admin&quot;</span><span class="p">,</span>
                <span class="s2">&quot;content&quot;</span><span class="p">:{</span>
                    <span class="s2">&quot;pre_data&quot;</span><span class="p">:{</span>
                        <span class="s2">&quot;last_time&quot;</span><span class="p">:</span><span class="s2">&quot;2018-03-08T15:10:42.264+08:00&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;bk_cloud_id&quot;</span><span class="p">:[</span>
                            <span class="p">{</span>
                                <span class="s2">&quot;ref_id&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
                                <span class="s2">&quot;ref_name&quot;</span><span class="p">:</span><span class="s2">&quot;Direct connecting area&quot;</span>
                            <span class="p">}</span>
                        <span class="p">],</span>
                        <span class="s2">&quot;create_time&quot;</span><span class="p">:</span><span class="s2">&quot;2018-03-08T14:23:05.05+08:00&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;bk_host_id&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
                        <span class="s2">&quot;bk_host_innerip&quot;</span><span class="p">:</span><span class="s2">&quot;127.0.01&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;bk_import_from&quot;</span><span class="p">:</span><span class="s2">&quot;1&quot;</span>
                    <span class="p">},</span>
                    <span class="s2">&quot;cur_data&quot;</span><span class="p">:{</span>
                        <span class="s2">&quot;last_time&quot;</span><span class="p">:</span><span class="s2">&quot;2018-03-08T15:10:42.264+08:00&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;bk_cloud_id&quot;</span><span class="p">:[</span>
                            <span class="p">{</span>
                                <span class="s2">&quot;ref_id&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>
                                <span class="s2">&quot;ref_name&quot;</span><span class="p">:</span><span class="s2">&quot;test connecting area&quot;</span>
                            <span class="p">}</span>
                        <span class="p">],</span>
                        <span class="s2">&quot;create_time&quot;</span><span class="p">:</span><span class="s2">&quot;2018-03-08T14:23:05.05+08:00&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;bk_host_id&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
                        <span class="s2">&quot;bk_host_innerip&quot;</span><span class="p">:</span><span class="s2">&quot;127.0.0.1&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;bk_import_from&quot;</span><span class="p">:</span><span class="s2">&quot;1&quot;</span>
                    <span class="p">},</span>
                    <span class="s2">&quot;header&quot;</span><span class="p">:[</span>
                        <span class="p">{</span>
                            <span class="s2">&quot;bk_property_id&quot;</span><span class="p">:</span><span class="s2">&quot;bk_host_innerip&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;bk_property_name&quot;</span><span class="p">:</span><span class="s2">&quot;内网IP&quot;</span>
                        <span class="p">},</span>
                        <span class="p">{</span>
                            <span class="s2">&quot;bk_property_id&quot;</span><span class="p">:</span><span class="s2">&quot;bk_host_outerip&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;bk_property_name&quot;</span><span class="p">:</span><span class="s2">&quot;外网IP&quot;</span>
                        <span class="p">}</span>
                    <span class="p">],</span>
                    <span class="s2">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;map&quot;</span>
                <span class="p">},</span>
                <span class="s2">&quot;ext_key&quot;</span><span class="p">:</span><span class="s2">&quot;127.0.0.1&quot;</span><span class="p">,</span>
                <span class="s2">&quot;op_time&quot;</span><span class="p">:</span><span class="s2">&quot;2018-03-08T03:30:28.056Z&quot;</span><span class="p">,</span>
                <span class="s2">&quot;inst_id&quot;</span><span class="p">:</span><span class="mi">1</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>请求成功与否。true:请求成功；false请求失败</td>
</tr>
<tr>
<td>bk_error_code</td>
<td>int</td>
<td>错误编码。 0表示success，&gt;0表示失败错误</td>
</tr>
<tr>
<td>bk_error_msg</td>
<td>string</td>
<td>请求失败返回的错误信息</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>请求返回的数据</td>
</tr>
</tbody>
</table>
<h4 id="data_1">data 字段说明：</h4>
<p>| 名称  | 类型  | 描述 |
|---|---|---|---|
| count| int| 请求记录条数 |
| info| object array | record information |</p>
<h4 id="info">info 字段说明：</h4>
<p>| 名称  | 类型  | 描述 |
|---|---|---|---|
| bk_supplier_account| string| 开发商ID |
| bk_biz_id| int | 业务ID |
| op_type| string | 操作类型 |
| op_desc| string | 操作描述 |
| op_target| string| 操作对象 |
| operator| string | 操作者 |
| content| object 对象 | 操作内容 |
| ext_key| string  | 附加信息 |
| op_time| string |  操作时间 |
| inst_id| int | 实例ID |</p>
<h4 id="content-content">content  字段说明： content为实际的操作内容</h4><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/get_process_bind_module/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>获取进程绑定模块</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>是</td>
<td>开发商ID</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务ID</td>
</tr>
<tr>
<td>bk_process_id</td>
<td>int</td>
<td>是</td>
<td>进程ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span><span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;bk_error_code&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;bk_error_msg&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:[</span>
        <span class="p">{</span>
            <span class="s2">&quot;bk_module_name&quot;</span><span class="p">:</span><span class="s2">&quot;db&quot;</span><span class="p">,</span>
            <span class="s2">&quot;set_num&quot;</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span>
            <span class="s2">&quot;is_bind&quot;</span><span class="p">:</span><span class="mi">0</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;bk_module_name&quot;</span><span class="p">:</span><span class="s2">&quot;gs&quot;</span><span class="p">,</span>
            <span class="s2">&quot;set_num&quot;</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span>
            <span class="s2">&quot;is_bind&quot;</span><span class="p">:</span><span class="mi">1</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>请求成功与否。true:请求成功；false请求失败</td>
</tr>
<tr>
<td>bk_error_code</td>
<td>int</td>
<td>错误编码。 0表示success，&gt;0表示失败错误</td>
</tr>
<tr>
<td>bk_error_msg</td>
<td>string</td>
<td>请求失败返回的错误信息</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>请求返回的数据</td>
</tr>
</tbody>
</table>
<h4 id="data_1">data 字段说明：</h4>
<p>| 名称  | 类型  | 描述 |
|---|---|---|---|
| bk_module_name| string| 模块名 |
| set_num| int | 所属集群个数 |
| is_bind| int | 是否绑定 |</p><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/get_role_privilege/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>获取角色绑定权限</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>是</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>是</td>
<td>模型ID</td>
</tr>
<tr>
<td>bk_property_id</td>
<td>string</td>
<td>是</td>
<td>模型对应用户角色属性ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_obj_id&quot;</span><span class="p">:</span><span class="s2">&quot;test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_property_id&quot;</span><span class="p">:</span><span class="s2">&quot;test&quot;</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:[</span>
        <span class="s2">&quot;hostupdate&quot;</span><span class="p">,</span>
        <span class="s2">&quot;hosttrans&quot;</span><span class="p">,</span>
        <span class="s2">&quot;topoupdate&quot;</span><span class="p">,</span>
        <span class="s2">&quot;customapi&quot;</span><span class="p">,</span>
        <span class="s2">&quot;proconfig&quot;</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>hostupdate</td>
<td>string</td>
<td>主机编辑</td>
</tr>
<tr>
<td>hosttrans</td>
<td>string</td>
<td>主机转移</td>
</tr>
<tr>
<td>topoupdate</td>
<td>string</td>
<td>主机拓扑编辑</td>
</tr>
<tr>
<td>customapi</td>
<td>string</td>
<td>自定义api</td>
</tr>
<tr>
<td>proconfig</td>
<td>string</td>
<td>进程管理</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/get_user_privilege/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>查询用户权限</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>是</td>
<td>开发商账号</td>
</tr>
<tr>
<td>user_name</td>
<td>string</td>
<td>是</td>
<td>用户名</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;user_name&quot;</span><span class="p">:</span><span class="s2">&quot;test&quot;</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
     <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;bk_group_id&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
        <span class="s2">&quot;sys_config&quot;</span><span class="p">:{</span>
            <span class="s2">&quot;global_busi&quot;</span><span class="p">:[</span>
                <span class="s2">&quot;resource&quot;</span>
            <span class="p">],</span>
            <span class="s2">&quot;back_config&quot;</span><span class="p">:[</span>
                <span class="s2">&quot;event&quot;</span><span class="p">,</span>
                <span class="s2">&quot;model&quot;</span><span class="p">,</span>
                <span class="s2">&quot;audit&quot;</span>
            <span class="p">]</span>
        <span class="p">},</span>
        <span class="s2">&quot;model_config&quot;</span><span class="p">:{</span>
            <span class="s2">&quot;network&quot;</span><span class="p">:{</span>
                <span class="s2">&quot;router&quot;</span><span class="p">:[</span>
                    <span class="s2">&quot;update&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;delete&quot;</span>
                <span class="p">]</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>group_id</td>
<td>string</td>
<td>分组ID</td>
</tr>
<tr>
<td>sys_config</td>
<td>object</td>
<td>系统配置</td>
</tr>
<tr>
<td>back_config</td>
<td>object</td>
<td>后台配置</td>
</tr>
<tr>
<td>model_config</td>
<td>object</td>
<td>模型配置</td>
</tr>
</tbody>
</table>
<h4 id="sys_config-global_busi">sys_config  目前仅有global_busi</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>resource</td>
<td>string</td>
<td>主机资源池</td>
</tr>
</tbody>
</table>
<h4 id="back_config">back_config</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>event</td>
<td>string</td>
<td>事件推送配置</td>
</tr>
<tr>
<td>model</td>
<td>string</td>
<td>模型配置</td>
</tr>
<tr>
<td>audit</td>
<td>string</td>
<td>审计配置</td>
</tr>
</tbody>
</table>
<h4 id="model_config">model_config</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>create</td>
<td>string</td>
<td>新增</td>
</tr>
<tr>
<td>update</td>
<td>string</td>
<td>编辑</td>
</tr>
<tr>
<td>delete</td>
<td>string</td>
<td>删除</td>
</tr>
<tr>
<td>search</td>
<td>string</td>
<td>查询</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/search_biz_inst_topo/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>查询业务实例拓扑</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务id</td>
</tr>
<tr>
<td>level</td>
<td>int</td>
<td>否</td>
<td>拓扑的层级索引，索引取值从0开始，默认值为2，当设置为 -1 的时候会读取完整的业务实例拓扑</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_token&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;123456789&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;success&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;bk_inst_id&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
            <span class="s2">&quot;bk_inst_name&quot;</span><span class="p">:</span> <span class="s2">&quot;blueking&quot;</span><span class="p">,</span>
            <span class="s2">&quot;bk_obj_id&quot;</span><span class="p">:</span> <span class="s2">&quot;biz&quot;</span><span class="p">,</span>
            <span class="s2">&quot;bk_obj_name&quot;</span><span class="p">:</span> <span class="s2">&quot;business&quot;</span><span class="p">,</span>
            <span class="s2">&quot;child&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="s2">&quot;bk_inst_id&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
                    <span class="s2">&quot;bk_inst_name&quot;</span><span class="p">:</span> <span class="s2">&quot;job&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;bk_obj_id&quot;</span><span class="p">:</span> <span class="s2">&quot;set&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;bk_obj_name&quot;</span><span class="p">:</span> <span class="s2">&quot;set&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;child&quot;</span><span class="p">:</span> <span class="p">[</span>
                        <span class="p">{</span>
                            <span class="s2">&quot;bk_inst_id&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
                            <span class="s2">&quot;bk_inst_name&quot;</span><span class="p">:</span> <span class="s2">&quot;job&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;bk_obj_id&quot;</span><span class="p">:</span> <span class="s2">&quot;module&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;bk_obj_name&quot;</span><span class="p">:</span> <span class="s2">&quot;module&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;child&quot;</span><span class="p">:</span> <span class="p">[]</span>
                        <span class="p">}</span>
                    <span class="p">]</span>
                <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_inst_id</td>
<td>int</td>
<td>实例ID</td>
</tr>
<tr>
<td>bk_inst_name</td>
<td>string</td>
<td>实例用于展示的名字</td>
</tr>
<tr>
<td>bk_obj_icon</td>
<td>string</td>
<td>模型图标的名字</td>
</tr>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>模型ID</td>
</tr>
<tr>
<td>bk_obj_name</td>
<td>string</td>
<td>模型用于展示的名字</td>
</tr>
<tr>
<td>child</td>
<td>array</td>
<td>当前节点下的所有实例的集合</td>
</tr>
</tbody>
</table>
<h4 id="child">child</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_inst_id</td>
<td>int</td>
<td>实例ID</td>
</tr>
<tr>
<td>bk_inst_name</td>
<td>string</td>
<td>实例用于展示的名字</td>
</tr>
<tr>
<td>bk_obj_icon</td>
<td>string</td>
<td>模型图标的名字</td>
</tr>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>模型ID</td>
</tr>
<tr>
<td>bk_obj_name</td>
<td>string</td>
<td>模型用于展示的名字</td>
</tr>
<tr>
<td>child</td>
<td>array</td>
<td>当前节点下的所有实例的集合</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/search_business/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>查询业务</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>fields</td>
<td>array</td>
<td>否</td>
<td>指定查询的字段，参数为业务的任意属性，如果不填写字段信息，系统会返回业务的所有字段</td>
</tr>
<tr>
<td>condition</td>
<td>dict</td>
<td>否</td>
<td>查询条件，参数为业务的任意属性，如果不写代表搜索全部数据</td>
</tr>
<tr>
<td>page</td>
<td>dict</td>
<td>否</td>
<td>分页条件</td>
</tr>
</tbody>
</table>
<h4 id="page">page</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>start</td>
<td>int</td>
<td>是</td>
<td>记录开始位置</td>
</tr>
<tr>
<td>limit</td>
<td>int</td>
<td>是</td>
<td>每页限制条数,最大200</td>
</tr>
<tr>
<td>sort</td>
<td>string</td>
<td>否</td>
<td>排序字段，通过在字段前面增加 -，如 sort:&#34;-field&#34; 可以表示按照字段 field降序</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_token&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;123456789&quot;</span><span class="p">,</span>
    <span class="s2">&quot;fields&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bk_biz_name&quot;</span>
    <span class="p">],</span>
    <span class="s2">&quot;condition&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;bk_biz_name&quot;</span><span class="p">:</span> <span class="s2">&quot;esb-test&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;page&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;start&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
        <span class="s2">&quot;sort&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;count&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">&quot;info&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="s2">&quot;bk_biz_name&quot;</span><span class="p">:</span> <span class="s2">&quot;esb-test&quot;</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>count</td>
<td>int</td>
<td>记录条数</td>
</tr>
<tr>
<td>info</td>
<td>array</td>
<td>业务实际数据</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/search_classifications/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>查询模型分类</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<p>| 字段                 |  类型      | 必选   |  描述                                                    |
|---|---|---|---|---|
| bk_supplier_account  | string     | 否     | 开发商账号                                               |</p>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
     <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span>
         <span class="p">{</span>
            <span class="s2">&quot;bk_classification_icon&quot;</span><span class="p">:</span> <span class="s2">&quot;icon-cc-business&quot;</span><span class="p">,</span>
            <span class="s2">&quot;bk_classification_id&quot;</span><span class="p">:</span> <span class="s2">&quot;bk_host_manage&quot;</span><span class="p">,</span>
            <span class="s2">&quot;bk_classification_name&quot;</span><span class="p">:</span> <span class="s2">&quot;主机管理&quot;</span><span class="p">,</span>
            <span class="s2">&quot;bk_classification_type&quot;</span><span class="p">:</span> <span class="s2">&quot;inner&quot;</span><span class="p">,</span>
            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">1</span>
         <span class="p">}</span>
     <span class="p">]</span>
<span class="p">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_classification_id</td>
<td>string</td>
<td>分类ID，英文描述用于系统内部使用</td>
</tr>
<tr>
<td>bk_classification_name</td>
<td>string</td>
<td>分类名</td>
</tr>
<tr>
<td>bk_classification_type</td>
<td>string</td>
<td>用于对分类进行分类（如：inner代码为内置分类，空字符串为自定义分类）</td>
</tr>
<tr>
<td>bk_classification_icon</td>
<td>string</td>
<td>模型分类的图标,取值可参考，取值可参考<a href="resource_define/classIcon.json">(classIcon.json)</a></td>
</tr>
<tr>
<td>id</td>
<td>int</td>
<td>数据记录ID</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/search_custom_query/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>查询自定义api</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务ID</td>
</tr>
<tr>
<td>condition</td>
<td>dict</td>
<td>否</td>
<td>查询条件，condition 字段为自定义api的属性字段, 可以是create_user,modify_user, name</td>
</tr>
<tr>
<td>start</td>
<td>int</td>
<td>是</td>
<td>记录开始位置</td>
</tr>
<tr>
<td>limit</td>
<td>int</td>
<td>是</td>
<td>每页限制条数,最大200</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_token&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;123456789&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;condition&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;api1&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;start&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="mi">200</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;count&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">&quot;info&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;bacfet4kd42325venmcg&quot;</span><span class="p">,</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;api1&quot;</span><span class="p">,</span>
                <span class="s2">&quot;info&quot;</span><span class="p">:</span> <span class="s2">&quot;{</span><span class="se">\&quot;</span><span class="s2">condition</span><span class="se">\&quot;</span><span class="s2">:[{</span><span class="se">\&quot;</span><span class="s2">bk_obj_id</span><span class="se">\&quot;</span><span class="s2">:</span><span class="se">\&quot;</span><span class="s2">biz</span><span class="se">\&quot;</span><span class="s2">,</span><span class="se">\&quot;</span><span class="s2">condition</span><span class="se">\&quot;</span><span class="s2">:[{</span><span class="se">\&quot;</span><span class="s2">field</span><span class="se">\&quot;</span><span class="s2">:</span><span class="se">\&quot;</span><span class="s2">default</span><span class="se">\&quot;</span><span class="s2">,</span><span class="se">\&quot;</span><span class="s2">operator</span><span class="se">\&quot;</span><span class="s2">:</span><span class="se">\&quot;</span><span class="s2">$ne</span><span class="se">\&quot;</span><span class="s2">,</span><span class="se">\&quot;</span><span class="s2">value</span><span class="se">\&quot;</span><span class="s2">:1}],</span><span class="se">\&quot;</span><span class="s2">fields</span><span class="se">\&quot;</span><span class="s2">:[]},{</span><span class="se">\&quot;</span><span class="s2">bk_obj_id</span><span class="se">\&quot;</span><span class="s2">:</span><span class="se">\&quot;</span><span class="s2">set</span><span class="se">\&quot;</span><span class="s2">,</span><span class="se">\&quot;</span><span class="s2">condition</span><span class="se">\&quot;</span><span class="s2">:[],</span><span class="se">\&quot;</span><span class="s2">fields</span><span class="se">\&quot;</span><span class="s2">:[]},{</span><span class="se">\&quot;</span><span class="s2">bk_obj_id</span><span class="se">\&quot;</span><span class="s2">:</span><span class="se">\&quot;</span><span class="s2">module</span><span class="se">\&quot;</span><span class="s2">,</span><span class="se">\&quot;</span><span class="s2">condition</span><span class="se">\&quot;</span><span class="s2">:[],</span><span class="se">\&quot;</span><span class="s2">fields</span><span class="se">\&quot;</span><span class="s2">:[]},{</span><span class="se">\&quot;</span><span class="s2">bk_obj_id</span><span class="se">\&quot;</span><span class="s2">:</span><span class="se">\&quot;</span><span class="s2">host</span><span class="se">\&quot;</span><span class="s2">,</span><span class="se">\&quot;</span><span class="s2">condition</span><span class="se">\&quot;</span><span class="s2">:[{</span><span class="se">\&quot;</span><span class="s2">field</span><span class="se">\&quot;</span><span class="s2">:</span><span class="se">\&quot;</span><span class="s2">bk_host_innerip</span><span class="se">\&quot;</span><span class="s2">,</span><span class="se">\&quot;</span><span class="s2">operator</span><span class="se">\&quot;</span><span class="s2">:</span><span class="se">\&quot;</span><span class="s2">$eq</span><span class="se">\&quot;</span><span class="s2">,</span><span class="se">\&quot;</span><span class="s2">value</span><span class="se">\&quot;</span><span class="s2">:</span><span class="se">\&quot;</span><span class="s2">127.0.0.1</span><span class="se">\&quot;</span><span class="s2">}],</span><span class="se">\&quot;</span><span class="s2">fields</span><span class="se">\&quot;</span><span class="s2">:[</span><span class="se">\&quot;</span><span class="s2">bk_host_innerip</span><span class="se">\&quot;</span><span class="s2">,</span><span class="se">\&quot;</span><span class="s2">bk_host_outerip</span><span class="se">\&quot;</span><span class="s2">,</span><span class="se">\&quot;</span><span class="s2">bk_agent_status</span><span class="se">\&quot;</span><span class="s2">]}]}&quot;</span><span class="p">,</span>
                <span class="s2">&quot;create_user&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
                <span class="s2">&quot;create_time&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-03-27T16:22:43.271+08:00&quot;</span><span class="p">,</span>
                <span class="s2">&quot;modify_user&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
                <span class="s2">&quot;last_time&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-03-27T16:29:26.428+08:00&quot;</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>count</td>
<td>int</td>
<td>记录条数</td>
</tr>
<tr>
<td>info</td>
<td>array</td>
<td>自定义api数据</td>
</tr>
</tbody>
</table>
<h4 id="datainfo">data.info</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>业务ID</td>
</tr>
<tr>
<td>create_time</td>
<td>string</td>
<td>创建时间</td>
</tr>
<tr>
<td>create_user</td>
<td>string</td>
<td>创建者</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>自定义api主键ID</td>
</tr>
<tr>
<td>info</td>
<td>string</td>
<td>自定义api信息</td>
</tr>
<tr>
<td>last_time</td>
<td>string</td>
<td>更新时间</td>
</tr>
<tr>
<td>modify_user</td>
<td>string</td>
<td>修改者</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>自定义api命名</td>
</tr>
</tbody>
</table>
<h4 id="datainfoinfo">data.info.info</h4>
<p>| 字段      |  类型     |  描述      |
|-----------|------------|--------|------------|
| bk_obj_id |  string   | 对象名,可以为biz,set,module,host,object |
| fields    |  array    | 查询输出字段 |
| condition |  array    | 查询条件 |</p>
<h4 id="datainfoinfocondition">data.info.info.condition</h4>
<p>| 字段      |  类型     |  描述      |
|-----------|------------|--------|------------|
| field     |  string    | 对象的字段 |
| operator  |  string    | 操作符, $eq为相等，$neq为不等，$in为属于，$nin为不属于 |
| value     |  string    | 字段对应的值 |</p><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/search_group_privilege/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>查询分组权限</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>是</td>
<td>开发商账号</td>
</tr>
<tr>
<td>group_id</td>
<td>string</td>
<td>是</td>
<td>分组ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;group_id&quot;</span><span class="p">:</span><span class="s2">&quot;test&quot;</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
         <span class="s2">&quot;group_id&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
         <span class="s2">&quot;sys_config&quot;</span><span class="p">:{</span>
             <span class="s2">&quot;global_busi&quot;</span><span class="p">:[</span>
                 <span class="s2">&quot;resource&quot;</span>
             <span class="p">],</span>
             <span class="s2">&quot;back_config&quot;</span><span class="p">:[</span>
                 <span class="s2">&quot;event&quot;</span><span class="p">,</span>
                 <span class="s2">&quot;model&quot;</span><span class="p">,</span>
                 <span class="s2">&quot;audit&quot;</span>
             <span class="p">]</span>
         <span class="p">},</span>
         <span class="s2">&quot;model_config&quot;</span><span class="p">:{</span>
             <span class="s2">&quot;network&quot;</span><span class="p">:{</span>
                 <span class="s2">&quot;router&quot;</span><span class="p">:[</span>
                     <span class="s2">&quot;update&quot;</span><span class="p">,</span>
                     <span class="s2">&quot;delete&quot;</span>
                 <span class="p">]</span>
             <span class="p">}</span>
         <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>group_id</td>
<td>string</td>
<td>分组ID</td>
</tr>
<tr>
<td>sys_config</td>
<td>object</td>
<td>系统配置</td>
</tr>
<tr>
<td>back_config</td>
<td>object</td>
<td>后台配置</td>
</tr>
<tr>
<td>model_config</td>
<td>object</td>
<td>模型配置</td>
</tr>
</tbody>
</table>
<h4 id="sys_config-global_busi">sys_config  目前仅有global_busi</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>resource</td>
<td>string</td>
<td>主机资源池</td>
</tr>
</tbody>
</table>
<h4 id="back_config">back_config</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>event</td>
<td>string</td>
<td>事件推送配置</td>
</tr>
<tr>
<td>model</td>
<td>string</td>
<td>模型配置</td>
</tr>
<tr>
<td>audit</td>
<td>string</td>
<td>审计配置</td>
</tr>
</tbody>
</table>
<h4 id="model_config">model_config</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>create</td>
<td>string</td>
<td>新增</td>
</tr>
<tr>
<td>update</td>
<td>string</td>
<td>编辑</td>
</tr>
<tr>
<td>delete</td>
<td>string</td>
<td>删除</td>
</tr>
<tr>
<td>search</td>
<td>string</td>
<td>查询</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/search_host/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>根据条件查询主机</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>否</td>
<td>业务ID</td>
</tr>
<tr>
<td>ip</td>
<td>dict</td>
<td>否</td>
<td>主机ip列表</td>
</tr>
<tr>
<td>condition</td>
<td>array</td>
<td>否</td>
<td>组合条件</td>
</tr>
<tr>
<td>page</td>
<td>dict</td>
<td>否</td>
<td>查询条件</td>
</tr>
<tr>
<td>pattern</td>
<td>string</td>
<td>否</td>
<td>按表达式搜索</td>
</tr>
</tbody>
</table>
<h4 id="ip">ip</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td>array</td>
<td>否</td>
<td>ip 数组</td>
</tr>
<tr>
<td>exact</td>
<td>int</td>
<td>否</td>
<td>是否根据ip精确搜索</td>
</tr>
<tr>
<td>flag</td>
<td>string</td>
<td>否</td>
<td>bk_host_innerip只匹配内网ip,bk_host_outerip只匹配外网ip, bk_host_innerip,bk_host_outerip同时匹配</td>
</tr>
</tbody>
</table>
<h4 id="condition">condition</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>否</td>
<td>对象名,可以为biz,set,module,host,object</td>
</tr>
<tr>
<td>fields</td>
<td>array</td>
<td>否</td>
<td>查询输出字段</td>
</tr>
<tr>
<td>condition</td>
<td>array</td>
<td>否</td>
<td>查询条件</td>
</tr>
</tbody>
</table>
<h4 id="conditioncondition">condition.condition</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>field</td>
<td>string</td>
<td>否</td>
<td>对象的字段</td>
</tr>
<tr>
<td>operator</td>
<td>string</td>
<td>否</td>
<td>操作符, $eq为相等，$neq为不等，$in为属于，$nin为不属于</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>否</td>
<td>字段对应的值</td>
</tr>
</tbody>
</table>
<h4 id="page">page</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>start</td>
<td>int</td>
<td>是</td>
<td>记录开始位置</td>
</tr>
<tr>
<td>limit</td>
<td>int</td>
<td>是</td>
<td>每页限制条数,最大200</td>
</tr>
<tr>
<td>sort</td>
<td>string</td>
<td>否</td>
<td>排序字段</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_token&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;123456789&quot;</span><span class="p">,</span>
    <span class="s2">&quot;ip&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">[],</span>
        <span class="s2">&quot;exact&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">&quot;flag&quot;</span><span class="p">:</span> <span class="s2">&quot;bk_host_innerip|bk_host_outerip&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;condition&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;bk_obj_id&quot;</span><span class="p">:</span> <span class="s2">&quot;host&quot;</span><span class="p">,</span>
            <span class="s2">&quot;fields&quot;</span><span class="p">:</span> <span class="p">[],</span>
            <span class="s2">&quot;condition&quot;</span><span class="p">:</span> <span class="p">[]</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;bk_obj_id&quot;</span><span class="p">:</span><span class="s2">&quot;module&quot;</span><span class="p">,</span>
            <span class="s2">&quot;fields&quot;</span><span class="p">:[],</span>
            <span class="s2">&quot;condition&quot;</span><span class="p">:[]</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;bk_obj_id&quot;</span><span class="p">:</span><span class="s2">&quot;set&quot;</span><span class="p">,</span>
            <span class="s2">&quot;fields&quot;</span><span class="p">:[],</span>
            <span class="s2">&quot;condition&quot;</span><span class="p">:[]</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;bk_obj_id&quot;</span><span class="p">:</span><span class="s2">&quot;biz&quot;</span><span class="p">,</span>
            <span class="s2">&quot;fields&quot;</span><span class="p">:[],</span>
            <span class="s2">&quot;condition&quot;</span><span class="p">:[]</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;bk_obj_id&quot;</span><span class="p">:</span> <span class="s2">&quot;object&quot;</span><span class="p">,</span>
            <span class="s2">&quot;fields&quot;</span><span class="p">:</span> <span class="p">[],</span>
            <span class="s2">&quot;condition&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="s2">&quot;field&quot;</span><span class="p">:</span> <span class="s2">&quot;bk_inst_id&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;operator&quot;</span><span class="p">:</span> <span class="s2">&quot;$eq&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="mi">76</span>
                <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">&quot;page&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;start&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
        <span class="s2">&quot;sort&quot;</span><span class="p">:</span> <span class="s2">&quot;bk_host_id&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;pattern&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;success&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;count&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">&quot;info&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;bk_cpu&quot;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
                    <span class="s2">&quot;bk_os_name&quot;</span><span class="p">:</span> <span class="s2">&quot;linux centos&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;bk_host_id&quot;</span><span class="p">:</span> <span class="mi">11</span><span class="p">,</span>
                    <span class="s2">&quot;import_from&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;bk_os_version&quot;</span><span class="p">:</span> <span class="s2">&quot;7.2&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;bk_disk&quot;</span><span class="p">:</span> <span class="mi">1789</span><span class="p">,</span>
                    <span class="s2">&quot;operator&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
                    <span class="s2">&quot;create_time&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-03-22T16:52:53.239+08:00&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;bk_mem&quot;</span><span class="p">:</span> <span class="mi">7843</span><span class="p">,</span>
                    <span class="s2">&quot;bk_host_name&quot;</span><span class="p">:</span> <span class="s2">&quot;test-1&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;bk_host_innerip&quot;</span><span class="p">:</span> <span class="s2">&quot;10.0.0.1&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;bk_comment&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;bk_os_bit&quot;</span><span class="p">:</span> <span class="s2">&quot;64-bit&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;bk_outer_mac&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;bk_childid&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
                    <span class="s2">&quot;bk_input_from&quot;</span><span class="p">:</span> <span class="s2">&quot;agent&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;bk_asset_id&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;bk_service_term&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
                    <span class="s2">&quot;bk_cloud_id&quot;</span><span class="p">:</span> <span class="p">[</span>
                        <span class="p">{</span>
                            <span class="s2">&quot;bk_obj_name&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;bk_obj_id&quot;</span><span class="p">:</span> <span class="s2">&quot;plat&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;bk_obj_icon&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;bk_inst_id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                            <span class="s2">&quot;bk_inst_name&quot;</span><span class="p">:</span> <span class="s2">&quot;default area&quot;</span>
                        <span class="p">}</span>
                    <span class="p">],</span>
                    <span class="s2">&quot;bk_sla&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;bk_cpu_mhz&quot;</span><span class="p">:</span> <span class="mi">2534</span><span class="p">,</span>
                    <span class="s2">&quot;bk_host_outerip&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;bk_os_type&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;bk_mac&quot;</span><span class="p">:</span> <span class="s2">&quot;00:00:00:00:00:00&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;bk_bak_operator&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
                    <span class="s2">&quot;bk_sn&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;bk_cpu_module&quot;</span><span class="p">:</span> <span class="s2">&quot;Intel(R)&quot;</span>
                <span class="p">},</span>
                <span class="s2">&quot;set&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span>
                        <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
                        <span class="s2">&quot;bk_service_status&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;bk_set_env&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                        <span class="s2">&quot;bk_parent_id&quot;</span><span class="p">:</span> <span class="mi">35</span><span class="p">,</span>
                        <span class="s2">&quot;bk_capacity&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
                        <span class="s2">&quot;bk_set_id&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
                        <span class="s2">&quot;create_time&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-06-06T20:53:53.591+08:00&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;123456789&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;bk_set_name&quot;</span><span class="p">:</span> <span class="s2">&quot;test&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;bk_set_desc&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;last_time&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-06-13T14:20:20.149+08:00&quot;</span>
                    <span class="p">}</span>
                <span class="p">],</span>
                <span class="s2">&quot;biz&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span>
                        <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
                        <span class="s2">&quot;language&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;life_cycle&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;bk_biz_developer&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;bk_biz_maintainer&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;bk_biz_tester&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;time_zone&quot;</span><span class="p">:</span> <span class="s2">&quot;Asia/Shanghai&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                        <span class="s2">&quot;create_time&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-03-22T15:49:57.319+08:00&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;bk_biz_productor&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;123456789&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;operator&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;bk_biz_name&quot;</span><span class="p">:</span> <span class="s2">&quot;test&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;last_time&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-06-05T15:03:55.699+08:00&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;bk_supplier_id&quot;</span><span class="p">:</span> <span class="mi">0</span>
                    <span class="p">}</span>
                <span class="p">],</span>
                <span class="s2">&quot;module&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span>
                        <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
                        <span class="s2">&quot;bk_module_id&quot;</span><span class="p">:</span> <span class="mi">38</span><span class="p">,</span>
                        <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                        <span class="s2">&quot;bk_bak_operator&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;create_time&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-03-26T16:56:59.486+08:00&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;bk_module_name&quot;</span><span class="p">:</span> <span class="s2">&quot;test_1&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;123456789&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;operator&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;bk_set_id&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
                        <span class="s2">&quot;bk_parent_id&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
                        <span class="s2">&quot;last_time&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-03-26T16:56:59.486+08:00&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;bk_module_type&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span>
                    <span class="p">}</span>
                <span class="p">]</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>count</td>
<td>int</td>
<td>记录条数</td>
</tr>
<tr>
<td>info</td>
<td>array</td>
<td>主机实际数据</td>
</tr>
</tbody>
</table>
<h4 id="datainfo">data.info</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>biz</td>
<td>array</td>
<td>主机所属的业务信息</td>
</tr>
<tr>
<td>set</td>
<td>array</td>
<td>主机所属的集群信息</td>
</tr>
<tr>
<td>module</td>
<td>array</td>
<td>主机所属的模块信息</td>
</tr>
<tr>
<td>host</td>
<td>dict</td>
<td>主机自身属性</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/search_host_lock/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>查询主机锁</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>ip_list</td>
<td>string array</td>
<td>是</td>
<td>无</td>
</tr>
<tr>
<td>bk_cloud_id</td>
<td>int</td>
<td>否</td>
<td>0</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
   <span class="s2">&quot;ip_list&quot;</span><span class="p">:[</span><span class="s2">&quot;127.0.0.1&quot;</span><span class="p">,</span> <span class="s2">&quot;127.0.0.2&quot;</span><span class="p">],</span>
   <span class="s2">&quot;bk_cloud_id&quot;</span><span class="p">:</span><span class="mi">0</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;bk_error_code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;bk_error_msg&quot;</span><span class="p">:</span> <span class="s2">&quot;success&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;127.0.0.1&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
        <span class="s2">&quot;127.0.0.2&quot;</span><span class="p">:</span> <span class="n">false</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td>map[string]bool</td>
<td>请求返回的数据, key 是 IP，value 是否上锁</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/search_inst/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>查询实例</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>是</td>
<td>模型ID</td>
</tr>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>是</td>
<td>开发商账号,独立部署请填"0"</td>
</tr>
<tr>
<td>page</td>
<td>object</td>
<td>是</td>
<td>分页参数</td>
</tr>
<tr>
<td>condition</td>
<td>object</td>
<td>否</td>
<td>查询条件</td>
</tr>
<tr>
<td>fields</td>
<td>string array</td>
<td>否</td>
<td>查询的字段</td>
</tr>
</tbody>
</table>
<h4 id="page">page</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>start</td>
<td>int</td>
<td>是</td>
<td>记录开始位置</td>
</tr>
<tr>
<td>limit</td>
<td>int</td>
<td>是</td>
<td>每页限制条数,最大200</td>
</tr>
<tr>
<td>sort</td>
<td>string</td>
<td>否</td>
<td>排序字段</td>
</tr>
</tbody>
</table>
<h4 id="condition">condition</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_weblogic</td>
<td>string</td>
<td>是</td>
<td>此处仅为示例数据，需要被设置为模型的标识符，在页面上配置的英文名</td>
</tr>
<tr>
<td>field</td>
<td>string</td>
<td>是</td>
<td>取值为模型的字段名</td>
</tr>
<tr>
<td>operator</td>
<td>string</td>
<td>是</td>
<td>取值为：$regex $eq $ne</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>是</td>
<td>field配置的模型字段名所对应的值</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_obj_id&quot;</span><span class="p">:</span><span class="s2">&quot;test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;page&quot;</span><span class="p">:{</span>
        <span class="s2">&quot;start&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;limit&quot;</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span>
        <span class="s2">&quot;sort&quot;</span><span class="p">:</span><span class="s2">&quot;bk_inst_id&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;fields&quot;</span><span class="p">:</span><span class="s2">&quot;test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;condition&quot;</span><span class="p">:{</span>
        <span class="s2">&quot;bk_weblogic&quot;</span><span class="p">:[</span>
            <span class="p">{</span>
                <span class="s2">&quot;field&quot;</span><span class="p">:</span><span class="s2">&quot;bk_inst_name&quot;</span><span class="p">,</span>
                <span class="s2">&quot;operator&quot;</span><span class="p">:</span><span class="s2">&quot;$regex&quot;</span><span class="p">,</span>
                <span class="s2">&quot;value&quot;</span><span class="p">:</span><span class="s2">&quot;qq&quot;</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;count&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">&quot;info&quot;</span><span class="p">:</span> <span class="p">[{</span>
            <span class="s2">&quot;bk_inst_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">&quot;bk_inst_name&quot;</span><span class="p">:</span> <span class="s2">&quot;test&quot;</span><span class="p">,</span>
            <span class="s2">&quot;bk_obj_id&quot;</span><span class="p">:</span> <span class="s2">&quot;test&quot;</span><span class="p">,</span>
            <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
            <span class="s2">&quot;create_time&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-04-17T14:50:15.993+08:00&quot;</span><span class="p">,</span>
            <span class="s2">&quot;last_time&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-04-17T15:00:49.274+08:00&quot;</span><span class="p">,</span>
            <span class="s2">&quot;test_asst&quot;</span><span class="p">:</span> <span class="p">[{</span>
                <span class="s2">&quot;bk_inst_id&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
                <span class="s2">&quot;bk_inst_name&quot;</span><span class="p">:</span> <span class="s2">&quot;test2&quot;</span><span class="p">,</span>
                <span class="s2">&quot;bk_obj_id&quot;</span><span class="p">:</span> <span class="s2">&quot;test_obj&quot;</span><span class="p">,</span>
                <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;2&quot;</span>
            <span class="p">}]</span>
        <span class="p">}]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>count</td>
<td>int</td>
<td>记录条数</td>
</tr>
<tr>
<td>info</td>
<td>array</td>
<td>实例实际数据</td>
</tr>
</tbody>
</table>
<h4 id="datainfo">data.info</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>string</td>
<td>已存储的关联实例的id</td>
</tr>
<tr>
<td>bk_inst_id</td>
<td>int</td>
<td>新增数据记录的ID</td>
</tr>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>模型ID</td>
</tr>
<tr>
<td>create_time</td>
<td>string</td>
<td>数据创建的时间</td>
</tr>
<tr>
<td>last_time</td>
<td>string</td>
<td>最后修改时间</td>
</tr>
<tr>
<td>test_asst</td>
<td>string</td>
<td>test_asst为此实例的关联字段，返回关联模型对应的实例。</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/search_inst_association_topo/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>查询实例关联拓扑</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>是</td>
<td>无</td>
</tr>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>是</td>
<td>无</td>
</tr>
<tr>
<td>bk_inst_id</td>
<td>int</td>
<td>是</td>
<td>无</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_obj_id&quot;</span><span class="p">:</span><span class="s2">&quot;test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_inst_id&quot;</span><span class="p">:</span><span class="s2">&quot;test&quot;</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span>
       <span class="p">{</span>
           <span class="s2">&quot;curr&quot;</span><span class="p">:</span> <span class="p">{</span>
               <span class="s2">&quot;bk_inst_id&quot;</span><span class="p">:</span> <span class="mi">17</span><span class="p">,</span>
               <span class="s2">&quot;bk_inst_name&quot;</span><span class="p">:</span> <span class="s2">&quot;192.168.1.1&quot;</span><span class="p">,</span>
               <span class="s2">&quot;bk_obj_icon&quot;</span><span class="p">:</span> <span class="s2">&quot;icon-cc-host&quot;</span><span class="p">,</span>
               <span class="s2">&quot;bk_obj_id&quot;</span><span class="p">:</span> <span class="s2">&quot;host&quot;</span><span class="p">,</span>
               <span class="s2">&quot;bk_obj_name&quot;</span><span class="p">:</span> <span class="s2">&quot;主机&quot;</span><span class="p">,</span>
               <span class="s2">&quot;children&quot;</span><span class="p">:</span> <span class="p">[],</span>
               <span class="s2">&quot;count&quot;</span><span class="p">:</span> <span class="mi">0</span>
           <span class="p">},</span>
           <span class="s2">&quot;next&quot;</span><span class="p">:</span> <span class="p">[</span>
               <span class="p">{</span>
                   <span class="s2">&quot;bk_inst_id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                   <span class="s2">&quot;bk_inst_name&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                   <span class="s2">&quot;bk_obj_icon&quot;</span><span class="p">:</span> <span class="s2">&quot;icon-cc-subnet&quot;</span><span class="p">,</span>
                   <span class="s2">&quot;bk_obj_id&quot;</span><span class="p">:</span> <span class="s2">&quot;plat&quot;</span><span class="p">,</span>
                   <span class="s2">&quot;bk_obj_name&quot;</span><span class="p">:</span> <span class="s2">&quot;云区域&quot;</span><span class="p">,</span>
                   <span class="s2">&quot;children&quot;</span><span class="p">:</span> <span class="p">[</span>
                       <span class="p">{</span>
                           <span class="s2">&quot;bk_inst_id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                           <span class="s2">&quot;bk_inst_name&quot;</span><span class="p">:</span> <span class="s2">&quot;default area&quot;</span><span class="p">,</span>
                           <span class="s2">&quot;bk_obj_icon&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                           <span class="s2">&quot;bk_obj_id&quot;</span><span class="p">:</span> <span class="s2">&quot;plat&quot;</span><span class="p">,</span>
                           <span class="s2">&quot;bk_obj_name&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                           <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span>
                       <span class="p">}</span>
                   <span class="p">],</span>
                   <span class="s2">&quot;count&quot;</span><span class="p">:</span> <span class="mi">1</span>
               <span class="p">}</span>
           <span class="p">],</span>
           <span class="s2">&quot;prev&quot;</span><span class="p">:</span> <span class="p">[</span>
               <span class="p">{</span>
                   <span class="s2">&quot;bk_inst_id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                   <span class="s2">&quot;bk_inst_name&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                   <span class="s2">&quot;bk_obj_icon&quot;</span><span class="p">:</span> <span class="s2">&quot;icon-cc-business&quot;</span><span class="p">,</span>
                   <span class="s2">&quot;bk_obj_id&quot;</span><span class="p">:</span> <span class="s2">&quot;rel&quot;</span><span class="p">,</span>
                   <span class="s2">&quot;bk_obj_name&quot;</span><span class="p">:</span> <span class="s2">&quot;关联&quot;</span><span class="p">,</span>
                   <span class="s2">&quot;children&quot;</span><span class="p">:</span> <span class="p">[</span>
                       <span class="p">{</span>
                           <span class="s2">&quot;bk_inst_id&quot;</span><span class="p">:</span> <span class="mi">162</span><span class="p">,</span>
                           <span class="s2">&quot;bk_inst_name&quot;</span><span class="p">:</span> <span class="s2">&quot;test1&quot;</span><span class="p">,</span>
                           <span class="s2">&quot;bk_obj_icon&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                           <span class="s2">&quot;bk_obj_id&quot;</span><span class="p">:</span> <span class="s2">&quot;rel&quot;</span><span class="p">,</span>
                           <span class="s2">&quot;bk_obj_name&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span>
                       <span class="p">}</span>
                   <span class="p">],</span>
                   <span class="s2">&quot;count&quot;</span><span class="p">:</span> <span class="mi">1</span>
               <span class="p">}</span>
           <span class="p">]</span>
       <span class="p">}</span>
   <span class="p">]</span>
<span class="p">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>curr</td>
<td>object</td>
<td>当前实例节点的信息</td>
</tr>
<tr>
<td>next</td>
<td>object array</td>
<td>当前节点的子节点集合</td>
</tr>
<tr>
<td>prev</td>
<td>object array</td>
<td>当前节点的父节点结合</td>
</tr>
</tbody>
</table>
<h4 id="curr">curr</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_inst_id</td>
<td>int</td>
<td>实例ID</td>
</tr>
<tr>
<td>bk_inst_name</td>
<td>string</td>
<td>实例用于展示的名字</td>
</tr>
<tr>
<td>bk_obj_icon</td>
<td>string</td>
<td>模型图标的名字</td>
</tr>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>模型ID</td>
</tr>
<tr>
<td>bk_obj_name</td>
<td>string</td>
<td>模型用于展示的名字</td>
</tr>
<tr>
<td>children</td>
<td>object array</td>
<td>本模型下所有被关联的实例的集合</td>
</tr>
<tr>
<td>count</td>
<td>int</td>
<td>children     包含节点的数量</td>
</tr>
</tbody>
</table>
<h4 id="next">next</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_inst_id</td>
<td>int</td>
<td>实例ID</td>
</tr>
<tr>
<td>bk_inst_name</td>
<td>string</td>
<td>实例用于展示的名字</td>
</tr>
<tr>
<td>bk_obj_icon</td>
<td>string</td>
<td>模型图标的名字</td>
</tr>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>模型ID</td>
</tr>
<tr>
<td>bk_obj_name</td>
<td>string</td>
<td>模型用于展示的名字</td>
</tr>
<tr>
<td>children</td>
<td>object array</td>
<td>本模型下所有被关联的实例的集合</td>
</tr>
<tr>
<td>count</td>
<td>int</td>
<td>children包含节点的数量</td>
</tr>
</tbody>
</table>
<h4 id="nextchildren">next/children</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_inst_id</td>
<td>int</td>
<td>实例ID</td>
</tr>
<tr>
<td>bk_inst_name</td>
<td>string</td>
<td>实例用于展示的名字</td>
</tr>
<tr>
<td>bk_obj_icon</td>
<td>string</td>
<td>模型图标的名字</td>
</tr>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>模型ID</td>
</tr>
<tr>
<td>bk_obj_name</td>
<td>string</td>
<td>模型用于展示的名字</td>
</tr>
</tbody>
</table>
<h4 id="prev">prev</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_inst_id</td>
<td>int</td>
<td>实例ID</td>
</tr>
<tr>
<td>bk_inst_name</td>
<td>string</td>
<td>实例用于展示的名字</td>
</tr>
<tr>
<td>bk_obj_icon</td>
<td>string</td>
<td>模型图标的名字</td>
</tr>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>模型ID</td>
</tr>
<tr>
<td>bk_obj_name</td>
<td>string</td>
<td>模型用于展示的名字</td>
</tr>
<tr>
<td>children</td>
<td>object array</td>
<td>本模型下所有被关联的实例的集合</td>
</tr>
<tr>
<td>count</td>
<td>int</td>
<td>children 包含节点的数量</td>
</tr>
</tbody>
</table>
<h4 id="prevchildren">prev/children 字段说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_inst_id</td>
<td>int</td>
<td>实例ID</td>
</tr>
<tr>
<td>bk_inst_name</td>
<td>string</td>
<td>实例用于展示的名字</td>
</tr>
<tr>
<td>bk_obj_icon</td>
<td>string</td>
<td>模型图标的名字</td>
</tr>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>模型ID</td>
</tr>
<tr>
<td>bk_obj_name</td>
<td>string</td>
<td>模型用于展示的名字</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/search_inst_by_object/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>查询给定模型的实例信息</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>是</td>
<td>自定义模型ID，查询区域时为plat</td>
</tr>
<tr>
<td>fields</td>
<td>array</td>
<td>否</td>
<td>指定查询的字段</td>
</tr>
<tr>
<td>condition</td>
<td>dict</td>
<td>否</td>
<td>查询条件</td>
</tr>
<tr>
<td>page</td>
<td>dict</td>
<td>否</td>
<td>分页条件</td>
</tr>
</tbody>
</table>
<h4 id="page">page</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>start</td>
<td>int</td>
<td>是</td>
<td>记录开始位置</td>
</tr>
<tr>
<td>limit</td>
<td>int</td>
<td>是</td>
<td>每页限制条数,最大200</td>
</tr>
<tr>
<td>sort</td>
<td>string</td>
<td>否</td>
<td>排序字段</td>
</tr>
</tbody>
</table>
<h4 id="fields">fields参数说明</h4>
<p>参数为查询的目标实例对应的模型定义的所有字段</p>
<h4 id="condition">condition 参数说明</h4>
<p>condition 参数为查询的目标实例对应的模型定义的所有字段</p>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_token&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;123456789&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_obj_id&quot;</span><span class="p">:</span> <span class="s2">&quot;plat&quot;</span><span class="p">,</span>
    <span class="s2">&quot;fields&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">],</span>
    <span class="s2">&quot;condition&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="p">},</span>
    <span class="s2">&quot;page&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;start&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
        <span class="s2">&quot;sort&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;success&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;count&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
        <span class="s2">&quot;info&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s2">&quot;bk_cloud_id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="s2">&quot;bk_cloud_name&quot;</span><span class="p">:</span> <span class="s2">&quot;default area&quot;</span><span class="p">,</span>
                <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;123456789&quot;</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>count</td>
<td>int</td>
<td>info 集合中元素的数量</td>
</tr>
<tr>
<td>info</td>
<td>array</td>
<td>查询的模型的实例集合</td>
</tr>
</tbody>
</table>
<h4 id="info">info</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_cloud_id</td>
<td>int</td>
<td>云区域ID</td>
</tr>
<tr>
<td>bk_cloud_name</td>
<td>string</td>
<td>云区域名</td>
</tr>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>开发商账号</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/search_module/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>查询模块</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务id</td>
</tr>
<tr>
<td>bk_set_id</td>
<td>int</td>
<td>是</td>
<td>集群ID</td>
</tr>
<tr>
<td>fields</td>
<td>array</td>
<td>是</td>
<td>查询字段，字段来自于模块定义的属性字段</td>
</tr>
<tr>
<td>condition</td>
<td>dict</td>
<td>是</td>
<td>查询条件，字段来自于模块定义的属性字段</td>
</tr>
<tr>
<td>page</td>
<td>dict</td>
<td>是</td>
<td>分页条件</td>
</tr>
</tbody>
</table>
<h4 id="page">page</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>start</td>
<td>int</td>
<td>是</td>
<td>记录开始位置</td>
</tr>
<tr>
<td>limit</td>
<td>int</td>
<td>是</td>
<td>每页限制条数</td>
</tr>
<tr>
<td>sort</td>
<td>string</td>
<td>否</td>
<td>排序字段</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_token&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;123456789&quot;</span><span class="p">,</span>
    <span class="s2">&quot;fields&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;bk_module_name&quot;</span>
    <span class="p">],</span>
    <span class="s2">&quot;condition&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;bk_module_name&quot;</span><span class="p">:</span> <span class="s2">&quot;test&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;page&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;start&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="mi">10</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;count&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
        <span class="s2">&quot;info&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s2">&quot;bk_module_name&quot;</span><span class="p">:</span> <span class="s2">&quot;cc_service&quot;</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s2">&quot;bk_module_name&quot;</span><span class="p">:</span> <span class="s2">&quot;cmdb&quot;</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>count</td>
<td>int</td>
<td>数据数量</td>
</tr>
<tr>
<td>info</td>
<td>array</td>
<td>结果集，其中，所有字段均为模块定义的属性字段</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/search_objects/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>查询模型</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>creator</td>
<td>string</td>
<td>否</td>
<td>本条数据创建者</td>
</tr>
<tr>
<td>modifier</td>
<td>string</td>
<td>否</td>
<td>本条数据的最后修改人员</td>
</tr>
<tr>
<td>bk_classification_id</td>
<td>string</td>
<td>否</td>
<td>对象模型的分类ID，只能用英文字母序列命名</td>
</tr>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>否</td>
<td>对象模型的ID，只能用英文字母序列命名</td>
</tr>
<tr>
<td>bk_obj_name</td>
<td>string</td>
<td>否</td>
<td>对象模型的名字，用于展示，可以使用人类可以阅读的任何语言</td>
</tr>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;creator&quot;</span><span class="p">:</span> <span class="s2">&quot;user&quot;</span><span class="p">,</span>
    <span class="s2">&quot;modifier&quot;</span><span class="p">:</span> <span class="s2">&quot;user&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_classification_id&quot;</span><span class="p">:</span> <span class="s2">&quot;test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_obj_id&quot;</span><span class="p">:</span> <span class="s2">&quot;biz&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;bk_classification_id&quot;</span><span class="p">:</span> <span class="s2">&quot;bk_organization&quot;</span><span class="p">,</span>
            <span class="s2">&quot;create_time&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-03-08T11:30:28.005+08:00&quot;</span><span class="p">,</span>
            <span class="s2">&quot;creator&quot;</span><span class="p">:</span> <span class="s2">&quot;cc_system&quot;</span><span class="p">,</span>
            <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
            <span class="s2">&quot;bk_ispaused&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
            <span class="s2">&quot;ispre&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
            <span class="s2">&quot;last_time&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
            <span class="s2">&quot;modifier&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;bk_obj_icon&quot;</span><span class="p">:</span> <span class="s2">&quot;icon-XXX&quot;</span><span class="p">,</span>
            <span class="s2">&quot;bk_obj_id&quot;</span><span class="p">:</span> <span class="s2">&quot;XX&quot;</span><span class="p">,</span>
            <span class="s2">&quot;bk_obj_name&quot;</span><span class="p">:</span> <span class="s2">&quot;XXX&quot;</span><span class="p">,</span>
            <span class="s2">&quot;position&quot;</span><span class="p">:</span> <span class="s2">&quot;{</span><span class="se">\&quot;</span><span class="s2">test_obj</span><span class="se">\&quot;</span><span class="s2">:{</span><span class="se">\&quot;</span><span class="s2">x</span><span class="se">\&quot;</span><span class="s2">:-253,</span><span class="se">\&quot;</span><span class="s2">y</span><span class="se">\&quot;</span><span class="s2">:137}}&quot;</span><span class="p">,</span>
            <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int</td>
<td>数据记录的ID</td>
</tr>
<tr>
<td>creator</td>
<td>string</td>
<td>本条数据创建者</td>
</tr>
<tr>
<td>modifier</td>
<td>string</td>
<td>本条数据的最后修改人员</td>
</tr>
<tr>
<td>bk_classification_id</td>
<td>string</td>
<td>对象模型的分类ID，只能用英文字母序列命名</td>
</tr>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>对象模型的ID，只能用英文字母序列命名</td>
</tr>
<tr>
<td>bk_obj_name</td>
<td>string</td>
<td>对象模型的名字，用于展示</td>
</tr>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_ispaused</td>
<td>bool</td>
<td>是否停用, true or false</td>
</tr>
<tr>
<td>ispre</td>
<td>bool</td>
<td>是否预定义, true or false</td>
</tr>
<tr>
<td>bk_obj_icon</td>
<td>string</td>
<td>对象模型的ICON信息，用于前端显示，取值可参考<a href="/static/esb/api_docs/res/cc/modleIcon.json">(modleIcon.json)</a></td>
</tr>
<tr>
<td>position</td>
<td>json object string</td>
<td>用于前端展示的坐标</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/search_object_attribute/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>查询对象模型属性</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>否</td>
<td>模型ID</td>
</tr>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_obj_id&quot;</span><span class="p">:</span> <span class="s2">&quot;test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
   <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span>
       <span class="p">{</span>
           <span class="s2">&quot;bk_asst_obj_id&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
           <span class="s2">&quot;bk_asst_type&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
           <span class="s2">&quot;create_time&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-03-08T11:30:27.898+08:00&quot;</span><span class="p">,</span>
           <span class="s2">&quot;creator&quot;</span><span class="p">:</span> <span class="s2">&quot;cc_system&quot;</span><span class="p">,</span>
           <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
           <span class="s2">&quot;editable&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
           <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">51</span><span class="p">,</span>
           <span class="s2">&quot;isapi&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
           <span class="s2">&quot;isonly&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
           <span class="s2">&quot;ispre&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
           <span class="s2">&quot;isreadonly&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
           <span class="s2">&quot;isrequired&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
           <span class="s2">&quot;last_time&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-03-08T11:30:27.898+08:00&quot;</span><span class="p">,</span>
           <span class="s2">&quot;bk_obj_id&quot;</span><span class="p">:</span> <span class="s2">&quot;process&quot;</span><span class="p">,</span>
           <span class="s2">&quot;option&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
           <span class="s2">&quot;placeholder&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
           <span class="s2">&quot;bk_property_group&quot;</span><span class="p">:</span> <span class="s2">&quot;default&quot;</span><span class="p">,</span>
           <span class="s2">&quot;bk_property_group_name&quot;</span><span class="p">:</span> <span class="s2">&quot;基础信息&quot;</span><span class="p">,</span>
           <span class="s2">&quot;bk_property_id&quot;</span><span class="p">:</span> <span class="s2">&quot;bk_process_name&quot;</span><span class="p">,</span>
           <span class="s2">&quot;bk_property_index&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
           <span class="s2">&quot;bk_property_name&quot;</span><span class="p">:</span> <span class="s2">&quot;进程名称&quot;</span><span class="p">,</span>
           <span class="s2">&quot;bk_property_type&quot;</span><span class="p">:</span> <span class="s2">&quot;singlechar&quot;</span><span class="p">,</span>
           <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
           <span class="s2">&quot;unit&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span>
       <span class="p">}</span>
   <span class="p">]</span>
<span class="p">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>creator</td>
<td>string</td>
<td>数据的创建者</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>数据的描述信息</td>
</tr>
<tr>
<td>editable</td>
<td>bool</td>
<td>表明数据是否可编辑</td>
</tr>
<tr>
<td>isonly</td>
<td>bool</td>
<td>表明唯一性</td>
</tr>
<tr>
<td>ispre</td>
<td>bool</td>
<td>true:预置字段,false:非内置字段</td>
</tr>
<tr>
<td>isreadonly</td>
<td>bool</td>
<td>true:只读，false:非只读</td>
</tr>
<tr>
<td>isrequired</td>
<td>bool</td>
<td>true:必填，false:可选</td>
</tr>
<tr>
<td>option</td>
<td>string</td>
<td>用户自定义内容，存储的内容及格式由调用方决定</td>
</tr>
<tr>
<td>unit</td>
<td>string</td>
<td>单位</td>
</tr>
<tr>
<td>placeholder</td>
<td>string</td>
<td>占位符</td>
</tr>
<tr>
<td>bk_property_group</td>
<td>string</td>
<td>字段分栏的名字</td>
</tr>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>模型ID</td>
</tr>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_property_id</td>
<td>string</td>
<td>模型的属性ID</td>
</tr>
<tr>
<td>bk_property_name</td>
<td>string</td>
<td>模型属性名，用于展示</td>
</tr>
<tr>
<td>bk_property_type</td>
<td>string</td>
<td>定义的属性字段用于存储数据的数据类型 （singlechar,longchar,int,enum,date,time,objuser,singleasst,multiasst,timezone,bool)</td>
</tr>
<tr>
<td>bk_asst_obj_id</td>
<td>string</td>
<td>如果有关联其它的模型，那么就必需设置此字段，否则就不需要设置</td>
</tr>
</tbody>
</table>
<h4 id="bk_property_type">bk_property_type</h4>
<table>
<thead>
<tr>
<th>标识</th>
<th>名字</th>
</tr>
</thead>
<tbody>
<tr>
<td>singlechar</td>
<td>短字符</td>
</tr>
<tr>
<td>longchar</td>
<td>长字符</td>
</tr>
<tr>
<td>int</td>
<td>整形</td>
</tr>
<tr>
<td>enum</td>
<td>枚举类型</td>
</tr>
<tr>
<td>date</td>
<td>日期</td>
</tr>
<tr>
<td>time</td>
<td>时间</td>
</tr>
<tr>
<td>objuser</td>
<td>用户</td>
</tr>
<tr>
<td>singleasst</td>
<td>单关联</td>
</tr>
<tr>
<td>multiasst</td>
<td>多关联</td>
</tr>
<tr>
<td>timezone</td>
<td>时区</td>
</tr>
<tr>
<td>bool</td>
<td>布尔</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/search_object_topo/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>查询普通模型拓扑</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_classification_id</td>
<td>string</td>
<td>是</td>
<td>对象模型的分类ID，只能用英文字母序列命名</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_classification_id&quot;</span><span class="p">:</span> <span class="s2">&quot;test&quot;</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
           <span class="s2">&quot;arrows&quot;</span><span class="p">:</span> <span class="s2">&quot;to&quot;</span><span class="p">,</span>
           <span class="s2">&quot;from&quot;</span><span class="p">:</span> <span class="p">{</span>
               <span class="s2">&quot;bk_classification_id&quot;</span><span class="p">:</span> <span class="s2">&quot;bk_host_manage&quot;</span><span class="p">,</span>
               <span class="s2">&quot;bk_obj_id&quot;</span><span class="p">:</span> <span class="s2">&quot;host&quot;</span><span class="p">,</span>
               <span class="s2">&quot;bk_obj_name&quot;</span><span class="p">:</span> <span class="s2">&quot;主机&quot;</span><span class="p">,</span>
               <span class="s2">&quot;position&quot;</span><span class="p">:</span> <span class="s2">&quot;{</span><span class="se">\&quot;</span><span class="s2">bk_host_manage</span><span class="se">\&quot;</span><span class="s2">:{</span><span class="se">\&quot;</span><span class="s2">x</span><span class="se">\&quot;</span><span class="s2">:-357,</span><span class="se">\&quot;</span><span class="s2">y</span><span class="se">\&quot;</span><span class="s2">:-344},</span><span class="se">\&quot;</span><span class="s2">lhmtest</span><span class="se">\&quot;</span><span class="s2">:{</span><span class="se">\&quot;</span><span class="s2">x</span><span class="se">\&quot;</span><span class="s2">:163,</span><span class="se">\&quot;</span><span class="s2">y</span><span class="se">\&quot;</span><span class="s2">:75}}&quot;</span><span class="p">,</span>
               <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span>
           <span class="p">},</span>
           <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="s2">&quot;bk_cloud_id&quot;</span><span class="p">,</span>
           <span class="s2">&quot;label_name&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
           <span class="s2">&quot;label_type&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
           <span class="s2">&quot;to&quot;</span><span class="p">:</span> <span class="p">{</span>
               <span class="s2">&quot;bk_classification_id&quot;</span><span class="p">:</span> <span class="s2">&quot;bk_host_manage&quot;</span><span class="p">,</span>
               <span class="s2">&quot;bk_obj_id&quot;</span><span class="p">:</span> <span class="s2">&quot;plat&quot;</span><span class="p">,</span>
               <span class="s2">&quot;bk_obj_name&quot;</span><span class="p">:</span> <span class="s2">&quot;云区域&quot;</span><span class="p">,</span>
               <span class="s2">&quot;position&quot;</span><span class="p">:</span> <span class="s2">&quot;{</span><span class="se">\&quot;</span><span class="s2">bk_host_manage</span><span class="se">\&quot;</span><span class="s2">:{</span><span class="se">\&quot;</span><span class="s2">x</span><span class="se">\&quot;</span><span class="s2">:-172,</span><span class="se">\&quot;</span><span class="s2">y</span><span class="se">\&quot;</span><span class="s2">:-160}}&quot;</span><span class="p">,</span>
               <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span>
           <span class="p">}</span>
        <span class="p">}</span>
   <span class="p">]</span>
<span class="p">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>arrows</td>
<td>string</td>
<td>取值 to（单向） 或 to,from（双向）</td>
</tr>
<tr>
<td>label_name</td>
<td>string</td>
<td>关联关系的名字</td>
</tr>
<tr>
<td>label</td>
<td>string</td>
<td>表明From通过哪个字段关联到To的</td>
</tr>
<tr>
<td>from</td>
<td>string</td>
<td>对象模型的英文id，拓扑关系的发起方</td>
</tr>
<tr>
<td>to</td>
<td>string</td>
<td>对象模型的英文ID，拓扑关系的终止方</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/search_object_topo_graphics/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>查询拓扑图</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>scope_type</td>
<td>string</td>
<td>是</td>
<td>图形范围类型,可选global,biz,cls(当前只有global)</td>
</tr>
<tr>
<td>scope_id</td>
<td>string</td>
<td>是</td>
<td>图形范围类型下的ID,如果为global,则填0</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;scope_type&quot;</span><span class="p">:</span> <span class="s2">&quot;global&quot;</span><span class="p">,</span>
    <span class="s2">&quot;scope_id&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span>
       <span class="p">{</span>
           <span class="s2">&quot;node_type&quot;</span><span class="p">:</span> <span class="s2">&quot;obj&quot;</span><span class="p">,</span>
           <span class="s2">&quot;bk_obj_id&quot;</span><span class="p">:</span> <span class="s2">&quot;switch&quot;</span><span class="p">,</span>
           <span class="s2">&quot;bk_inst_id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
           <span class="s2">&quot;node_name&quot;</span><span class="p">:</span> <span class="s2">&quot;switch&quot;</span><span class="p">,</span>
           <span class="s2">&quot;position&quot;</span><span class="p">:</span> <span class="p">{</span>
               <span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
               <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="mi">100</span>
           <span class="p">},</span>
           <span class="s2">&quot;ext&quot;</span><span class="p">:</span> <span class="p">{},</span>
           <span class="s2">&quot;bk_obj_icon&quot;</span><span class="p">:</span> <span class="s2">&quot;icon-cc-switch2&quot;</span><span class="p">,</span>
           <span class="s2">&quot;scope_type&quot;</span><span class="p">:</span> <span class="s2">&quot;global&quot;</span><span class="p">,</span>
           <span class="s2">&quot;scope_id&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
           <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
           <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
           <span class="s2">&quot;assts&quot;</span><span class="p">:</span> <span class="p">[</span>
               <span class="p">{</span>
                   <span class="s2">&quot;bk_asst_type&quot;</span><span class="p">:</span> <span class="s2">&quot;singleasst&quot;</span><span class="p">,</span>
                   <span class="s2">&quot;node_type&quot;</span><span class="p">:</span> <span class="s2">&quot;obj&quot;</span><span class="p">,</span>
                   <span class="s2">&quot;bk_obj_id&quot;</span><span class="p">:</span> <span class="s2">&quot;host&quot;</span><span class="p">,</span>
                   <span class="s2">&quot;bk_inst_id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                   <span class="s2">&quot;bk_object_att_id&quot;</span><span class="p">:</span> <span class="s2">&quot;host_id&quot;</span><span class="p">,</span>
                   <span class="s2">&quot;lable&quot;</span><span class="p">:</span> <span class="p">{}</span>
               <span class="p">}</span>
           <span class="p">]</span>
       <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>node_type</td>
<td>string</td>
<td>节点类型,可选obj,inst</td>
</tr>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>对象模型的ID</td>
</tr>
<tr>
<td>bk_inst_id</td>
<td>int</td>
<td>实例ID</td>
</tr>
<tr>
<td>node_name</td>
<td>string</td>
<td>节点名,当node_type为obj时是模型名称,当node_type为inst时是实例名称</td>
</tr>
<tr>
<td>position</td>
<td>string</td>
<td>节点在图中的位置</td>
</tr>
<tr>
<td>ext</td>
<td>object</td>
<td>前端扩展字段</td>
</tr>
<tr>
<td>bk_obj_icon</td>
<td>string</td>
<td>对象模型的图标</td>
</tr>
<tr>
<td>scope_type</td>
<td>string</td>
<td>图形范围类型,可选global,biz,cls(当前只有global)</td>
</tr>
<tr>
<td>scope_id</td>
<td>string</td>
<td>图形范围类型下的ID,如果为global,则填0</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>业务id</td>
</tr>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>开发商账号</td>
</tr>
<tr>
<td>assts</td>
<td>array</td>
<td>关联节点</td>
</tr>
</tbody>
</table>
<h4 id="assts">assts</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_asst_type</td>
<td>string</td>
<td>关联类型</td>
</tr>
<tr>
<td>node_type</td>
<td>string</td>
<td>节点类型,可选obj,inst</td>
</tr>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>对象模型的ID</td>
</tr>
<tr>
<td>bk_inst_id</td>
<td>int</td>
<td>实例ID</td>
</tr>
<tr>
<td>bk_object_att_id</td>
<td>string</td>
<td>关联的属性</td>
</tr>
<tr>
<td>lable</td>
<td>obj ect</td>
<td>标签,扩展字段,未启用</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/search_set/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>查询集群</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务id</td>
</tr>
<tr>
<td>fields</td>
<td>array</td>
<td>是</td>
<td>查询字段，所有字段均为set定义的字段，这些字段包括预置字段，也包括用户自定义字段</td>
</tr>
<tr>
<td>condition</td>
<td>dict</td>
<td>是</td>
<td>查询条件，所有字段均为Set定义的字段，这些字段包括预置字段，也包括用户自定义字段</td>
</tr>
<tr>
<td>page</td>
<td>dict</td>
<td>是</td>
<td>分页条件</td>
</tr>
</tbody>
</table>
<h4 id="page">page</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>start</td>
<td>int</td>
<td>是</td>
<td>记录开始位置</td>
</tr>
<tr>
<td>limit</td>
<td>int</td>
<td>是</td>
<td>每页限制条数,最大200</td>
</tr>
<tr>
<td>sort</td>
<td>string</td>
<td>否</td>
<td>排序字段</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_token&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;123456789&quot;</span><span class="p">,</span>
    <span class="s2">&quot;fields&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;bk_set_name&quot;</span>
    <span class="p">],</span>
    <span class="s2">&quot;condition&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;bk_set_name&quot;</span><span class="p">:</span> <span class="s2">&quot;test&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;page&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;start&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
        <span class="s2">&quot;sort&quot;</span><span class="p">:</span> <span class="s2">&quot;bk_set_name&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;count&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">&quot;info&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s2">&quot;bk_set_name&quot;</span><span class="p">:</span> <span class="s2">&quot;test&quot;</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>count</td>
<td>int</td>
<td>数据数量</td>
</tr>
<tr>
<td>info</td>
<td>array</td>
<td>结果集，其中，所有字段均为集群定义的属性字段</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/search_subscription/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>查询订阅</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<div class="codehilite"><pre><span></span><span class="err">无</span>
</pre></div>


<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;condition&quot;</span><span class="p">:{</span>
        <span class="s2">&quot;subscription_name&quot;</span><span class="p">:</span><span class="s2">&quot;name&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;page&quot;</span><span class="p">:{</span>
        <span class="s2">&quot;start&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;limit&quot;</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span>
        <span class="s2">&quot;sort&quot;</span><span class="p">:</span><span class="s2">&quot;HostName&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:[</span>
        <span class="p">{</span>
            <span class="s2">&quot;subscription_id&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
            <span class="s2">&quot;subscription_name&quot;</span><span class="p">:</span><span class="s2">&quot;mysubscribe&quot;</span><span class="p">,</span>
            <span class="s2">&quot;system_name&quot;</span><span class="p">:</span><span class="s2">&quot;SystemName&quot;</span><span class="p">,</span>
            <span class="s2">&quot;callback_url&quot;</span><span class="p">:</span><span class="s2">&quot;http://127.0.0.1:8080/callback&quot;</span><span class="p">,</span>
            <span class="s2">&quot;confirm_mode&quot;</span><span class="p">:</span><span class="s2">&quot;httpstatus&quot;</span><span class="p">,</span>
            <span class="s2">&quot;confirm_pattern&quot;</span><span class="p">:</span><span class="s2">&quot;200&quot;</span><span class="p">,</span>
            <span class="s2">&quot;subscription_form&quot;</span><span class="p">:</span><span class="s2">&quot;hostcreate&quot;</span><span class="p">,</span>
            <span class="s2">&quot;timeout&quot;</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span>
            <span class="s2">&quot;last_time&quot;</span><span class="p">:</span> <span class="s2">&quot;2017-09-19 16:57:07&quot;</span><span class="p">,</span>
            <span class="s2">&quot;operator&quot;</span><span class="p">:</span> <span class="s2">&quot;user&quot;</span><span class="p">,</span>
            <span class="s2">&quot;statistics&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;total&quot;</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span>
                <span class="s2">&quot;failure&quot;</span><span class="p">:</span> <span class="mi">2</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>subscription_id</td>
<td>int</td>
<td>订阅ID</td>
</tr>
<tr>
<td>subscription_name</td>
<td>string</td>
<td>订阅名</td>
</tr>
<tr>
<td>system_name</td>
<td>string</td>
<td>系统名称</td>
</tr>
<tr>
<td>callback_url</td>
<td>string</td>
<td>回调地址</td>
</tr>
<tr>
<td>confirm_mode</td>
<td>string</td>
<td>回调成功确认模式，可选:httpstatus，regular</td>
</tr>
<tr>
<td>confirm_pattern</td>
<td>string</td>
<td>回调成功标志</td>
</tr>
<tr>
<td>subscription_form</td>
<td>string</td>
<td>订阅单，用","分隔</td>
</tr>
<tr>
<td>timeout</td>
<td>int</td>
<td>超时时间，单位：秒</td>
</tr>
<tr>
<td>operator</td>
<td>int</td>
<td>本条数据的最后更新人员</td>
</tr>
<tr>
<td>last_time</td>
<td>int</td>
<td>更新时间</td>
</tr>
<tr>
<td>statistics.total</td>
<td>int</td>
<td>推送总数</td>
</tr>
<tr>
<td>statistics.failure</td>
<td>int</td>
<td>推送失败数</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/search_user_group/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>查询用户分组</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>是</td>
<td>开发商账号</td>
</tr>
<tr>
<td>group_name</td>
<td>string</td>
<td>否</td>
<td>分组名</td>
</tr>
<tr>
<td>user_list</td>
<td>string</td>
<td>否</td>
<td>分组用户列表，多个用;分割</td>
</tr>
</tbody>
</table>
<p>body 为空对象时返回所有的分组</p>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;group_name&quot;</span><span class="p">:</span><span class="s2">&quot;管理员&quot;</span><span class="p">,</span>
    <span class="s2">&quot;user_list&quot;</span><span class="p">:</span><span class="s2">&quot;owen;tt&quot;</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:[</span>
        <span class="p">{</span>
            <span class="s2">&quot;group_name&quot;</span><span class="p">:</span><span class="s2">&quot;管理员&quot;</span><span class="p">,</span>
            <span class="s2">&quot;user_list&quot;</span><span class="p">:</span><span class="s2">&quot;owen;tt&quot;</span><span class="p">,</span>
            <span class="s2">&quot;group_id&quot;</span><span class="p">:</span><span class="mi">1</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>group_name</td>
<td>string</td>
<td>分组名</td>
</tr>
<tr>
<td>user_list</td>
<td>string</td>
<td>用户列表</td>
</tr>
<tr>
<td>group_id</td>
<td>string</td>
<td>分组ID</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/subscribe_event/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>订阅事件</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>是</td>
<td>开发商账号</td>
</tr>
<tr>
<td>subscription_name</td>
<td>string</td>
<td>是</td>
<td>订阅的名字</td>
</tr>
<tr>
<td>system_name</td>
<td>string</td>
<td>是</td>
<td>订阅事件的系统的名字</td>
</tr>
<tr>
<td>callback_url</td>
<td>string</td>
<td>是</td>
<td>回调函数</td>
</tr>
<tr>
<td>confirm_mode</td>
<td>string</td>
<td>是</td>
<td>事件发送成功校验模式,可选 1-httpstatus,2-regular</td>
</tr>
<tr>
<td>confirm_pattern</td>
<td>string</td>
<td>是</td>
<td>callback的httpstatus或正则</td>
</tr>
<tr>
<td>subscription_form</td>
<td>string</td>
<td>是</td>
<td>订阅的事件,以逗号分隔</td>
</tr>
<tr>
<td>timeout</td>
<td>int</td>
<td>是</td>
<td>发送事件超时时间</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
  <span class="s2">&quot;subscription_name&quot;</span><span class="p">:</span><span class="s2">&quot;mysubscribe&quot;</span><span class="p">,</span>
  <span class="s2">&quot;system_name&quot;</span><span class="p">:</span><span class="s2">&quot;SystemName&quot;</span><span class="p">,</span>
  <span class="s2">&quot;callback_url&quot;</span><span class="p">:</span><span class="s2">&quot;http://127.0.0.1:8080/callback&quot;</span><span class="p">,</span>
  <span class="s2">&quot;confirm_mode&quot;</span><span class="p">:</span><span class="s2">&quot;httpstatus&quot;</span><span class="p">,</span>
  <span class="s2">&quot;confirm_pattern&quot;</span><span class="p">:</span><span class="s2">&quot;200&quot;</span><span class="p">,</span>
  <span class="s2">&quot;subscription_form&quot;</span><span class="p">:</span><span class="s2">&quot;hostcreate&quot;</span><span class="p">,</span>
  <span class="s2">&quot;timeout&quot;</span><span class="p">:</span><span class="mi">10</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:{</span>
        <span class="s2">&quot;subscription_id&quot;</span><span class="p">:</span> <span class="mi">1</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>subscription_id</td>
<td>int</td>
<td>新增订阅的订阅ID</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/testing_connection/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>测试推送（只测试连通性）</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>callback_url</td>
<td>string</td>
<td>回调方法</td>
<td>The callback URL</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;callback_url&quot;</span><span class="p">:</span><span class="s2">&quot;127.0.0.1:8080/callback&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:{</span>

    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span>  <span class="s2">&quot;success&quot;</span>
<span class="p">}</span>
</pre></div><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/transfer_host_module/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>业务内主机转移模块</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务ID</td>
</tr>
<tr>
<td>bk_host_id</td>
<td>array</td>
<td>是</td>
<td>主机ID</td>
</tr>
<tr>
<td>bk_module_id</td>
<td>array</td>
<td>是</td>
<td>模块ID</td>
</tr>
<tr>
<td>is_increment</td>
<td>bool</td>
<td>是</td>
<td>覆盖或者追加,会删除原有关系. true是更新，false是覆盖</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_token&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;123456789&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;bk_host_id&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="mi">9</span><span class="p">,</span>
        <span class="mi">10</span>
    <span class="p">],</span>
    <span class="s2">&quot;bk_module_id&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="mi">10</span>
    <span class="p">],</span>
    <span class="s2">&quot;is_increment&quot;</span><span class="p">:</span> <span class="n">true</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{}</span>
<span class="p">}</span>
</pre></div><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/transfer_host_to_faultmodule/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>上交主机到业务的故障机模块</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务ID</td>
</tr>
<tr>
<td>bk_host_id</td>
<td>array</td>
<td>是</td>
<td>主机ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_token&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;123456789&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;bk_host_id&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="mi">9</span><span class="p">,</span>
        <span class="mi">10</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{}</span>
<span class="p">}</span>
</pre></div><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/transfer_host_to_idlemodule/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>上交主机到业务的空闲机模块</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务ID</td>
</tr>
<tr>
<td>bk_host_id</td>
<td>array</td>
<td>是</td>
<td>主机ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_token&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;123456789&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;bk_host_id&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="mi">9</span><span class="p">,</span>
        <span class="mi">10</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{}</span>
<span class="p">}</span>
</pre></div><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/transfer_host_to_resourcemodule/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>上交主机至资源池</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务ID</td>
</tr>
<tr>
<td>bk_host_id</td>
<td>array</td>
<td>是</td>
<td>主机ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_token&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;123456789&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;bk_host_id&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="mi">9</span><span class="p">,</span>
        <span class="mi">10</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{}</span>
<span class="p">}</span>
</pre></div><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/transfer_resourcehost_to_idlemodule/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>资源池主机分配至业务的空闲机模块</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务ID</td>
</tr>
<tr>
<td>bk_host_id</td>
<td>array</td>
<td>是</td>
<td>主机ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_token&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;123456789&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;bk_host_id&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="mi">9</span><span class="p">,</span>
        <span class="mi">10</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{}</span>
<span class="p">}</span>
</pre></div><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/transfer_sethost_to_idle_module/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>上交主机到业务的空闲机模块</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务id</td>
</tr>
<tr>
<td>bk_set_id</td>
<td>int</td>
<td>是</td>
<td>集群id</td>
</tr>
<tr>
<td>bk_module_id</td>
<td>int</td>
<td>是</td>
<td>模块id</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span>
    <span class="s2">&quot;bk_module_id&quot;</span><span class="p">:</span><span class="mi">58</span><span class="p">,</span>
    <span class="s2">&quot;bk_set_id&quot;</span><span class="p">:</span><span class="mi">1</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="s2">&quot;sucess&quot;</span>
<span class="p">}</span>
</pre></div><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/unsubcribe_event/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>退订事件</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>是</td>
<td>开发商账号</td>
</tr>
<tr>
<td>subscription_id</td>
<td>int</td>
<td>是</td>
<td>订阅ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;subscription_id&quot;</span><span class="p">:</span><span class="mi">1</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span><span class="s2">&quot;success&quot;</span>
<span class="p">}</span>
</pre></div><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/update_business/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>更新业务信息</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务id</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>是</td>
<td>业务数据</td>
</tr>
</tbody>
</table>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_name</td>
<td>string</td>
<td>否</td>
<td>业务名</td>
</tr>
<tr>
<td>bk_biz_developer</td>
<td>string</td>
<td>否</td>
<td>开发人员</td>
</tr>
<tr>
<td>bk_biz_maintainer</td>
<td>string</td>
<td>否</td>
<td>运维人员</td>
</tr>
<tr>
<td>bk_biz_productor</td>
<td>string</td>
<td>否</td>
<td>产品人员</td>
</tr>
<tr>
<td>bk_biz_tester</td>
<td>string</td>
<td>否</td>
<td>测试人员</td>
</tr>
</tbody>
</table>
<p><strong>注意：此处的输入参数仅对必填以及系统内置的参数做了说明，其余需要填写的参数取决于用户自己定义的属性字段</strong></p>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_token&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;123456789&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;bk_biz_name&quot;</span><span class="p">:</span> <span class="s2">&quot;cc_app_test&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bk_biz_maintainer&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bk_biz_productor&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bk_biz_developer&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bk_biz_tester&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{}</span>
<span class="p">}</span>
</pre></div><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/update_business_enable_status/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>修改业务启用状态</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务id</td>
</tr>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>是</td>
<td>开发商id</td>
</tr>
<tr>
<td>flag</td>
<td>string</td>
<td>是</td>
<td>启用状态，为disabled 或者enable</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="s2">&quot;3&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;flag&quot;</span><span class="p">:</span> <span class="s2">&quot;enable&quot;</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="s2">&quot;success&quot;</span>
<span class="p">}</span>
</pre></div><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/update_classification/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>更新模型分类</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int</td>
<td>否</td>
<td>目标数据的记录ID，作为更新操作的条件</td>
</tr>
<tr>
<td>bk_classification_name</td>
<td>string</td>
<td>否</td>
<td>分类名</td>
</tr>
<tr>
<td>bk_classification_icon</td>
<td>string</td>
<td>否</td>
<td>模型分类的图标,取值可参考，取值可参考<a href="resource_define/classIcon.json">(classIcon.json)</a></td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;bk_classification_name&quot;</span><span class="p">:</span> <span class="s2">&quot;cc_test_new&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_classification_icon&quot;</span><span class="p">:</span> <span class="s2">&quot;icon-cc-business&quot;</span>
<span class="p">}</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="o">###</span> <span class="err">返回结果示例</span>

<span class="o">```</span><span class="n">python</span>

<span class="err">{</span>
    <span class="ss">&quot;result&quot;</span><span class="p">:</span> <span class="k">true</span><span class="p">,</span>
    <span class="ss">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="ss">&quot;message&quot;</span><span class="p">:</span> <span class="ss">&quot;&quot;</span><span class="p">,</span>
    <span class="ss">&quot;data&quot;</span><span class="p">:</span> <span class="ss">&quot;success&quot;</span>
<span class="err">}</span>
</pre></div><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/update_custom_query/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>更新自定义api</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务ID</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>是</td>
<td>主键ID</td>
</tr>
<tr>
<td>info</td>
<td>string</td>
<td>否</td>
<td>通用查询条件</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>否</td>
<td>收藏的名称</td>
</tr>
</tbody>
</table>
<h4 id="info">info</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>否</td>
<td>对象名,可以为biz,set,module,host,object</td>
</tr>
<tr>
<td>fields</td>
<td>array</td>
<td>否</td>
<td>查询输出字段</td>
</tr>
<tr>
<td>condition</td>
<td>array</td>
<td>否</td>
<td>查询条件</td>
</tr>
</tbody>
</table>
<h4 id="infoconditioncondition">info.condition.condition</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>field</td>
<td>string</td>
<td>否</td>
<td>对象的字段</td>
</tr>
<tr>
<td>operator</td>
<td>string</td>
<td>否</td>
<td>操作符, $eq为相等，$neq为不等，$in为属于，$nin为不属于</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>否</td>
<td>字段对应的值</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_token&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;123456789&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;info&quot;</span><span class="p">:</span> <span class="s2">&quot;{</span><span class="se">\&quot;</span><span class="s2">condition</span><span class="se">\&quot;</span><span class="s2">:[{</span><span class="se">\&quot;</span><span class="s2">bk_obj_id</span><span class="se">\&quot;</span><span class="s2">:</span><span class="se">\&quot;</span><span class="s2">biz</span><span class="se">\&quot;</span><span class="s2">,</span><span class="se">\&quot;</span><span class="s2">condition</span><span class="se">\&quot;</span><span class="s2">:[{</span><span class="se">\&quot;</span><span class="s2">field</span><span class="se">\&quot;</span><span class="s2">:</span><span class="se">\&quot;</span><span class="s2">default</span><span class="se">\&quot;</span><span class="s2">,</span><span class="se">\&quot;</span><span class="s2">operator</span><span class="se">\&quot;</span><span class="s2">:</span><span class="se">\&quot;</span><span class="s2">$ne</span><span class="se">\&quot;</span><span class="s2">,</span><span class="se">\&quot;</span><span class="s2">value</span><span class="se">\&quot;</span><span class="s2">:1}],</span><span class="se">\&quot;</span><span class="s2">fields</span><span class="se">\&quot;</span><span class="s2">:[]},{</span><span class="se">\&quot;</span><span class="s2">bk_obj_id</span><span class="se">\&quot;</span><span class="s2">:</span><span class="se">\&quot;</span><span class="s2">set</span><span class="se">\&quot;</span><span class="s2">,</span><span class="se">\&quot;</span><span class="s2">condition</span><span class="se">\&quot;</span><span class="s2">:[],</span><span class="se">\&quot;</span><span class="s2">fields</span><span class="se">\&quot;</span><span class="s2">:[]},{</span><span class="se">\&quot;</span><span class="s2">bk_obj_id</span><span class="se">\&quot;</span><span class="s2">:</span><span class="se">\&quot;</span><span class="s2">module</span><span class="se">\&quot;</span><span class="s2">,</span><span class="se">\&quot;</span><span class="s2">condition</span><span class="se">\&quot;</span><span class="s2">:[],</span><span class="se">\&quot;</span><span class="s2">fields</span><span class="se">\&quot;</span><span class="s2">:[]},{</span><span class="se">\&quot;</span><span class="s2">bk_obj_id</span><span class="se">\&quot;</span><span class="s2">:</span><span class="se">\&quot;</span><span class="s2">host</span><span class="se">\&quot;</span><span class="s2">,</span><span class="se">\&quot;</span><span class="s2">condition</span><span class="se">\&quot;</span><span class="s2">:[{</span><span class="se">\&quot;</span><span class="s2">field</span><span class="se">\&quot;</span><span class="s2">:</span><span class="se">\&quot;</span><span class="s2">bk_host_innerip</span><span class="se">\&quot;</span><span class="s2">,</span><span class="se">\&quot;</span><span class="s2">operator</span><span class="se">\&quot;</span><span class="s2">:</span><span class="se">\&quot;</span><span class="s2">$eq</span><span class="se">\&quot;</span><span class="s2">,</span><span class="se">\&quot;</span><span class="s2">value</span><span class="se">\&quot;</span><span class="s2">:</span><span class="se">\&quot;</span><span class="s2">127.0.0.1</span><span class="se">\&quot;</span><span class="s2">}],</span><span class="se">\&quot;</span><span class="s2">fields</span><span class="se">\&quot;</span><span class="s2">:[</span><span class="se">\&quot;</span><span class="s2">bk_host_innerip</span><span class="se">\&quot;</span><span class="s2">,</span><span class="se">\&quot;</span><span class="s2">bk_host_outerip</span><span class="se">\&quot;</span><span class="s2">,</span><span class="se">\&quot;</span><span class="s2">bk_agent_status</span><span class="se">\&quot;</span><span class="s2">]}]}&quot;</span><span class="p">,</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;api1&quot;</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{}</span>
<span class="p">}</span>
</pre></div><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/update_event_subscribe/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>修改订阅</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务id</td>
</tr>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>是</td>
<td>开发商账号</td>
</tr>
<tr>
<td>subscription_id</td>
<td>int</td>
<td>是</td>
<td>订阅ID</td>
</tr>
<tr>
<td>subscription_name</td>
<td>string</td>
<td>是</td>
<td>订阅的名字</td>
</tr>
<tr>
<td>system_name</td>
<td>string</td>
<td>是</td>
<td>订阅事件的系统的名字</td>
</tr>
<tr>
<td>callback_url</td>
<td>string</td>
<td>是</td>
<td>回调函数</td>
</tr>
<tr>
<td>confirm_mode</td>
<td>string</td>
<td>是</td>
<td>事件发送成功校验模式,可选 1-httpstatus,2-regular</td>
</tr>
<tr>
<td>confirm_pattern</td>
<td>string</td>
<td>是</td>
<td>callback的httpstatus或正则</td>
</tr>
<tr>
<td>subscription_form</td>
<td>string</td>
<td>是</td>
<td>订阅的事件,以逗号分隔</td>
</tr>
<tr>
<td>timeout</td>
<td>int</td>
<td>是</td>
<td>发送事件超时时间</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
  <span class="s2">&quot;subscription_name&quot;</span><span class="p">:</span><span class="s2">&quot;mysubscribe&quot;</span><span class="p">,</span>
  <span class="s2">&quot;subscription_id&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
  <span class="s2">&quot;system_name&quot;</span><span class="p">:</span><span class="s2">&quot;SystemName&quot;</span><span class="p">,</span>
  <span class="s2">&quot;callback_url&quot;</span><span class="p">:</span><span class="s2">&quot;http://127.0.0.1:8080/callback&quot;</span><span class="p">,</span>
  <span class="s2">&quot;confirm_mode&quot;</span><span class="p">:</span><span class="s2">&quot;httpstatus&quot;</span><span class="p">,</span>
  <span class="s2">&quot;confirm_pattern&quot;</span><span class="p">:</span><span class="s2">&quot;200&quot;</span><span class="p">,</span>
  <span class="s2">&quot;subscription_form&quot;</span><span class="p">:</span><span class="s2">&quot;hostcreate&quot;</span><span class="p">,</span>
  <span class="s2">&quot;timeout&quot;</span><span class="p">:</span><span class="mi">10</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="s2">&quot;success&quot;</span>
<span class="p">}</span>
</pre></div><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/update_host/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>更新主机属性</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_host_id</td>
<td>string</td>
<td>是</td>
<td>主机ID，多个以逗号分隔</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>否</td>
<td>主机数据</td>
</tr>
</tbody>
</table>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_host_name</td>
<td>string</td>
<td>否</td>
<td>主机名</td>
</tr>
</tbody>
</table>
<p><strong>注意：输入的字段为主机定义的属性</strong></p>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_token&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;123456789&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_host_id&quot;</span><span class="p">:</span> <span class="s2">&quot;1,2,3&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;bk_host_name&quot;</span><span class="p">:</span> <span class="s2">&quot;test&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="n">none</span>
<span class="p">}</span>
</pre></div><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/update_inst/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>更新对象实例</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>是</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>是</td>
<td>模型ID，更新云区域时为"plat"</td>
</tr>
<tr>
<td>bk_inst_id</td>
<td>int</td>
<td>是</td>
<td>实例ID,更新云区域时为"bk_cloud_id"</td>
</tr>
<tr>
<td>bk_inst_name</td>
<td>string</td>
<td>否</td>
<td>实例名，也可以为其它自定义字段</td>
</tr>
<tr>
<td>bk_cloud_name</td>
<td>string</td>
<td>否</td>
<td>云区域名，更新云区域名时需要</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例(通用实例示例)</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_obj_id&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_inst_id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;bk_inst_name&quot;</span><span class="p">:</span> <span class="s2">&quot;test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_cloud_name&quot;</span><span class="p">:</span><span class="s2">&quot;test&quot;</span>
 <span class="p">}</span>
</pre></div>


<h3 id="_8">请求参数示例(云区域示例)</h3>
<div class="codehilite"><pre><span></span>  <span class="p">{</span>
    <span class="s2">&quot;bk_cloud_name&quot;</span><span class="p">:</span> <span class="s2">&quot;cloud1&quot;</span>
  <span class="p">}</span>
</pre></div>


<h3 id="_9">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="s2">&quot;success&quot;</span>
<span class="p">}</span>
</pre></div><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/update_module/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>更新模块</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务id</td>
</tr>
<tr>
<td>bk_set_id</td>
<td>int</td>
<td>是</td>
<td>集群id</td>
</tr>
<tr>
<td>bk_module_id</td>
<td>int</td>
<td>是</td>
<td>模块id</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>是</td>
<td>模块数据</td>
</tr>
</tbody>
</table>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_module_name</td>
<td>string</td>
<td>否</td>
<td>模块名</td>
</tr>
</tbody>
</table>
<p><strong>注意：输入的字段为模块定义的属性</strong></p>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_token&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;123456789&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;bk_set_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;bk_module_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;bk_module_name&quot;</span><span class="p">:</span> <span class="s2">&quot;test&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{}</span>
<span class="p">}</span>
</pre></div><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/update_object/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>更新模型定义</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int</td>
<td>否</td>
<td>目标数据的记录ID，作为更新操作的条件</td>
</tr>
<tr>
<td>modifier</td>
<td>string</td>
<td>否</td>
<td>本条数据的最后修改人员</td>
</tr>
<tr>
<td>bk_classification_id</td>
<td>string</td>
<td>是</td>
<td>对象模型的分类ID，只能用英文字母序列命名</td>
</tr>
<tr>
<td>bk_obj_name</td>
<td>string</td>
<td>否</td>
<td>对象模型的名字</td>
</tr>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>是</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_obj_icon</td>
<td>string</td>
<td>否</td>
<td>对象模型的ICON信息，用于前端显示，取值可参考<a href="/static/esb/api_docs/res/cc/modleIcon.json">(modleIcon.json)</a></td>
</tr>
<tr>
<td>position</td>
<td>json object string</td>
<td>否</td>
<td>用于前端展示的坐标</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;modifier&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_classification_id&quot;</span><span class="p">:</span> <span class="s2">&quot;cc_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_obj_name&quot;</span><span class="p">:</span> <span class="s2">&quot;cc2_test_inst&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_obj_icon&quot;</span><span class="p">:</span> <span class="s2">&quot;icon-cc-business&quot;</span><span class="p">,</span>
    <span class="s2">&quot;position&quot;</span><span class="p">:</span><span class="s2">&quot;{</span><span class="se">\&quot;</span><span class="s2">ff</span><span class="se">\&quot;</span><span class="s2">:{</span><span class="se">\&quot;</span><span class="s2">x</span><span class="se">\&quot;</span><span class="s2">:-863,</span><span class="se">\&quot;</span><span class="s2">y</span><span class="se">\&quot;</span><span class="s2">:1}}&quot;</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="s2">&quot;success&quot;</span>
<span class="p">}</span>
</pre></div><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/update_object_attribute/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>更新对象模型属性</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int</td>
<td>是</td>
<td>目标数据的记录ID</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>否</td>
<td>数据的描述信息</td>
</tr>
<tr>
<td>isonly</td>
<td>bool</td>
<td>否</td>
<td>表明唯一性</td>
</tr>
<tr>
<td>isreadonly</td>
<td>bool</td>
<td>否</td>
<td>表明是否只读</td>
</tr>
<tr>
<td>isrequired</td>
<td>bool</td>
<td>否</td>
<td>表明是否必填</td>
</tr>
<tr>
<td>bk_property_group</td>
<td>string</td>
<td>否</td>
<td>字段分栏的名字</td>
</tr>
<tr>
<td>option</td>
<td>string</td>
<td>否</td>
<td _min_:_1_max_:_2_="&quot;min&quot;:&quot;1&quot;,&quot;max&quot;:&quot;2&quot;">用户自定义内容，存储的内容及格式由调用方决定, 以数字内容为例（</td>
</tr>
<tr>
<td>bk_property_name</td>
<td>string</td>
<td>否</td>
<td>模型属性名，用于展示</td>
</tr>
<tr>
<td>bk_property_type</td>
<td>string</td>
<td>否</td>
<td>定义的属性字段用于存储数据的数据类型（singlechar,longchar,int,enum,date,time,objuser,singleasst,multiasst,timezone,bool)</td>
</tr>
<tr>
<td>unit</td>
<td>string</td>
<td>否</td>
<td>单位</td>
</tr>
<tr>
<td>placeholder</td>
<td>string</td>
<td>否</td>
<td>占位符</td>
</tr>
<tr>
<td>bk_asst_obj_id</td>
<td>string</td>
<td>否</td>
<td>如果有关联其它的模型，那么就必需设置此字段，否则就不需要设置</td>
</tr>
</tbody>
</table>
<h4 id="bk_property_type">bk_property_type</h4>
<table>
<thead>
<tr>
<th>标识</th>
<th>名字</th>
</tr>
</thead>
<tbody>
<tr>
<td>singlechar</td>
<td>短字符</td>
</tr>
<tr>
<td>longchar</td>
<td>长字符</td>
</tr>
<tr>
<td>int</td>
<td>整形</td>
</tr>
<tr>
<td>enum</td>
<td>枚举类型</td>
</tr>
<tr>
<td>date</td>
<td>日期</td>
</tr>
<tr>
<td>time</td>
<td>时间</td>
</tr>
<tr>
<td>objuser</td>
<td>用户</td>
</tr>
<tr>
<td>singleasst</td>
<td>单关联</td>
</tr>
<tr>
<td>multiasst</td>
<td>多关联</td>
</tr>
<tr>
<td>timezone</td>
<td>时区</td>
</tr>
<tr>
<td>bool</td>
<td>布尔</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;id&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;description&quot;</span><span class="p">:</span><span class="s2">&quot;test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;placeholder&quot;</span><span class="p">:</span><span class="s2">&quot;test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;unit&quot;</span><span class="p">:</span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
    <span class="s2">&quot;isonly&quot;</span><span class="p">:</span><span class="s2">&quot;false&quot;</span><span class="p">,</span>
    <span class="s2">&quot;isreadonly&quot;</span><span class="p">:</span><span class="s2">&quot;false&quot;</span><span class="p">,</span>
    <span class="s2">&quot;isrequired&quot;</span><span class="p">:</span><span class="s2">&quot;false&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_property_group&quot;</span><span class="p">:</span><span class="s2">&quot;default&quot;</span><span class="p">,</span>
    <span class="s2">&quot;option&quot;</span><span class="p">:</span><span class="s2">&quot;{</span><span class="se">\&quot;</span><span class="s2">min</span><span class="se">\&quot;</span><span class="s2">:</span><span class="se">\&quot;</span><span class="s2">1</span><span class="se">\&quot;</span><span class="s2">,</span><span class="se">\&quot;</span><span class="s2">max</span><span class="se">\&quot;</span><span class="s2">:</span><span class="se">\&quot;</span><span class="s2">4</span><span class="se">\&quot;</span><span class="s2">}&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_property_name&quot;</span><span class="p">:</span><span class="s2">&quot;aaa&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_property_type&quot;</span><span class="p">:</span><span class="s2">&quot;int&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_asst_obj_id&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="s2">&quot;success&quot;</span>
<span class="p">}</span>
</pre></div><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/update_object_topo_graphics/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>更新拓扑图</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>scope_type</td>
<td>string</td>
<td>是</td>
<td>图形范围类型,可选global,biz,cls(当前只有global)</td>
</tr>
<tr>
<td>scope_id</td>
<td>string</td>
<td>是</td>
<td>图形范围类型下的ID,如果为global,则填0</td>
</tr>
<tr>
<td>action</td>
<td>string</td>
<td>是</td>
<td>更新方法,可选update,override</td>
</tr>
<tr>
<td>data</td>
<td>list</td>
<td>否</td>
<td>更新数据</td>
</tr>
</tbody>
</table>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>node_type</td>
<td>string</td>
<td>是</td>
<td>节点类型,可选obj,inst</td>
</tr>
<tr>
<td>bk_obj_id</td>
<td>string</td>
<td>是</td>
<td>对象模型的ID</td>
</tr>
<tr>
<td>bk_inst_id</td>
<td>int</td>
<td>是</td>
<td>实例ID</td>
</tr>
<tr>
<td>position</td>
<td>dict</td>
<td>否</td>
<td>节点在图中的位置</td>
</tr>
<tr>
<td>ext</td>
<td>dict</td>
<td>否</td>
<td>前端扩展字段</td>
</tr>
<tr>
<td>bk_obj_icon</td>
<td>string</td>
<td>否</td>
<td>对象模型的图标</td>
</tr>
</tbody>
</table>
<p><strong>注意</strong>：</p>
<ul>
<li>
<p>scope_type,scope_id 唯一确定一张图</p>
</li>
<li>
<p>node_type,bk_obj_id,bk_inst_id 三者唯一确定每张图的一个节点，故必填</p>
</li>
</ul>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_token&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;123456789&quot;</span><span class="p">,</span>
    <span class="s2">&quot;scope_type&quot;</span><span class="p">:</span> <span class="s2">&quot;global&quot;</span><span class="p">,</span>
    <span class="s2">&quot;scope_id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="s2">&quot;update&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;node_type&quot;</span><span class="p">:</span> <span class="s2">&quot;obj&quot;</span><span class="p">,</span>
            <span class="s2">&quot;bk_obj_id&quot;</span><span class="p">:</span> <span class="s2">&quot;switch&quot;</span><span class="p">,</span>
            <span class="s2">&quot;bk_inst_id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s2">&quot;position&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
                <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="mi">100</span>
            <span class="p">},</span>
            <span class="s2">&quot;ext&quot;</span><span class="p">:</span> <span class="p">{},</span>
            <span class="s2">&quot;bk_obj_icon&quot;</span><span class="p">:</span> <span class="s2">&quot;icon-cc-switch2&quot;</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;success&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="s2">&quot;success&quot;</span>
<span class="p">}</span>
</pre></div><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/update_set/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>更新集群</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>否</td>
<td>开发商账号</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务id</td>
</tr>
<tr>
<td>bk_set_id</td>
<td>int</td>
<td>是</td>
<td>集群id</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>否</td>
<td>集群数据</td>
</tr>
</tbody>
</table>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_parent_id</td>
<td>int</td>
<td>否</td>
<td>父节点的ID</td>
</tr>
<tr>
<td>bk_set_name</td>
<td>string</td>
<td>否</td>
<td>集群名字</td>
</tr>
</tbody>
</table>
<p><strong>注意：用户自定义的字段也可以作为参数传入</strong></p>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_token&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;123456789&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;bk_set_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;bk_set_name&quot;</span><span class="p">:</span> <span class="s2">&quot;test&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{}</span>
<span class="p">}</span>
</pre></div><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/cc/update_user_group/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>更新用户分组</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>是</td>
<td>开发商账号</td>
</tr>
<tr>
<td>group_id</td>
<td>string</td>
<td>是</td>
<td>分组ID</td>
</tr>
<tr>
<td>group_name</td>
<td>string</td>
<td>否</td>
<td>分组名</td>
</tr>
<tr>
<td>user_list</td>
<td>string</td>
<td>否</td>
<td>分组用户列表，多个用;分割</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;group_id&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;group_name&quot;</span><span class="p">:</span><span class="s2">&quot;administrators&quot;</span><span class="p">,</span>
    <span class="s2">&quot;user_list&quot;</span><span class="p">:</span><span class="s2">&quot;owen;tt&quot;</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span>
<span class="p">}</span>
</pre></div><h2 id="api">蓝鲸管控平台 API 简介</h2>
<table>
<thead>
<tr>
<th>资源名称</th>
<th>资源描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="5.1/API文档/GSE/get_agent_info.md">get_agent_info</a></td>
<td>Agent心跳信息查询</td>
</tr>
<tr>
<td><a href="5.1/API文档/GSE/get_agent_status.md">get_agent_status</a></td>
<td>Agent在线状态查询</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/gse/get_agent_info/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>查询agent心跳详细信息。数据非实时，延时1分钟内。</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>是</td>
<td>开发商账号</td>
</tr>
<tr>
<td>hosts</td>
<td>array</td>
<td>是</td>
<td>主机列表</td>
</tr>
</tbody>
</table>
<h4 id="hosts">hosts</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_cloud_id</td>
<td>int</td>
<td>是</td>
<td>云区域ID</td>
</tr>
<tr>
<td>ip</td>
<td>string</td>
<td>是</td>
<td>IP地址</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_token&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;hosts&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;ip&quot;</span><span class="p">:</span> <span class="s2">&quot;10.0.0.1&quot;</span><span class="p">,</span>
            <span class="s2">&quot;bk_cloud_id&quot;</span><span class="p">:</span> <span class="mi">0</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;0:10.0.0.1&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;ip&quot;</span><span class="p">:</span> <span class="s2">&quot;10.0.0.1&quot;</span><span class="p">,</span>
            <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;V0.01R060D38&quot;</span><span class="p">,</span>
            <span class="s2">&quot;bk_cloud_id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s2">&quot;parent_ip&quot;</span><span class="p">:</span> <span class="s2">&quot;10.0.0.2&quot;</span><span class="p">,</span>
            <span class="s2">&quot;parent_port&quot;</span><span class="p">:</span> <span class="mi">50000</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>key</td>
<td>string</td>
<td>格式为：bk_cloud_id:ip</td>
</tr>
<tr>
<td>value.ip</td>
<td>string</td>
<td>主机IP地址</td>
</tr>
<tr>
<td>value.bk_cloud_id</td>
<td>int</td>
<td>云区域ID</td>
</tr>
<tr>
<td>value.version</td>
<td>string</td>
<td>agent版本号</td>
</tr>
<tr>
<td>value.parent_ip</td>
<td>string</td>
<td>agent的上级节点ip</td>
</tr>
<tr>
<td>value.parent_port</td>
<td>int</td>
<td>agent的上级节点端口</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/gse/get_agent_status/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>查询agent实时在线状态</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_account</td>
<td>string</td>
<td>是</td>
<td>开发商账号</td>
</tr>
<tr>
<td>hosts</td>
<td>array</td>
<td>是</td>
<td>主机列表</td>
</tr>
</tbody>
</table>
<h4 id="hosts">hosts</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_cloud_id</td>
<td>int</td>
<td>是</td>
<td>云区域ID</td>
</tr>
<tr>
<td>ip</td>
<td>string</td>
<td>是</td>
<td>IP地址</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_token&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_supplier_account&quot;</span><span class="p">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;hosts&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;ip&quot;</span><span class="p">:</span> <span class="s2">&quot;10.0.0.1&quot;</span><span class="p">,</span>
            <span class="s2">&quot;bk_cloud_id&quot;</span><span class="p">:</span> <span class="mi">0</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;0:10.0.0.1&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;ip&quot;</span><span class="p">:</span> <span class="s2">&quot;10.0.0.1&quot;</span><span class="p">,</span>
            <span class="s2">&quot;bk_cloud_id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s2">&quot;bk_agent_alive&quot;</span><span class="p">:</span> <span class="mi">1</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>key</td>
<td>string</td>
<td>格式为：bk_cloud_id:ip</td>
</tr>
<tr>
<td>value.ip</td>
<td>string</td>
<td>主机IP地址</td>
</tr>
<tr>
<td>value.bk_cloud_id</td>
<td>int</td>
<td>云区域ID</td>
</tr>
<tr>
<td>value.bk_agent_alive</td>
<td>int</td>
<td>agent在线状态，0为不在线，1为在线</td>
</tr>
</tbody>
</table><h2 id="api">作业平台 API 简介</h2>
<p><strong>作业平台（Job）是一套基于蓝鲸智云管控平台 Agent 管道之上的基础操作平台，具备大并发处理能力；除了支持脚本执行、文件拉取/分发、定时任务等一系列可实现的基础运维场景以外，还运用流程化的理念很好的将零碎的单个任务组装成一个作业流程；而每个任务都可做为一个原子节点，提供给其它系统和平台调度，实现调度自动化。</strong></p>
<table>
<thead>
<tr>
<th>资源名称</th>
<th>资源描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="5.1/API文档/JOB/callback_protocol.md">callback_protocol</a></td>
<td>作业类回调报文描述</td>
</tr>
<tr>
<td><a href="5.1/API文档/JOB/execute_job.md">execute_job</a></td>
<td>启动作业</td>
</tr>
<tr>
<td><a href="5.1/API文档/JOB/fast_execute_script.md">fast_execute_script</a></td>
<td>快速执行脚本</td>
</tr>
<tr>
<td><a href="5.1/API文档/JOB/fast_push_file.md">fast_push_file</a></td>
<td>快速分发文件</td>
</tr>
<tr>
<td><a href="5.1/API文档/JOB/get_cron_list.md">get_cron_list</a></td>
<td>查询业务下定时作业信息</td>
</tr>
<tr>
<td><a href="5.1/API文档/JOB/get_job_detail.md">get_job_detail</a></td>
<td>查询作业模板详情</td>
</tr>
<tr>
<td><a href="5.1/API文档/JOB/get_job_instance_log.md">get_job_instance_log</a></td>
<td>根据作业实例ID查询作业执行日志</td>
</tr>
<tr>
<td><a href="5.1/API文档/JOB/get_job_instance_status.md">get_job_instance_status</a></td>
<td>查询作业执行状态</td>
</tr>
<tr>
<td><a href="5.1/API文档/JOB/get_job_list.md">get_job_list</a></td>
<td>查询作业模板</td>
</tr>
<tr>
<td><a href="5.1/API文档/JOB/get_os_account.md">get_os_account</a></td>
<td>查询业务下的执行账号</td>
</tr>
<tr>
<td><a href="5.1/API文档/JOB/get_own_db_account_list.md">get_own_db_account_list</a></td>
<td>查询用户有权限的DB帐号列表</td>
</tr>
<tr>
<td><a href="5.1/API文档/JOB/get_script_detail.md">get_script_detail</a></td>
<td>查询脚本详情</td>
</tr>
<tr>
<td><a href="5.1/API文档/JOB/get_script_list.md">get_script_list</a></td>
<td>查询脚本列表</td>
</tr>
<tr>
<td><a href="5.1/API文档/JOB/get_step_instance_status.md">get_step_instance_status</a></td>
<td>查询作业步骤的执行状态</td>
</tr>
<tr>
<td><a href="5.1/API文档/JOB/save_cron.md">save_cron</a></td>
<td>新建或保存定时作业</td>
</tr>
<tr>
<td><a href="5.1/API文档/JOB/update_cron_status.md">update_cron_status</a></td>
<td>更新定时作业状态</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/job/callback_protocol/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>此组件仅用于展示回调协议文档</p>
<p>对作业执行类的请求传入的回调bk_callback_url地址进行回调时所传递的报文结构描述</p>
<h3 id="_4">请求参数</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>job_instance_id</td>
<td>int</td>
<td>是</td>
<td>作业实例ID</td>
</tr>
<tr>
<td>status</td>
<td>int</td>
<td>是</td>
<td>作业状态码: 1.未执行; 2.正在执行; 3.执行成功; 4.执行失败; 5.跳过; 6.忽略错误; 7.等待用户; 8.手动结束; 9.状态异常; 10.步骤强制终止中; 11.步骤强制终止成功; 12.步骤强制终止失败</td>
</tr>
<tr>
<td>step_instances</td>
<td>array</td>
<td>是</td>
<td>步骤块中包含的各个步骤执行状态</td>
</tr>
</tbody>
</table>
<h4 id="step_instances">step_instances</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>step_instance_id</td>
<td>int</td>
<td>是</td>
<td>作业步骤实例ID</td>
</tr>
<tr>
<td>status</td>
<td>int</td>
<td>是</td>
<td>作业步骤状态码: 1.未执行; 2.正在执行; 3.执行成功; 4.执行失败; 5.跳过; 6.忽略错误; 7.等待用户; 8.手动结束; 9.状态异常; 10.步骤强制终止中; 11.步骤强制终止成功; 12.步骤强制终止失败</td>
</tr>
</tbody>
</table>
<h3 id="_5">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;job_instance_id&quot;</span><span class="p">:</span> <span class="mi">12345</span><span class="p">,</span>
    <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="s2">&quot;step_instances&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;step_instance_id&quot;</span><span class="p">:</span> <span class="mi">16271</span><span class="p">,</span>
            <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="mi">3</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;step_instance_id&quot;</span><span class="p">:</span> <span class="mi">16272</span><span class="p">,</span>
            <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="mi">2</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>


<h3 id="_6">回调响应</h3>
<p>回调成功以HTTP状态为准，如果成功，则状态码200，其他表示失败，Job会对失败的做一次重试，如还失败，则忽略失败，不再回调。</p><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/job/execute_job/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>根据作业模板ID启动作业。支持全局变量，如果全局变量的类型为IP，参数值必须包含custom_query_id或ip_list。没有设置的参数将使用作业模版中的默认值。</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务ID</td>
</tr>
<tr>
<td>bk_job_id</td>
<td>int</td>
<td>是</td>
<td>作业模板ID</td>
</tr>
<tr>
<td>steps</td>
<td>array</td>
<td>否</td>
<td>指定要执行或自定义参数的步骤数组，要执行全部步骤可不传此参数，见下面steps结构定义</td>
</tr>
<tr>
<td>global_vars</td>
<td>array</td>
<td>否</td>
<td>全局变量信息，作业包含的全局变量和类型，可以通过接口“查询作业模板详情” (get_job_detail)获取。对于作业中的全局变量值，如果global_vars包含该变量信息，那么会使用api指定的值；否则使用全局变量默认值</td>
</tr>
<tr>
<td>bk_callback_url</td>
<td>string</td>
<td>否</td>
<td>回调URL，当任务执行完成后，JOB会调用该URL告知任务执行结果。回调协议参考callback_protocol组件文档</td>
</tr>
</tbody>
</table>
<h4 id="global_vars">global_vars</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int</td>
<td>否</td>
<td>全局变量id，唯一标识。如果id为空，那么使用name作为唯一标识</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>否</td>
<td>全局变量name</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>否</td>
<td>字符串全局变量值，此字段仅在字符串类型变量有效。</td>
</tr>
<tr>
<td>custom_query_id</td>
<td>array</td>
<td>否</td>
<td>配置平台上的自定义查询id列表。ip_list与custom_query_id之间任意选一或并存，ip数据会去重合并，此字段仅在IP类型变量有效。</td>
</tr>
<tr>
<td>ip_list</td>
<td>array</td>
<td>否</td>
<td>IP对象数组。ip_list与custom_query_id之间任意选一或并存，ip数据会去重合并，此字段仅在IP类型变量有效。</td>
</tr>
</tbody>
</table>
<h4 id="steps">steps</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>step_id</td>
<td>int</td>
<td>是</td>
<td>步骤ID</td>
</tr>
<tr>
<td>script_id</td>
<td>int</td>
<td>否</td>
<td>脚本ID，如果不更改脚本，则不传</td>
</tr>
<tr>
<td>script_type</td>
<td>int</td>
<td>否</td>
<td>脚本类型：1(shell脚本)、2(bat脚本)、3(perl脚本)、4(python脚本)、5(powershell脚本)，当script_content有内容时必填</td>
</tr>
<tr>
<td>script_content</td>
<td>string</td>
<td>否</td>
<td>脚本内容Base64，如果同时传了script_id和script_content，则script_id优先</td>
</tr>
<tr>
<td>script_param</td>
<td>string</td>
<td>否</td>
<td>脚本参数Base64</td>
</tr>
<tr>
<td>script_timeout</td>
<td>int</td>
<td>否</td>
<td>脚本超时时间，秒。默认1000，取值范围60-86400</td>
</tr>
<tr>
<td>account</td>
<td>string</td>
<td>否</td>
<td>执行帐号名/别名</td>
</tr>
<tr>
<td>db_account_id</td>
<td>int</td>
<td>否</td>
<td>SQL执行的db帐号ID，SQL步骤必填</td>
</tr>
<tr>
<td>file_target_path</td>
<td>string</td>
<td>否</td>
<td>文件传输目标路径</td>
</tr>
<tr>
<td>file_source</td>
<td>array</td>
<td>否</td>
<td>源文件对象数组，见下面file_source定义</td>
</tr>
<tr>
<td>custom_query_id</td>
<td>array</td>
<td>否</td>
<td>配置平台上的自定义查询id列表。ip_list与custom_query_id之间任意选一或并存，ip数据会去重合并</td>
</tr>
<tr>
<td>ip_list</td>
<td>array</td>
<td>否</td>
<td>IP对象数组。ip_list与custom_query_id之间任意选一或并存，ip数据会去重合并</td>
</tr>
</tbody>
</table>
<h4 id="file_source">file_source</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>files</td>
<td>array</td>
<td>是</td>
<td>源文件的绝对路径数组，支持多个文件</td>
</tr>
<tr>
<td>account</td>
<td>string</td>
<td>是</td>
<td>执行帐号名/别名</td>
</tr>
<tr>
<td>custom_query_id</td>
<td>array</td>
<td>否</td>
<td>配置平台上的自定义查询id列表。ip_list与custom_query_id之间任意选一或并存，ip数据会去重合并</td>
</tr>
<tr>
<td>ip_list</td>
<td>array</td>
<td>否</td>
<td>IP对象数组。ip_list与custom_query_id之间任意选一或并存，ip数据会去重合并</td>
</tr>
</tbody>
</table>
<h4 id="ip_list">ip_list</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_cloud_id</td>
<td>int</td>
<td>是</td>
<td>云区域ID</td>
</tr>
<tr>
<td>ip</td>
<td>string</td>
<td>是</td>
<td>IP地址</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_token&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;bk_job_id&quot;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
    <span class="s2">&quot;global_vars&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">436</span><span class="p">,</span>
            <span class="s2">&quot;custom_query_id&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="s2">&quot;3&quot;</span><span class="p">,</span>
                <span class="s2">&quot;5&quot;</span><span class="p">,</span>
                <span class="s2">&quot;7&quot;</span>
            <span class="p">],</span>
            <span class="s2">&quot;ip_list&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="s2">&quot;bk_cloud_id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                    <span class="s2">&quot;ip&quot;</span><span class="p">:</span> <span class="s2">&quot;10.0.0.1&quot;</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s2">&quot;bk_cloud_id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                    <span class="s2">&quot;ip&quot;</span><span class="p">:</span> <span class="s2">&quot;10.0.0.2&quot;</span>
                <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">437</span><span class="p">,</span>
            <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;new String value&quot;</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">&quot;steps&quot;</span><span class="p">:</span> <span class="p">[{</span>
        <span class="s2">&quot;script_timeout&quot;</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span>
        <span class="s2">&quot;script_param&quot;</span><span class="p">:</span> <span class="s2">&quot;aGVsbG8=&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ip_list&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s2">&quot;bk_cloud_id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="s2">&quot;ip&quot;</span><span class="p">:</span> <span class="s2">&quot;10.0.0.1&quot;</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s2">&quot;bk_cloud_id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="s2">&quot;ip&quot;</span><span class="p">:</span> <span class="s2">&quot;10.0.0.2&quot;</span>
            <span class="p">}</span>
        <span class="p">],</span>
        <span class="s2">&quot;custom_query_id&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="s2">&quot;3&quot;</span>
        <span class="p">],</span>
        <span class="s2">&quot;script_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">&quot;script_content&quot;</span><span class="p">:</span> <span class="s2">&quot;ZWNobyAkMQ==&quot;</span><span class="p">,</span>
        <span class="s2">&quot;step_id&quot;</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span>
        <span class="s2">&quot;account&quot;</span><span class="p">:</span> <span class="s2">&quot;root&quot;</span><span class="p">,</span>
        <span class="s2">&quot;script_type&quot;</span><span class="p">:</span> <span class="mi">1</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s2">&quot;script_timeout&quot;</span><span class="p">:</span> <span class="mi">1003</span><span class="p">,</span>
        <span class="s2">&quot;ip_list&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s2">&quot;bk_cloud_id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="s2">&quot;ip&quot;</span><span class="p">:</span> <span class="s2">&quot;10.0.0.1&quot;</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s2">&quot;bk_cloud_id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="s2">&quot;ip&quot;</span><span class="p">:</span> <span class="s2">&quot;10.0.0.2&quot;</span>
            <span class="p">}</span>
        <span class="p">],</span>
        <span class="s2">&quot;custom_query_id&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="s2">&quot;3&quot;</span>
        <span class="p">],</span>
        <span class="s2">&quot;script_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">&quot;script_content&quot;</span><span class="p">:</span> <span class="s2">&quot;ZWNobyAkMQ==&quot;</span><span class="p">,</span>
        <span class="s2">&quot;step_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">&quot;db_account_id&quot;</span><span class="p">:</span> <span class="mi">31</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s2">&quot;file_target_path&quot;</span><span class="p">:</span> <span class="s2">&quot;/tmp/[FILESRCIP]/&quot;</span><span class="p">,</span>
        <span class="s2">&quot;file_source&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s2">&quot;files&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="s2">&quot;/tmp/REGEX:[a-z]*.txt&quot;</span>
                <span class="p">],</span>
                <span class="s2">&quot;account&quot;</span><span class="p">:</span> <span class="s2">&quot;root&quot;</span><span class="p">,</span>
                <span class="s2">&quot;ip_list&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span>
                        <span class="s2">&quot;bk_cloud_id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                        <span class="s2">&quot;ip&quot;</span><span class="p">:</span> <span class="s2">&quot;10.0.0.1&quot;</span>
                    <span class="p">},</span>
                    <span class="p">{</span>
                        <span class="s2">&quot;bk_cloud_id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                        <span class="s2">&quot;ip&quot;</span><span class="p">:</span> <span class="s2">&quot;10.0.0.2&quot;</span>
                    <span class="p">}</span>
                <span class="p">],</span>
                <span class="s2">&quot;custom_query_id&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="s2">&quot;3&quot;</span>
                <span class="p">]</span>
            <span class="p">}</span>
        <span class="p">],</span>
        <span class="s2">&quot;ip_list&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s2">&quot;bk_cloud_id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="s2">&quot;ip&quot;</span><span class="p">:</span> <span class="s2">&quot;10.0.0.1&quot;</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s2">&quot;bk_cloud_id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="s2">&quot;ip&quot;</span><span class="p">:</span> <span class="s2">&quot;10.0.0.2&quot;</span>
            <span class="p">}</span>
        <span class="p">],</span>
        <span class="s2">&quot;custom_query_id&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="s2">&quot;3&quot;</span>
        <span class="p">],</span>
        <span class="s2">&quot;step_id&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
        <span class="s2">&quot;account&quot;</span><span class="p">:</span> <span class="s2">&quot;root&quot;</span>
    <span class="p">}]</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;success&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;job_instance_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Test&quot;</span><span class="p">,</span>
        <span class="s2">&quot;job_instance_id&quot;</span><span class="p">:</span> <span class="mi">10000</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/job/fast_execute_script/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>快速执行脚本</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务ID</td>
</tr>
<tr>
<td>script_id</td>
<td>int</td>
<td>否</td>
<td>脚本ID</td>
</tr>
<tr>
<td>task_name</td>
<td>string</td>
<td>否</td>
<td>自定义作业名称</td>
</tr>
<tr>
<td>script_content</td>
<td>string</td>
<td>否</td>
<td>脚本内容Base64，如果同时传了script_id和script_content，则script_id优先</td>
</tr>
<tr>
<td>script_param</td>
<td>string</td>
<td>否</td>
<td>脚本参数Base64。注意：如果有多个参数，比如&#34;param1 param2&#34;这种，需要对&#34;param1 param2&#34;整体进行base64编码，而不是对每个参数进行base64编码再拼接起来</td>
</tr>
<tr>
<td>script_timeout</td>
<td>int</td>
<td>否</td>
<td>脚本超时时间，秒。默认1000，取值范围60-86400</td>
</tr>
<tr>
<td>account</td>
<td>string</td>
<td>否</td>
<td>执行帐号名/别名</td>
</tr>
<tr>
<td>is_param_sensitive</td>
<td>int</td>
<td>否</td>
<td>敏感参数将会在执行详情页面上隐藏, 0:不是（默认），1:是</td>
</tr>
<tr>
<td>script_type</td>
<td>int</td>
<td>否</td>
<td>脚本类型：1(shell脚本)、2(bat脚本)、3(perl脚本)、4(python脚本)、5(Powershell脚本)</td>
</tr>
<tr>
<td>custom_query_id</td>
<td>array</td>
<td>否</td>
<td>配置平台上的自定义查询id列表。ip_list与custom_query_id之间任意选一或并存，ip数据会去重合并</td>
</tr>
<tr>
<td>ip_list</td>
<td>array</td>
<td>否</td>
<td>IP对象数组。ip_list与custom_query_id之间任意选一或并存，ip数据会去重合并</td>
</tr>
<tr>
<td>bk_callback_url</td>
<td>string</td>
<td>否</td>
<td>回调URL，当任务执行完成后，JOB会调用该URL告知任务执行结果。回调协议参考callback_protocol组件文档</td>
</tr>
</tbody>
</table>
<h4 id="ip_list">ip_list</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_cloud_id</td>
<td>int</td>
<td>是</td>
<td>云区域ID</td>
</tr>
<tr>
<td>ip</td>
<td>string</td>
<td>是</td>
<td>IP地址</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_token&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;script_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;script_content&quot;</span><span class="p">:</span> <span class="s2">&quot;ZWNobyAkMQ==&quot;</span><span class="p">,</span>
    <span class="s2">&quot;script_param&quot;</span><span class="p">:</span> <span class="s2">&quot;aGVsbG8=&quot;</span><span class="p">,</span>
    <span class="s2">&quot;script_timeout&quot;</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span>
    <span class="s2">&quot;account&quot;</span><span class="p">:</span> <span class="s2">&quot;root&quot;</span><span class="p">,</span>
    <span class="s2">&quot;is_param_sensitive&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;script_type&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;ip_list&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;bk_cloud_id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s2">&quot;ip&quot;</span><span class="p">:</span> <span class="s2">&quot;10.0.0.1&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;bk_cloud_id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s2">&quot;ip&quot;</span><span class="p">:</span> <span class="s2">&quot;10.0.0.2&quot;</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">&quot;custom_query_id&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;3&quot;</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;success&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;job_instance_name&quot;</span><span class="p">:</span> <span class="s2">&quot;API Quick execution script1521100521303&quot;</span><span class="p">,</span>
        <span class="s2">&quot;job_instance_id&quot;</span><span class="p">:</span> <span class="mi">10000</span>
    <span class="p">},</span>
<span class="p">}</span>
</pre></div><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/job/fast_push_file/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>快速分发文件</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务ID</td>
</tr>
<tr>
<td>account</td>
<td>string</td>
<td>是</td>
<td>执行帐号名/别名</td>
</tr>
<tr>
<td>file_target_path</td>
<td>string</td>
<td>是</td>
<td>文件传输目标路径</td>
</tr>
<tr>
<td>file_source</td>
<td>array</td>
<td>是</td>
<td>源文件对象数组，见下面file_source定义</td>
</tr>
<tr>
<td>custom_query_id</td>
<td>array</td>
<td>否</td>
<td>配置平台上的自定义查询id列表。ip_list与custom_query_id之间任意选一或并存，ip数据会去重合并</td>
</tr>
<tr>
<td>ip_list</td>
<td>array</td>
<td>否</td>
<td>IP对象数组。ip_list与custom_query_id之间任意选一或并存，ip数据会去重合并</td>
</tr>
<tr>
<td>bk_callback_url</td>
<td>string</td>
<td>否</td>
<td>回调URL，当任务执行完成后，JOB会调用该URL告知任务执行结果。回调协议参考callback_protocol组件文档</td>
</tr>
</tbody>
</table>
<h4 id="file_source">file_source</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>files</td>
<td>array</td>
<td>是</td>
<td>源文件的绝对路径数组，支持多个文件</td>
</tr>
<tr>
<td>account</td>
<td>string</td>
<td>是</td>
<td>执行帐号名/别名</td>
</tr>
<tr>
<td>custom_query_id</td>
<td>array</td>
<td>否</td>
<td>配置平台上的自定义查询id列表。ip_list与custom_query_id之间任意选一或并存，ip数据会去重合并</td>
</tr>
<tr>
<td>ip_list</td>
<td>array</td>
<td>否</td>
<td>IP对象数组。ip_list与custom_query_id之间任意选一或并存，ip数据会去重合并</td>
</tr>
</tbody>
</table>
<h4 id="ip_list">ip_list</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_cloud_id</td>
<td>int</td>
<td>是</td>
<td>云区域ID</td>
</tr>
<tr>
<td>ip</td>
<td>string</td>
<td>是</td>
<td>IP地址</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_token&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;file_target_path&quot;</span><span class="p">:</span> <span class="s2">&quot;/tmp/[FILESRCIP]/&quot;</span><span class="p">,</span>
    <span class="s2">&quot;file_source&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;files&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="s2">&quot;/tmp/REGEX:[a-z]*.txt&quot;</span>
            <span class="p">],</span>
            <span class="s2">&quot;account&quot;</span><span class="p">:</span> <span class="s2">&quot;root&quot;</span><span class="p">,</span>
            <span class="s2">&quot;ip_list&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="s2">&quot;bk_cloud_id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                    <span class="s2">&quot;ip&quot;</span><span class="p">:</span> <span class="s2">&quot;10.0.0.1&quot;</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s2">&quot;bk_cloud_id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                    <span class="s2">&quot;ip&quot;</span><span class="p">:</span> <span class="s2">&quot;10.0.0.2&quot;</span>
                <span class="p">}</span>
            <span class="p">],</span>
            <span class="s2">&quot;custom_query_id&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="s2">&quot;3&quot;</span>
            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">&quot;ip_list&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;bk_cloud_id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s2">&quot;ip&quot;</span><span class="p">:</span> <span class="s2">&quot;10.0.0.1&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;bk_cloud_id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s2">&quot;ip&quot;</span><span class="p">:</span> <span class="s2">&quot;10.0.0.2&quot;</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">&quot;custom_query_id&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;3&quot;</span>
    <span class="p">],</span>
    <span class="s2">&quot;account&quot;</span><span class="p">:</span> <span class="s2">&quot;root&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;success&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;job_instance_name&quot;</span><span class="p">:</span> <span class="s2">&quot;API Quick Distribution File1521101427176&quot;</span><span class="p">,</span>
        <span class="s2">&quot;job_instance_id&quot;</span><span class="p">:</span> <span class="mi">10000</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/job/get_cron_list/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>查询业务下定时作业信息</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务ID</td>
</tr>
<tr>
<td>cron_name</td>
<td>string</td>
<td>否</td>
<td>定时作业名称</td>
</tr>
<tr>
<td>cron_id</td>
<td>int</td>
<td>否</td>
<td>定时任务ID，如果存在则忽略其他筛选条件，只查询这个指定的作业信息</td>
</tr>
<tr>
<td>cron_status</td>
<td>int</td>
<td>否</td>
<td>定时作业状态：1.已启动、2.已暂停</td>
</tr>
<tr>
<td>creator</td>
<td>string</td>
<td>否</td>
<td>定时作业创建人帐号</td>
</tr>
<tr>
<td>create_time_start</td>
<td>string</td>
<td>否</td>
<td>创建起始时间，YYYY-MM-DD格式</td>
</tr>
<tr>
<td>create_time_end</td>
<td>string</td>
<td>否</td>
<td>创建结束时间，YYYY-MM-DD格式</td>
</tr>
<tr>
<td>last_modify_user</td>
<td>string</td>
<td>否</td>
<td>作业修改人帐号</td>
</tr>
<tr>
<td>last_modify_time_start</td>
<td>string</td>
<td>否</td>
<td>最后修改起始时间，YYYY-MM-DD格式</td>
</tr>
<tr>
<td>last_modify_time_end</td>
<td>string</td>
<td>否</td>
<td>最后修改结束时间，YYYY-MM-DD格式</td>
</tr>
<tr>
<td>start</td>
<td>int</td>
<td>否</td>
<td>默认0表示从第1条记录开始返回</td>
</tr>
<tr>
<td>length</td>
<td>int</td>
<td>否</td>
<td>返回记录数量，不传此参数默认返回全部</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_token&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;cron_name&quot;</span><span class="p">:</span> <span class="s2">&quot;test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;cron_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;cron_status&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;creator&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
    <span class="s2">&quot;create_time_start&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-03-02&quot;</span><span class="p">,</span>
    <span class="s2">&quot;create_time_end&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-03-23&quot;</span><span class="p">,</span>
    <span class="s2">&quot;last_modify_user&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
    <span class="s2">&quot;last_modify_time_start&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-03-02&quot;</span><span class="p">,</span>
    <span class="s2">&quot;last_modify_time_end&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-03-23&quot;</span><span class="p">,</span>
    <span class="s2">&quot;start&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;length&quot;</span><span class="p">:</span> <span class="mi">100</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span>
         <span class="p">{</span>
            <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">&quot;bk_job_id&quot;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
            <span class="s2">&quot;job_name&quot;</span><span class="p">:</span> <span class="s2">&quot;job name&quot;</span><span class="p">,</span>
            <span class="s2">&quot;cron_id&quot;</span><span class="p">:</span> <span class="mi">50</span><span class="p">,</span>
            <span class="s2">&quot;cron_name&quot;</span><span class="p">:</span> <span class="s2">&quot;test&quot;</span><span class="p">,</span>
            <span class="s2">&quot;cron_status&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">&quot;cron_expression&quot;</span><span class="p">:</span> <span class="s2">&quot;2 0/5 * * * ?&quot;</span><span class="p">,</span>
            <span class="s2">&quot;creator&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
            <span class="s2">&quot;create_time&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-03-14 15:46:01 +0800&quot;</span><span class="p">,</span>
            <span class="s2">&quot;last_modify_user&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
            <span class="s2">&quot;last_modify_time&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-03-14 15:48:57 +0800&quot;</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>业务ID</td>
</tr>
<tr>
<td>bk_job_id</td>
<td>int</td>
<td>作业模板ID</td>
</tr>
<tr>
<td>job_name</td>
<td>string</td>
<td>作业名称</td>
</tr>
<tr>
<td>cron_id</td>
<td>int</td>
<td>定时作业ID</td>
</tr>
<tr>
<td>cron_name</td>
<td>string</td>
<td>定时作业名称</td>
</tr>
<tr>
<td>cron_status</td>
<td>string</td>
<td>定时作业状态：1.已启动、2.已暂停</td>
</tr>
<tr>
<td>cron_expression</td>
<td>string</td>
<td>定时任务crontab的定时规则，各自段含义为：秒 分 时 日 月 周 年（可选），如: 0 0/5 * * * ? 表示每5分钟执行一次</td>
</tr>
<tr>
<td>creator</td>
<td>string</td>
<td>作业创建人帐号</td>
</tr>
<tr>
<td>create_time</td>
<td>string</td>
<td>创建时间，YYYY-MM-DD HH:mm:ss格式</td>
</tr>
<tr>
<td>last_modify_user</td>
<td>string</td>
<td>作业修改人帐号</td>
</tr>
<tr>
<td>last_modify_time</td>
<td>string</td>
<td>最后修改时间，YYYY-MM-DD HH:mm:ss格式</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/job/get_job_detail/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>根据作业模板ID查询作业模板详情</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务ID</td>
</tr>
<tr>
<td>bk_job_id</td>
<td>int</td>
<td>是</td>
<td>作业模板ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_token&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;bk_job_id&quot;</span><span class="p">:</span> <span class="mi">100</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">&quot;bk_job_id&quot;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;test&quot;</span><span class="p">,</span>
        <span class="s2">&quot;creator&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
        <span class="s2">&quot;create_time&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-03-15 12:46:24 +0800&quot;</span><span class="p">,</span>
        <span class="s2">&quot;last_modify_user&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
        <span class="s2">&quot;last_modify_time&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-03-16 09:58:47 +0800&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tag_id&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;step_num&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
        <span class="s2">&quot;global_vars&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">11</span><span class="p">,</span>
                <span class="s2">&quot;category&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;varName&quot;</span><span class="p">,</span>
                <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;value is Me&quot;</span><span class="p">,</span>
                <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;hello&quot;</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
                <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">12</span><span class="p">,</span>
                <span class="s2">&quot;category&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;id-201831512468155&quot;</span><span class="p">,</span>
                <span class="s2">&quot;ip_list&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span>
                        <span class="s2">&quot;bk_cloud_id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                        <span class="s2">&quot;ip&quot;</span><span class="p">:</span> <span class="s2">&quot;10.0.0.1&quot;</span>
                    <span class="p">},</span>
                    <span class="p">{</span>
                        <span class="s2">&quot;bk_cloud_id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                        <span class="s2">&quot;ip&quot;</span><span class="p">:</span> <span class="s2">&quot;10.0.0.2&quot;</span>
                    <span class="p">}</span>
                <span class="p">],</span>
                <span class="s2">&quot;custom_query_id&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="s2">&quot;3&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;5&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;7&quot;</span>
                <span class="p">],</span>
                <span class="s2">&quot;step_ids&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="mi">1059</span><span class="p">,</span>
                    <span class="mi">1060</span>
                <span class="p">],</span>
                <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span>
            <span class="p">}</span>
        <span class="p">],</span>
        <span class="s2">&quot;steps&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
                <span class="s2">&quot;step_id&quot;</span><span class="p">:</span> <span class="mi">1059</span><span class="p">,</span>
                <span class="s2">&quot;script_type&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="s2">&quot;script_id&quot;</span><span class="p">:</span> <span class="mi">1078</span><span class="p">,</span>
                <span class="s2">&quot;script_timeout&quot;</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span>
                <span class="s2">&quot;script_content&quot;</span><span class="p">:</span> <span class="s2">&quot;echo $1 $2 $3&quot;</span><span class="p">,</span>
                <span class="s2">&quot;script_param&quot;</span><span class="p">:</span> <span class="s2">&quot;a1 a2 a3&quot;</span><span class="p">,</span>
                <span class="s2">&quot;is_param_sensitive&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="s2">&quot;creator&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
                <span class="s2">&quot;account&quot;</span><span class="p">:</span> <span class="s2">&quot;root&quot;</span><span class="p">,</span>
                <span class="s2">&quot;db_account_id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="s2">&quot;block_order&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="s2">&quot;block_name&quot;</span><span class="p">:</span> <span class="s2">&quot;step1&quot;</span><span class="p">,</span>
                <span class="s2">&quot;create_time&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-03-15 12:46:24 +0800&quot;</span><span class="p">,</span>
                <span class="s2">&quot;last_modify_time&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-03-16 09:58:47 +0800&quot;</span><span class="p">,</span>
                <span class="s2">&quot;last_modify_user&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
                <span class="s2">&quot;pause&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="s2">&quot;order&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="s2">&quot;ip_list&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span>
                        <span class="s2">&quot;bk_cloud_id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                        <span class="s2">&quot;ip&quot;</span><span class="p">:</span> <span class="s2">&quot;10.0.0.1&quot;</span>
                    <span class="p">},</span>
                    <span class="p">{</span>
                        <span class="s2">&quot;bk_cloud_id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                        <span class="s2">&quot;ip&quot;</span><span class="p">:</span> <span class="s2">&quot;10.0.0.2&quot;</span>
                    <span class="p">}</span>
                <span class="p">],</span>
                <span class="s2">&quot;custom_query_id&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="s2">&quot;3&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;5&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;7&quot;</span>
                <span class="p">]</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
                <span class="s2">&quot;step_id&quot;</span><span class="p">:</span> <span class="mi">1060</span><span class="p">,</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
                <span class="s2">&quot;pause&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="s2">&quot;creator&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
                <span class="s2">&quot;account&quot;</span><span class="p">:</span> <span class="s2">&quot;root&quot;</span><span class="p">,</span>
                <span class="s2">&quot;db_account_id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="s2">&quot;block_order&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
                <span class="s2">&quot;block_name&quot;</span><span class="p">:</span> <span class="s2">&quot;step2&quot;</span><span class="p">,</span>
                <span class="s2">&quot;create_time&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-03-15 12:46:24 +0800&quot;</span><span class="p">,</span>
                <span class="s2">&quot;last_modify_time&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-03-16 14:19:02 +0800&quot;</span><span class="p">,</span>
                <span class="s2">&quot;last_modify_user&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
                <span class="s2">&quot;order&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
                <span class="s2">&quot;file_target_path&quot;</span><span class="p">:</span> <span class="s2">&quot;/tmp/[FILESRCIP]/&quot;</span><span class="p">,</span>
                <span class="s2">&quot;file_source&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span>
                        <span class="s2">&quot;files&quot;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="s2">&quot;/tmp/REGEX:[a-z]*.txt&quot;</span><span class="p">,</span>
                        <span class="p">],</span>
                        <span class="s2">&quot;account&quot;</span><span class="p">:</span> <span class="s2">&quot;root&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;ip_list&quot;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="p">{</span>
                                <span class="s2">&quot;bk_cloud_id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                                <span class="s2">&quot;ip&quot;</span><span class="p">:</span> <span class="s2">&quot;10.0.0.1&quot;</span>
                            <span class="p">},</span>
                            <span class="p">{</span>
                                <span class="s2">&quot;bk_cloud_id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                                <span class="s2">&quot;ip&quot;</span><span class="p">:</span> <span class="s2">&quot;10.0.0.2&quot;</span>
                            <span class="p">}</span>
                        <span class="p">],</span>
                        <span class="s2">&quot;custom_query_id&quot;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="s2">&quot;3&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;5&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;7&quot;</span>
                        <span class="p">]</span>
                    <span class="p">}</span>
                <span class="p">],</span>
                <span class="s2">&quot;ip_list&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span>
                        <span class="s2">&quot;bk_cloud_id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                        <span class="s2">&quot;ip&quot;</span><span class="p">:</span> <span class="s2">&quot;10.0.0.1&quot;</span>
                    <span class="p">},</span>
                    <span class="p">{</span>
                        <span class="s2">&quot;bk_cloud_id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                        <span class="s2">&quot;ip&quot;</span><span class="p">:</span> <span class="s2">&quot;10.0.0.2&quot;</span>
                    <span class="p">}</span>
                <span class="p">],</span>
                <span class="s2">&quot;custom_query_id&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="s2">&quot;3&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;5&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;7&quot;</span>
                <span class="p">]</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;SQL Runner&quot;</span><span class="p">,</span>
                <span class="s2">&quot;step_id&quot;</span><span class="p">:</span> <span class="mi">1061</span><span class="p">,</span>
                <span class="s2">&quot;script_id&quot;</span><span class="p">:</span> <span class="mi">1079</span><span class="p">,</span>
                <span class="s2">&quot;script_content&quot;</span><span class="p">:</span> <span class="s2">&quot;select 1;&quot;</span><span class="p">,</span>
                <span class="s2">&quot;script_type&quot;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
                <span class="s2">&quot;script_timeout&quot;</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span>
                <span class="s2">&quot;account&quot;</span><span class="p">:</span> <span class="s2">&quot;mysql&quot;</span><span class="p">,</span>
                <span class="s2">&quot;db_account_id&quot;</span><span class="p">:</span> <span class="mi">1010</span><span class="p">,</span>
                <span class="s2">&quot;block_order&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
                <span class="s2">&quot;block_name&quot;</span><span class="p">:</span> <span class="s2">&quot;SQL Execute Step&quot;</span><span class="p">,</span>
                <span class="s2">&quot;creator&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
                <span class="s2">&quot;create_time&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-03-15 12:47:26 +0800&quot;</span><span class="p">,</span>
                <span class="s2">&quot;last_modify_time&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-03-16 14:19:02 +0800&quot;</span><span class="p">,</span>
                <span class="s2">&quot;last_modify_user&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
                <span class="s2">&quot;pause&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="s2">&quot;order&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
                <span class="s2">&quot;ip_list&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span>
                        <span class="s2">&quot;ip&quot;</span><span class="p">:</span> <span class="s2">&quot;10.0.0.1&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;bk_cloud_id&quot;</span><span class="p">:</span> <span class="mi">0</span>
                    <span class="p">}</span>
                <span class="p">]</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>业务ID</td>
</tr>
<tr>
<td>bk_job_id</td>
<td>int</td>
<td>作业模板ID</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>作业名称</td>
</tr>
<tr>
<td>creator</td>
<td>string</td>
<td>作业创建人帐号</td>
</tr>
<tr>
<td>create_time</td>
<td>string</td>
<td>创建时间，YYYY-MM-DD HH:mm:ss格式</td>
</tr>
<tr>
<td>last_modify_user</td>
<td>string</td>
<td>作业修改人帐号</td>
</tr>
<tr>
<td>last_modify_time</td>
<td>string</td>
<td>最后修改时间，YYYY-MM-DD HH:mm:ss格式</td>
</tr>
<tr>
<td>tag_id</td>
<td>string</td>
<td>作业标签ID，1.未分类、2.运营发布、3.故障处理、4.常用工具、5.产品自助、6.测试专用、7.持续集成</td>
</tr>
<tr>
<td>step_num</td>
<td>int</td>
<td>步骤数量</td>
</tr>
<tr>
<td>steps</td>
<td>array</td>
<td>步骤对象</td>
</tr>
<tr>
<td>global_vars</td>
<td>dict</td>
<td>全局变量信息</td>
</tr>
</tbody>
</table>
<h4 id="steps">steps</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>step_id</td>
<td>int</td>
<td>作业步骤ID</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>作业步骤名称</td>
</tr>
<tr>
<td>type</td>
<td>int</td>
<td>步骤类型：1.脚本步骤; 2.文件步骤; 4.SQL步骤</td>
</tr>
<tr>
<td>block_order</td>
<td>int</td>
<td>步骤块在作业中的顺序</td>
</tr>
<tr>
<td>block_name</td>
<td>string</td>
<td>步骤块名称</td>
</tr>
<tr>
<td>creator</td>
<td>string</td>
<td>作业步骤创建人帐号</td>
</tr>
<tr>
<td>create_time</td>
<td>string</td>
<td>创建时间，YYYY-MM-DD HH:mm:ss格式</td>
</tr>
<tr>
<td>last_modify_user</td>
<td>string</td>
<td>作业步骤修改人帐号</td>
</tr>
<tr>
<td>last_modify_time</td>
<td>string</td>
<td>最后修改时间，YYYY-MM-DD HH:mm:ss</td>
</tr>
<tr>
<td>pause</td>
<td>int</td>
<td>0.执行完成后不暂停(默认); 1.执行完成后暂停</td>
</tr>
<tr>
<td>script_id</td>
<td>int</td>
<td>脚本ID。当type=1或4时才有这个字段。</td>
</tr>
<tr>
<td>script_param</td>
<td>string</td>
<td>脚本参数。当type=1或4时并且有值时才有这个字段。</td>
</tr>
<tr>
<td>script_content</td>
<td>string</td>
<td>脚本内容。当type=1或4时才有这个字段。</td>
</tr>
<tr>
<td>script_timeout</td>
<td>int</td>
<td>脚本超时时间，秒。默认1000，取值范围60-86400</td>
</tr>
<tr>
<td>account</td>
<td>string</td>
<td>执行帐号名/别名</td>
</tr>
<tr>
<td>is_param_sensitive</td>
<td>int</td>
<td>敏感参数将会在执行详情页面上隐藏, 0.不是（默认），1.是。当type=1时才有这个字段。</td>
</tr>
<tr>
<td>db_account_id</td>
<td>int</td>
<td>SQL执行的db帐号ID，SQL步骤必填</td>
</tr>
<tr>
<td>order</td>
<td>int</td>
<td>当前步骤在作业中的顺序号</td>
</tr>
<tr>
<td>script_type</td>
<td>int</td>
<td>当type=1或4时并且有值时才有这个字段。脚本类型：1(shell脚本)、2(bat脚本)、3(perl脚本)、4(python脚本)、5(Powershell脚本)</td>
</tr>
<tr>
<td>file_target_path</td>
<td>string</td>
<td>文件传输目标路径，当type=2时并且有值时才有这个字段</td>
</tr>
<tr>
<td>file_source</td>
<td>array</td>
<td>源文件对象数组，当type=2时并且有值时才有这个字段，见下面file_source定义</td>
</tr>
<tr>
<td>ip_list</td>
<td>array</td>
<td>IP对象数组，见下面ip_list结构定义</td>
</tr>
<tr>
<td>custom_query_id</td>
<td>array</td>
<td>配置平台上的自定义查询id列表，有值时才有这个字段</td>
</tr>
</tbody>
</table>
<h4 id="global_vars">global_vars</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int</td>
<td>全局变量ID，唯一标识</td>
</tr>
<tr>
<td>type</td>
<td>int</td>
<td>全局变量数据类型：1:字符，2:IP，3:索引数组，4:关联数组</td>
</tr>
<tr>
<td>category</td>
<td>int</td>
<td>全局变量类型：1:云参，2:上下文参数，3:IP</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>全局变量的名称</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>字符串类型的全局变量值，当type=1时有这个字段</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>变量描述</td>
</tr>
<tr>
<td>custom_query_id</td>
<td>array</td>
<td>配置平台上的自定义查询ID列表，当type=2时并且有值时才有这个字段</td>
</tr>
<tr>
<td>ip_list</td>
<td>array</td>
<td>IP对象数组，当type=2时并且有值时才有这个字段，见下面ip_list结构定义</td>
</tr>
<tr>
<td>step_ids</td>
<td>array</td>
<td>引用了这个IP全局变量的步骤ID列表，当type=2时并且有值时才有这个字段</td>
</tr>
</tbody>
</table>
<h4 id="file_source">file_source</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>files</td>
<td>array</td>
<td>源文件的绝对路径数组，支持多个文件</td>
</tr>
<tr>
<td>account</td>
<td>string</td>
<td>执行帐号名/别名</td>
</tr>
<tr>
<td>ip_list</td>
<td>array</td>
<td>IP对象数组，当有值时才有这个字段，见下面ip_list结构定义</td>
</tr>
<tr>
<td>custom_query_id</td>
<td>array</td>
<td>配置平台上的自定义查询ID列表，当有值时才有这个字段</td>
</tr>
</tbody>
</table>
<h4 id="ip_list">ip_list</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_cloud_id</td>
<td>int</td>
<td>云区域ID</td>
</tr>
<tr>
<td>ip</td>
<td>string</td>
<td>IP地址</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/job/get_job_instance_log/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>根据作业实例ID查询作业执行日志</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务ID</td>
</tr>
<tr>
<td>job_instance_id</td>
<td>int</td>
<td>是</td>
<td>作业实例ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_token&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;job_instance_id&quot;</span><span class="p">:</span> <span class="mi">100</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;is_finished&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
            <span class="s2">&quot;step_instance_id&quot;</span><span class="p">:</span> <span class="mi">90000</span><span class="p">,</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;test&quot;</span><span class="p">,</span>
            <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
            <span class="s2">&quot;step_results&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="s2">&quot;ip_status&quot;</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
                    <span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;ip_logs&quot;</span><span class="p">:</span> <span class="p">[</span>
                        <span class="p">{</span>
                            <span class="s2">&quot;retry_count&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                            <span class="s2">&quot;total_time&quot;</span><span class="p">:</span> <span class="mf">60.599</span><span class="p">,</span>
                            <span class="s2">&quot;start_time&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-03-15 14:39:30 +0800&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;end_time&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-03-15 14:40:31 +0800&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;ip&quot;</span><span class="p">:</span> <span class="s2">&quot;10.0.0.1&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;bk_cloud_id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                            <span class="s2">&quot;error_code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                            <span class="s2">&quot;exit_code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                            <span class="s2">&quot;log_content&quot;</span><span class="p">:</span> <span class="s2">&quot;[2018-03-15 14:39:30][PID:56875] job_start</span><span class="se">\n</span><span class="s2">&quot;</span>
                        <span class="p">}</span>
                    <span class="p">]</span>
                <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>is_finished</td>
<td>bool</td>
<td>作业是否结束</td>
</tr>
<tr>
<td>step_instance_id</td>
<td>int</td>
<td>作业步骤实例ID</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>作业实例名称</td>
</tr>
<tr>
<td>status</td>
<td>int</td>
<td>作业状态码: 1.未执行; 2.正在执行; 3.执行成功; 4.执行失败; 5.跳过; 6.忽略错误; 7.等待用户; 8.手动结束; 9.状态异常; 10.步骤强制终止中; 11.步骤强制终止成功; 12.步骤强制终止失败</td>
</tr>
<tr>
<td>step_results</td>
<td>array</td>
<td>当前步骤下所有ip的日志，按tag分类或ip的执行状态(ip_status)归类存放</td>
</tr>
</tbody>
</table>
<h4 id="step_result">step_result</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>ip_status</td>
<td>int</td>
<td>主机任务状态码，1.Agent异常; 3.上次已成功; 5.等待执行; 7.正在执行; 9.执行成功; 11.任务失败; 12.任务下发失败; 13.任务超时; 15.任务日志错误; 101.脚本执行失败; 102.脚本执行超时; 103.脚本执行被终止; 104.脚本返回码非零; 202.文件传输失败; 203.源文件不存在; 310.Agent异常; 311.用户名不存在; 320.文件获取失败; 321.文件超出限制; 329.文件传输错误; 399.任务执行出错</td>
</tr>
<tr>
<td>tag</td>
<td>string</td>
<td>脚本用 job_success/job_fail 函数返回的标签内容</td>
</tr>
<tr>
<td>ip_logs</td>
<td>array</td>
<td>ip 日志内容</td>
</tr>
</tbody>
</table>
<h4 id="ip_logs">ip_logs</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>start_time</td>
<td>string</td>
<td>开始执行时间，YYYY-MM-DD HH:mm:ss</td>
</tr>
<tr>
<td>end_time</td>
<td>string</td>
<td>执行结束时间，YYYY-MM-DD HH:mm:ss格式</td>
</tr>
<tr>
<td>total_time</td>
<td>float</td>
<td>总耗时，秒</td>
</tr>
<tr>
<td>retry_count</td>
<td>int</td>
<td>步骤重试次数</td>
</tr>
<tr>
<td>error_code</td>
<td>int</td>
<td>作业执行中出错码</td>
</tr>
<tr>
<td>exit_code</td>
<td>int</td>
<td>shell脚本退出码; 0正常; 非0异常</td>
</tr>
<tr>
<td>bk_cloud_id</td>
<td>int</td>
<td>云区域ID</td>
</tr>
<tr>
<td>ip</td>
<td>string</td>
<td>IP地址</td>
</tr>
<tr>
<td>log_content</td>
<td>string</td>
<td>作业脚本输出的日志内容</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/job/get_job_instance_status/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>根据作业实例 ID 查询作业执行状态</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务ID</td>
</tr>
<tr>
<td>job_instance_id</td>
<td>int</td>
<td>是</td>
<td>作业实例ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_token&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;job_instance_id&quot;</span><span class="p">:</span> <span class="mi">100</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;is_finished&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
        <span class="s2">&quot;job_instance&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;job_instance_id&quot;</span><span class="p">:</span> <span class="mi">65</span><span class="p">,</span>
            <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;API Quick execution script1521089795887&quot;</span><span class="p">,</span>
            <span class="s2">&quot;start_way&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
            <span class="s2">&quot;operator&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
            <span class="s2">&quot;bk_job_id&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
            <span class="s2">&quot;create_time&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-03-15 12:56:35 +0800&quot;</span><span class="p">,</span>
            <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
            <span class="s2">&quot;start_time&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-03-15 12:56:35 +0800&quot;</span><span class="p">,</span>
            <span class="s2">&quot;end_time&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-03-15 12:56:39 +0800&quot;</span><span class="p">,</span>
            <span class="s2">&quot;total_time&quot;</span><span class="p">:</span> <span class="mf">3.169</span><span class="p">,</span>
            <span class="s2">&quot;current_step_instance_id&quot;</span><span class="p">:</span> <span class="mi">75</span>
        <span class="p">},</span>
        <span class="s2">&quot;blocks&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="s2">&quot;block_order&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="s2">&quot;block_name&quot;</span><span class="p">:</span> <span class="s2">&quot;API Quick execution script xxx&quot;</span><span class="p">,</span>
                <span class="s2">&quot;step_instances&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span>
                        <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
                        <span class="s2">&quot;total_time&quot;</span><span class="p">:</span> <span class="mf">3.169</span><span class="p">,</span>
                        <span class="s2">&quot;pause&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                        <span class="s2">&quot;operation_list&quot;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="p">{</span>
                                <span class="s2">&quot;operation_code&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
                                <span class="s2">&quot;operation_name&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span>
                            <span class="p">},</span>
                            <span class="p">{</span>
                                <span class="s2">&quot;operation_code&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
                                <span class="s2">&quot;operation_name&quot;</span><span class="p">:</span> <span class="s2">&quot;yyy&quot;</span>
                            <span class="p">}</span>
                        <span class="p">],</span>
                        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;API Quick execution scriptxxx&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;step_instance_id&quot;</span><span class="p">:</span> <span class="mi">75</span><span class="p">,</span>
                        <span class="s2">&quot;operator&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;order&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                        <span class="s2">&quot;retry_count&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                        <span class="s2">&quot;create_time&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-03-15 12:56:35 +0800&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;end_time&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-03-15 12:56:39 +0800&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;step_id&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
                        <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                        <span class="s2">&quot;start_time&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-03-15 12:56:35 +0800&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;step_ip_status&quot;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="p">{</span>
                                <span class="s2">&quot;ip&quot;</span><span class="p">:</span> <span class="s2">&quot;10.0.0.1&quot;</span><span class="p">,</span>
                                <span class="s2">&quot;bk_cloud_id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                                <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="mi">9</span>
                            <span class="p">}</span>
                        <span class="p">]</span>
                    <span class="p">}</span>
                <span class="p">]</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>is_finished</td>
<td>bool</td>
<td>作业是否结束</td>
</tr>
<tr>
<td>job_instance</td>
<td>dict</td>
<td>作业实例基本信息</td>
</tr>
<tr>
<td>blocks</td>
<td>array</td>
<td>作业步骤块数组</td>
</tr>
</tbody>
</table>
<h4 id="job_instance">job_instance</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>string</td>
<td>作业实例名称</td>
</tr>
<tr>
<td>status</td>
<td>int</td>
<td>作业状态码: 1.未执行; 2.正在执行; 3.执行成功; 4.执行失败; 5.跳过; 6.忽略错误; 7.等待用户; 8.手动结束; 9.状态异常; 10.步骤强制终止中; 11.步骤强制终止成功; 12.步骤强制终止失败</td>
</tr>
<tr>
<td>operator</td>
<td>string</td>
<td>作业执行人帐号</td>
</tr>
<tr>
<td>create_time</td>
<td>string</td>
<td>创建时间，YYYY-MM-DD HH:mm:ss格式</td>
</tr>
<tr>
<td>start_time</td>
<td>string</td>
<td>开始执行时间，YYYY-MM-DD HH:mm:ss格式</td>
</tr>
<tr>
<td>end_time</td>
<td>string</td>
<td>执行结束时间，YYYY-MM-DD HH:mm:ss格式</td>
</tr>
<tr>
<td>total_time</td>
<td>float</td>
<td>总耗时，秒</td>
</tr>
<tr>
<td>start_way</td>
<td>int</td>
<td>作业启动方式: 1.页面启动; 2.API调用; 3.定时任务</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>业务ID</td>
</tr>
<tr>
<td>bk_job_id</td>
<td>int</td>
<td>作业模板ID，如果不是从作业模板启动的则为-1</td>
</tr>
<tr>
<td>job_instance_id</td>
<td>int</td>
<td>作业实例ID</td>
</tr>
<tr>
<td>current_step_instance_id</td>
<td>int</td>
<td>当前执行的步骤实例ID</td>
</tr>
</tbody>
</table>
<h4 id="blocks">blocks</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>type</td>
<td>int</td>
<td>步骤块类型：1.脚本步骤; 2.文件步骤; 4.SQL步骤</td>
</tr>
<tr>
<td>block_order</td>
<td>int</td>
<td>步骤块顺序</td>
</tr>
<tr>
<td>block_name</td>
<td>string</td>
<td>步骤块名称</td>
</tr>
<tr>
<td>step_instances</td>
<td>array</td>
<td>步骤块中包含的各个步骤对象</td>
</tr>
</tbody>
</table>
<h4 id="step_instances">step_instances</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>step_id</td>
<td>int</td>
<td>作业模板步骤ID，如果不是从作业模板启动的则为-1</td>
</tr>
<tr>
<td>step_instance_id</td>
<td>int</td>
<td>作业步骤实例ID</td>
</tr>
<tr>
<td>type</td>
<td>int</td>
<td>步骤类型：1.脚本步骤; 2.文件步骤; 4.SQL步骤</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>作业实例名称</td>
</tr>
<tr>
<td>status</td>
<td>int</td>
<td>作业步骤状态码: 1.未执行; 2.正在执行; 3.执行成功; 4.执行失败; 5.跳过; 6.忽略错误; 7.等待用户; 8.手动结束; 9.状态异常; 10.步骤强制终止中; 11.步骤强制终止成功; 12.步骤强制终止失败</td>
</tr>
<tr>
<td>operator</td>
<td>string</td>
<td>作业执行人帐号</td>
</tr>
<tr>
<td>pause</td>
<td>int</td>
<td>0.执行完成后不暂停(默认); 1.执行完成后暂停</td>
</tr>
<tr>
<td>create_time</td>
<td>string</td>
<td>创建时间，YYYY-MM-DD HH:mm:ss格式</td>
</tr>
<tr>
<td>start_time</td>
<td>string</td>
<td>开始执行时间，YYYY-MM-DD HH:mm:ss格式</td>
</tr>
<tr>
<td>end_time</td>
<td>string</td>
<td>执行结束时间，YYYY-MM-DD HH:mm:ss格式</td>
</tr>
<tr>
<td>total_time</td>
<td>float</td>
<td>总耗时，秒</td>
</tr>
<tr>
<td>order</td>
<td>int</td>
<td>当前步骤在步骤块中的顺序</td>
</tr>
<tr>
<td>retry_count</td>
<td>int</td>
<td>步骤重试次数</td>
</tr>
<tr>
<td>operation_list</td>
<td>array</td>
<td>当前步骤可操作的指令</td>
</tr>
<tr>
<td>step_ip_status</td>
<td>array</td>
<td>每个服务器的作业执行状态</td>
</tr>
</tbody>
</table>
<h4 id="operation_list-description">operation_list Description</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>operation_code</td>
<td>int</td>
<td>操作命令编码，命令标识</td>
</tr>
<tr>
<td>operation_name</td>
<td>string</td>
<td>操作命令名称, 比如&#39;强制终止&#39;</td>
</tr>
</tbody>
</table>
<h4 id="step_ip_status-description">step_ip_status Description</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>ip</td>
<td>string</td>
<td>IP</td>
</tr>
<tr>
<td>bk_cloud_id</td>
<td>int</td>
<td>云区域ID</td>
</tr>
<tr>
<td>status</td>
<td>int</td>
<td>作业执行状态:1.Agent异常; 5.等待执行; 7.正在执行; 9.执行成功; 11.执行失败; 12.任务下发失败; 403.任务强制终止成功; 404.任务强制终止失败</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/job/get_job_list/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>查询作业模板</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务ID</td>
</tr>
<tr>
<td>creator</td>
<td>string</td>
<td>否</td>
<td>作业创建人帐号</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>否</td>
<td>作业名称，模糊匹配</td>
</tr>
<tr>
<td>create_time_start</td>
<td>string</td>
<td>否</td>
<td>创建起始时间，YYYY-MM-DD格式</td>
</tr>
<tr>
<td>create_time_end</td>
<td>string</td>
<td>否</td>
<td>创建结束时间，YYYY-MM-DD格式</td>
</tr>
<tr>
<td>last_modify_user</td>
<td>string</td>
<td>否</td>
<td>作业修改人帐号</td>
</tr>
<tr>
<td>last_modify_time_start</td>
<td>string</td>
<td>否</td>
<td>最后修改起始时间，YYYY-MM-DD格式</td>
</tr>
<tr>
<td>last_modify_time_end</td>
<td>string</td>
<td>否</td>
<td>最后修改结束时间，YYYY-MM-DD格式</td>
</tr>
<tr>
<td>tag_id</td>
<td>string</td>
<td>否</td>
<td>作业标签ID，1.未分类、2.运营发布、3.故障处理、4.常用工具、5.产品自助、6.测试专用、7.持续集成</td>
</tr>
<tr>
<td>start</td>
<td>int</td>
<td>否</td>
<td>默认0表示从第1条记录开始返回</td>
</tr>
<tr>
<td>length</td>
<td>int</td>
<td>否</td>
<td>返回记录数量，不传此参数默认返回全部</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_token&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;creator&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;create_time_start&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-02-22&quot;</span><span class="p">,</span>
    <span class="s2">&quot;create_time_end&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-02-22&quot;</span><span class="p">,</span>
    <span class="s2">&quot;last_modify_user&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
    <span class="s2">&quot;last_modify_time_start&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-02-22&quot;</span><span class="p">,</span>
    <span class="s2">&quot;last_modify_time_end&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-02-22&quot;</span><span class="p">,</span>
    <span class="s2">&quot;tag_id&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
    <span class="s2">&quot;start&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;length&quot;</span><span class="p">:</span> <span class="mi">100</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;success&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">&quot;bk_job_id&quot;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;test&quot;</span><span class="p">,</span>
            <span class="s2">&quot;step_num&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
            <span class="s2">&quot;tag_id&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
            <span class="s2">&quot;creator&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
            <span class="s2">&quot;last_modify_user&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
            <span class="s2">&quot;create_time&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-01-23 15:05:41 +0800&quot;</span><span class="p">,</span>
            <span class="s2">&quot;last_modify_time&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-01-23 16:04:51 +0800&quot;</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>业务ID</td>
</tr>
<tr>
<td>bk_job_id</td>
<td>int</td>
<td>作业模板ID</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>作业名称</td>
</tr>
<tr>
<td>step_num</td>
<td>int</td>
<td>作业模板中的步骤数量</td>
</tr>
<tr>
<td>tag_id</td>
<td>string</td>
<td>作业标签ID，1.未分类、2.运营发布、3.故障处理、4.常用工具、5.产品自助、6.测试专用、7.持续集成</td>
</tr>
<tr>
<td>creator</td>
<td>string</td>
<td>作业创建人帐号</td>
</tr>
<tr>
<td>create_time</td>
<td>string</td>
<td>创建时间，YYYY-MM-DD HH:mm:ss格式</td>
</tr>
<tr>
<td>last_modify_user</td>
<td>string</td>
<td>作业修改人帐号</td>
</tr>
<tr>
<td>last_modify_time</td>
<td>string</td>
<td>最后修改时间，YYYY-MM-DD HH:mm:ss格式</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/job/get_os_account/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>查询业务下的执行账号</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_token&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">1</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;success&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
            <span class="s2">&quot;account&quot;</span><span class="p">:</span> <span class="s2">&quot;Administrator&quot;</span><span class="p">,</span>
            <span class="s2">&quot;creator&quot;</span><span class="p">:</span> <span class="s2">&quot;system&quot;</span><span class="p">,</span>
            <span class="s2">&quot;os&quot;</span><span class="p">:</span> <span class="s2">&quot;Windows&quot;</span><span class="p">,</span>
            <span class="s2">&quot;alias&quot;</span><span class="p">:</span> <span class="s2">&quot;Administrator&quot;</span><span class="p">,</span>
            <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
            <span class="s2">&quot;create_time&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-03-22 15:36:31&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">19</span><span class="p">,</span>
            <span class="s2">&quot;account&quot;</span><span class="p">:</span> <span class="s2">&quot;SDFDSFDFDS&quot;</span><span class="p">,</span>
            <span class="s2">&quot;creator&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
            <span class="s2">&quot;os&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
            <span class="s2">&quot;alias&quot;</span><span class="p">:</span> <span class="s2">&quot;SDFDSFDFDS&quot;</span><span class="p">,</span>
            <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
            <span class="s2">&quot;create_time&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-08-10 11:49:20&quot;</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int</td>
<td>账号ID</td>
</tr>
<tr>
<td>account</td>
<td>string</td>
<td>账号名称</td>
</tr>
<tr>
<td>creator</td>
<td>string</td>
<td>账号创建人</td>
</tr>
<tr>
<td>os</td>
<td>string</td>
<td>账号对应的OS</td>
</tr>
<tr>
<td>alias</td>
<td>string</td>
<td>账号别名</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>业务ID</td>
</tr>
<tr>
<td>create_time</td>
<td>string</td>
<td>账号创建时间</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/job/get_own_db_account_list/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>查询用户有权限的DB帐号列表</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务ID</td>
</tr>
<tr>
<td>start</td>
<td>int</td>
<td>否</td>
<td>默认0表示从第1条记录开始返回</td>
</tr>
<tr>
<td>length</td>
<td>int</td>
<td>否</td>
<td>返回记录数量，不传此参数默认返回全部</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_token&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;start&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;length&quot;</span><span class="p">:</span> <span class="mi">100</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;success&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;db_account_id&quot;</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span>
            <span class="s2">&quot;db_alias&quot;</span><span class="p">:</span> <span class="s2">&quot;mysql&quot;</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>db_account_id</td>
<td>int</td>
<td>db帐号ID,主键，执行脚本或作业的接口请求传递参数时用此参数</td>
</tr>
<tr>
<td>db_alias</td>
<td>string</td>
<td>帐号别名</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/job/get_script_detail/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>查询脚本详情</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>否</td>
<td>业务ID，如果查询公共脚本可不传</td>
</tr>
<tr>
<td>id</td>
<td>int</td>
<td>是</td>
<td>脚本ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_token&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">18</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;success&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">18</span><span class="p">,</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;test&quot;</span><span class="p">,</span>
        <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;admin.20180723160606&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;v1.0&quot;</span><span class="p">,</span>
        <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">&quot;creator&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
        <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
        <span class="s2">&quot;public&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
        <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">&quot;create_time&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-07-23 16:06:06&quot;</span><span class="p">,</span>
        <span class="s2">&quot;last_modify_user&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
        <span class="s2">&quot;last_modify_time&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-07-23 16:06:08&quot;</span>
    <span class="p">},</span>
<span class="p">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int</td>
<td>脚本ID</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>脚本名称</td>
</tr>
<tr>
<td>version</td>
<td>string</td>
<td>脚本版本号</td>
</tr>
<tr>
<td>tag</td>
<td>string</td>
<td>脚本版本备注</td>
</tr>
<tr>
<td>type</td>
<td>int</td>
<td>脚本类型</td>
</tr>
<tr>
<td>creator</td>
<td>string</td>
<td>脚本创建人</td>
</tr>
<tr>
<td>public</td>
<td>bool</td>
<td>是否公共脚本</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>业务ID</td>
</tr>
<tr>
<td>create_time</td>
<td>string</td>
<td>脚本创建时间</td>
</tr>
<tr>
<td>last_modify_user</td>
<td>string</td>
<td>脚本最近一次修改人</td>
</tr>
<tr>
<td>last_modify_time</td>
<td>string</td>
<td>脚本最近一次修改时间</td>
</tr>
<tr>
<td>content</td>
<td>string</td>
<td>脚本内容</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/job/get_script_list/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>查询脚本列表</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>否</td>
<td>业务ID，如果查询公共脚本可不传</td>
</tr>
<tr>
<td>is_public</td>
<td>bool</td>
<td>否</td>
<td>是否公共脚本。true:公共脚本；false:业务脚本。默认值为false</td>
</tr>
<tr>
<td>return_script_content</td>
<td>bool</td>
<td>否</td>
<td>是否需要返回脚本内容。true:返回脚本内容；false：不返回脚本内容。默认为false。</td>
</tr>
<tr>
<td>start</td>
<td>int</td>
<td>否</td>
<td>默认0表示从第1条记录开始返回</td>
</tr>
<tr>
<td>length</td>
<td>int</td>
<td>否</td>
<td>分页查询-每页纪录数，默认为20。如果传入0或者不传，表示不分页</td>
</tr>
<tr>
<td>script_type</td>
<td>string</td>
<td>否</td>
<td>脚本类型。0：所有脚本类型，1：shell，2：bat，3：perl，4：python，5：powershell，6：sql。默认值为0</td>
</tr>
<tr>
<td>script_name</td>
<td>string</td>
<td>否</td>
<td>脚本名称，支持模糊查询</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_token&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;start&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;length&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
    <span class="s2">&quot;is_public&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s2">&quot;return_script_content&quot;</span><span class="p">:</span> <span class="n">false</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;success&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">6862</span><span class="p">,</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;a.sh&quot;</span><span class="p">,</span>
                <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;admin.20180627172306&quot;</span><span class="p">,</span>
                <span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;v1.0&quot;</span><span class="p">,</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="s2">&quot;creator&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
                <span class="s2">&quot;public&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
                <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
                <span class="s2">&quot;create_time&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-06-27 17:23:06&quot;</span><span class="p">,</span>
                <span class="s2">&quot;last_modify_user&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
                <span class="s2">&quot;last_modify_time&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-06-27 17:23:06&quot;</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">36</span><span class="p">,</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;build_version&quot;</span><span class="p">,</span>
                <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;admin.20180723154537&quot;</span><span class="p">,</span>
                <span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;v1.0&quot;</span><span class="p">,</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="s2">&quot;creator&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
                <span class="s2">&quot;public&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
                <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
                <span class="s2">&quot;create_time&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-07-23 15:45:37&quot;</span><span class="p">,</span>
                <span class="s2">&quot;last_modify_user&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
                <span class="s2">&quot;last_modify_time&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-07-23 17:24:17&quot;</span>
            <span class="p">}</span>
        <span class="p">],</span>
        <span class="s2">&quot;start&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;page_size&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
        <span class="s2">&quot;total_record_size&quot;</span><span class="p">:</span> <span class="mi">2</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int</td>
<td>脚本ID</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>脚本名称</td>
</tr>
<tr>
<td>version</td>
<td>string</td>
<td>脚本版本号</td>
</tr>
<tr>
<td>tag</td>
<td>string</td>
<td>脚本版本备注</td>
</tr>
<tr>
<td>type</td>
<td>int</td>
<td>脚本类型</td>
</tr>
<tr>
<td>creator</td>
<td>string</td>
<td>脚本创建人</td>
</tr>
<tr>
<td>public</td>
<td>bool</td>
<td>是否公共脚本</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>业务ID</td>
</tr>
<tr>
<td>create_time</td>
<td>string</td>
<td>脚本创建时间</td>
</tr>
<tr>
<td>last_modify_user</td>
<td>string</td>
<td>脚本最近一次修改人</td>
</tr>
<tr>
<td>last_modify_time</td>
<td>string</td>
<td>脚本最近一次修改时间</td>
</tr>
<tr>
<td>content</td>
<td>string</td>
<td>脚本内容</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/job/get_step_instance_status/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>查询作业步骤的执行状态</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h3 id="_6">接口参数</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务ID</td>
</tr>
<tr>
<td>params</td>
<td>map</td>
<td>是</td>
<td>请求参数结构</td>
</tr>
</tbody>
</table>
<h4 id="params">params</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>job_instance_id</td>
<td>int</td>
<td>是</td>
<td>作业实例ID</td>
</tr>
<tr>
<td>step_instance_id</td>
<td>int</td>
<td>是</td>
<td>作业步骤实例ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_token&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="s2">&quot;params&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;job_instance_id&quot;</span><span class="p">:</span> <span class="mi">490001</span><span class="p">,</span>
        <span class="s2">&quot;step_instance_id&quot;</span><span class="p">:</span> <span class="mi">790001</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;OK&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;is_finished&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
        <span class="s2">&quot;step_instance_analyse_result&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s2">&quot;result_type&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
                <span class="s2">&quot;result_type_text&quot;</span><span class="p">:</span> <span class="s2">&quot;Success&quot;</span><span class="p">,</span>
                <span class="s2">&quot;count&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="s2">&quot;ip_list&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span>
                        <span class="s2">&quot;bk_cloud_id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                        <span class="s2">&quot;ip&quot;</span><span class="p">:</span> <span class="s2">&quot;10.25.0.2&quot;</span>
                    <span class="p">}</span>
                <span class="p">]</span>
            <span class="p">}</span>
        <span class="p">],</span>
        <span class="s2">&quot;step_instance_detail&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;step_instance_id&quot;</span><span class="p">:</span> <span class="mi">790001</span><span class="p">,</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;my_job&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">&quot;operator&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
            <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
            <span class="s2">&quot;step_id&quot;</span><span class="p">:</span> <span class="mi">10000</span><span class="p">,</span>
            <span class="s2">&quot;job_instance_id&quot;</span><span class="p">:</span> <span class="mi">490001</span><span class="p">,</span>
            <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
            <span class="s2">&quot;target_ips&quot;</span><span class="p">:</span> <span class="s2">&quot;0:10.25.0.2&quot;</span><span class="p">,</span>
            <span class="s2">&quot;abnormal_agent_ips&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;retry_count&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s2">&quot;start_time&quot;</span><span class="p">:</span> <span class="s2">&quot;2019-06-07 12:15:14&quot;</span><span class="p">,</span>
            <span class="s2">&quot;end_time&quot;</span><span class="p">:</span> <span class="s2">&quot;2019-06-07 12:15:42&quot;</span><span class="p">,</span>
            <span class="s2">&quot;total_time&quot;</span><span class="p">:</span> <span class="mf">28.395</span><span class="p">,</span>
            <span class="s2">&quot;total_ip_num&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">&quot;abnormal_agent_ip_num&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s2">&quot;running_ip_num&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">&quot;fail_ip_num&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">&quot;success_ip_num&quot;</span><span class="p">:</span> <span class="mi">0</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>is_finished</td>
<td>boolean</td>
<td>作业步骤是否结束</td>
</tr>
<tr>
<td>step_instance_detail</td>
<td>map</td>
<td>步骤实例执行详情</td>
</tr>
<tr>
<td>step_instance_analyse_result</td>
<td>map</td>
<td>作业步骤执行结果分析</td>
</tr>
</tbody>
</table>
<h4 id="step_instance_detail">step_instance_detail</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>step_instance_id</td>
<td>long</td>
<td>作业步骤实例ID</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>步骤名称</td>
</tr>
<tr>
<td>type</td>
<td>int</td>
<td>步骤类型: 1.脚本执行; 2.文件分发; 4.SQL脚本执行</td>
</tr>
<tr>
<td>operator</td>
<td>string</td>
<td>作业执行人帐号</td>
</tr>
<tr>
<td>status</td>
<td>int</td>
<td>步骤执行状态码: 1.未执行; 2.正在执行; 3.执行成功; 4.执行失败; 5.跳过; 6.忽略错误; 7.等待用户; 8.手动结束; 9.状态异常; 10.步骤强制终止中; 11.步骤强制终止成功; 12.步骤强制终止失败</td>
</tr>
<tr>
<td>step_id</td>
<td>long</td>
<td>步骤ID</td>
</tr>
<tr>
<td>job_instance_id</td>
<td>long</td>
<td>作业实例ID</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>业务ID</td>
</tr>
<tr>
<td>target_ips</td>
<td>string</td>
<td>目标服务器IP列表，格式:IP1,IP2,IP2</td>
</tr>
<tr>
<td>abnormal_agent_ips</td>
<td>string</td>
<td>作业执行异常服务器的IP列表，格式:IP1,IP2,IP2</td>
</tr>
<tr>
<td>retry_count</td>
<td>int</td>
<td>步骤重试次数</td>
</tr>
<tr>
<td>start_time</td>
<td>string</td>
<td>开始执行时间，YYYY-MM-DD HH:mm:ss格式</td>
</tr>
<tr>
<td>end_time</td>
<td>string</td>
<td>执行结束时间，YYYY-MM-DD HH:mm:ss格式</td>
</tr>
<tr>
<td>total_time</td>
<td>float</td>
<td>步骤总耗时,秒</td>
</tr>
<tr>
<td>total_ip_num</td>
<td>int</td>
<td>目标服务器数量</td>
</tr>
<tr>
<td>abnormal_agent_ip_num</td>
<td>int</td>
<td>执行异常服务器数量</td>
</tr>
<tr>
<td>running_ip_num</td>
<td>int</td>
<td>正在执行当前步骤的服务器数量</td>
</tr>
<tr>
<td>fail_ip_num</td>
<td>int</td>
<td>当前步骤执行失败的服务器数量</td>
</tr>
<tr>
<td>success_ip_num</td>
<td>int</td>
<td>作业执行成功的服务器数量</td>
</tr>
</tbody>
</table>
<h4 id="step_analyse_result">step_analyse_result</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>result_type</td>
<td>int</td>
<td>执行结果类型</td>
</tr>
<tr>
<td>result_type_text</td>
<td>int</td>
<td>执行结果类型描述</td>
</tr>
<tr>
<td>count</td>
<td>int</td>
<td>服务器数目</td>
</tr>
<tr>
<td>ip_list</td>
<td>array</td>
<td>服务器IP列表</td>
</tr>
</tbody>
</table>
<h4 id="ip_list">ip_list</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_cloud_id</td>
<td>int</td>
<td>云区域ID</td>
</tr>
<tr>
<td>ip</td>
<td>string</td>
<td>IP</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/job/save_cron/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>新建或保存定时作业；新建定时作业，作业状态默认为暂停；操作者必须是业务的创建人或运维</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务ID</td>
</tr>
<tr>
<td>bk_job_id</td>
<td>int</td>
<td>是</td>
<td>要定时执行的作业的作业ID</td>
</tr>
<tr>
<td>cron_id</td>
<td>int</td>
<td>否</td>
<td>定时任务ID，更新定时任务时，必须传这个值</td>
</tr>
<tr>
<td>cron_name</td>
<td>string</td>
<td>否</td>
<td>定时作业名称，新建时必填，修改时选填</td>
</tr>
<tr>
<td>cron_expression</td>
<td>string</td>
<td>否</td>
<td>定时任务crontab的定时规则，新建时必填，修改时选填，各字段含义为：秒 分 时 日 月 周 年（可选），如: 0 0/5 * * * ? 表示每5分钟执行一次</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_token&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;bk_job_id&quot;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
    <span class="s2">&quot;cron_name&quot;</span><span class="p">:</span> <span class="s2">&quot;test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;cron_expression&quot;</span><span class="p">:</span> <span class="s2">&quot;0 0/5 * * * ?&quot;</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;success&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;cron_id&quot;</span><span class="p">:</span> <span class="mi">1</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/job/update_cron_status/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>更新定时作业状态，如启动或暂停；操作者必须是业务的创建人或运维</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务ID</td>
</tr>
<tr>
<td>cron_status</td>
<td>int</td>
<td>是</td>
<td>定时状态，1.启动、2.暂停</td>
</tr>
<tr>
<td>cron_id</td>
<td>int</td>
<td>是</td>
<td>定时作业ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_token&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;cron_status&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;cron_id&quot;</span><span class="p">:</span> <span class="mi">2</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;success&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;cron_id&quot;</span><span class="p">:</span> <span class="mi">2</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div><h2 id="api">蓝鲸监控 API 简介</h2>
<table>
<thead>
<tr>
<th>资源名称</th>
<th>资源描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="5.1/API文档/MONITOR/alarm_instance.md">alarm_instance</a></td>
<td>返回指定告警</td>
</tr>
<tr>
<td><a href="5.1/API文档/MONITOR/component_instance.md">component_instance</a></td>
<td>返回指定组件</td>
</tr>
<tr>
<td><a href="5.1/API文档/MONITOR/deploy_script_collector.md">deploy_script_collector</a></td>
<td>下发脚本采集配置</td>
</tr>
<tr>
<td><a href="5.1/API文档/MONITOR/export_alarm_strategy.md">export_alarm_strategy</a></td>
<td>导出监控策略</td>
</tr>
<tr>
<td><a href="5.1/API文档/MONITOR/export_log_collector.md">export_log_collector</a></td>
<td>导出日志采集配置</td>
</tr>
<tr>
<td><a href="5.1/API文档/MONITOR/export_script_collector.md">export_script_collector</a></td>
<td>导出脚本采集配置</td>
</tr>
<tr>
<td><a href="5.1/API文档/MONITOR/export_uptime_check_task.md">export_uptime_check_task</a></td>
<td>导出拨测任务配置</td>
</tr>
<tr>
<td><a href="5.1/API文档/MONITOR/get_alarms.md">get_alarms</a></td>
<td>通过筛选条件获取指定告警</td>
</tr>
<tr>
<td><a href="5.1/API文档/MONITOR/import_alarm_strategy.md">import_alarm_strategy</a></td>
<td>导入监控策略</td>
</tr>
<tr>
<td><a href="5.1/API文档/MONITOR/import_log_collector.md">import_log_collector</a></td>
<td>导入日志采集配置</td>
</tr>
<tr>
<td><a href="5.1/API文档/MONITOR/import_script_collector.md">import_script_collector</a></td>
<td>导入脚本采集配置</td>
</tr>
<tr>
<td><a href="5.1/API文档/MONITOR/import_uptime_check_node.md">import_uptime_check_node</a></td>
<td>导入拨测节点配置</td>
</tr>
<tr>
<td><a href="5.1/API文档/MONITOR/import_uptime_check_task.md">import_uptime_check_task</a></td>
<td>导入拨测任务配置</td>
</tr>
<tr>
<td><a href="5.1/API文档/MONITOR/list_alarm_instance.md">list_alarm_instance</a></td>
<td>批量筛选告警</td>
</tr>
<tr>
<td><a href="5.1/API文档/MONITOR/list_component_instance.md">list_component_instance</a></td>
<td>批量筛选组件</td>
</tr>
<tr>
<td><a href="5.1/API文档/MONITOR/query_data.md">query_data</a></td>
<td>图表数据查询</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor/alarm_instance/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>返回指定告警<br />
返回指定id的告警数据</p>
<h4 id="_4">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_5">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int</td>
<td>是</td>
<td>告警</td>
</tr>
</tbody>
</table>
<h4 id="_6">请求示例</h4>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="mi">637984</span>
<span class="p">}</span>
</pre></div>


<h3 id="_7">返回结果</h3>
<h4 id="_8">字段说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>snap_notice</td>
<td>dict</td>
<td>通知配置快照</td>
</tr>
<tr>
<td>origin_alarm</td>
<td>dict</td>
<td>告警源数据</td>
</tr>
<tr>
<td>snap_converge</td>
<td>dict</td>
<td>收敛配置快照</td>
</tr>
<tr>
<td>alarm_dimension</td>
<td>dict</td>
<td>告警维度</td>
</tr>
<tr>
<td>snap_collect</td>
<td>dict</td>
<td>汇总配置快照</td>
</tr>
<tr>
<td>match_dimension</td>
<td>dict</td>
<td>匹配维度</td>
</tr>
<tr>
<td>snap_alarm_source</td>
<td>dict</td>
<td>告警源配置快照</td>
</tr>
<tr>
<td>alarm_content</td>
<td>dict</td>
<td>告警内容</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>业务ID</td>
</tr>
<tr>
<td>bk_cloud_id</td>
<td>int</td>
<td>云区域ID</td>
</tr>
<tr>
<td>bk_supplier_id</td>
<td>int</td>
<td>开发商ID</td>
</tr>
<tr>
<td>alarm_source_id</td>
<td>int</td>
<td>告警源ID</td>
</tr>
<tr>
<td>raw</td>
<td>string</td>
<td>告警内容</td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td>状态</td>
</tr>
<tr>
<td>comment</td>
<td>string</td>
<td>备注</td>
</tr>
<tr>
<td>begin_time</td>
<td>time</td>
<td>处理开始时间</td>
</tr>
<tr>
<td>end_time</td>
<td>time</td>
<td>处理结束时间</td>
</tr>
<tr>
<td>source_time</td>
<td>time</td>
<td>告警发生时间</td>
</tr>
<tr>
<td>ip</td>
<td>string</td>
<td>主机IP</td>
</tr>
<tr>
<td>alarm_type</td>
<td>string</td>
<td>告警类型</td>
</tr>
<tr>
<td>source_id</td>
<td>string</td>
<td>告警特征ID</td>
</tr>
<tr>
<td>source_type</td>
<td>string</td>
<td>告警源类型</td>
</tr>
<tr>
<td>alarm_dimension</td>
<td>string</td>
<td>告警维度</td>
</tr>
<tr>
<td>match_dimension</td>
<td>string</td>
<td>匹配维度</td>
</tr>
<tr>
<td>alarm_attr_id</td>
<td>int</td>
<td>监控ID</td>
</tr>
<tr>
<td>event_id</td>
<td>string</td>
<td>关联事件ID</td>
</tr>
<tr>
<td>priority</td>
<td>int</td>
<td>告警优先级</td>
</tr>
<tr>
<td>level</td>
<td>int</td>
<td>告警等级</td>
</tr>
<tr>
<td>user_status</td>
<td>string</td>
<td>告警外部状态</td>
</tr>
</tbody>
</table>
<h4 id="_9">结果示例</h4>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="s2">&quot;OK&quot;</span><span class="p">,</span>
    <span class="nt">&quot;code&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;data&quot;</span><span class="p">:{</span>
        <span class="nt">&quot;comment&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
        <span class="nt">&quot;cc_company_id&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
        <span class="nt">&quot;alarm_attr_id&quot;</span><span class="p">:</span><span class="mi">26</span><span class="p">,</span>
        <span class="nt">&quot;solution_type&quot;</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span>
        <span class="nt">&quot;snap_collect&quot;</span><span class="p">:{</span>
            <span class="nt">&quot;is_enabled&quot;</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span>
            <span class="nt">&quot;update_time&quot;</span><span class="p">:</span><span class="s2">&quot;2017-01-01T00:00:00&quot;</span><span class="p">,</span>
            <span class="nt">&quot;update_user&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="s2">&quot;collect&quot;</span><span class="p">,</span>
            <span class="nt">&quot;create_user&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="nt">&quot;create_time&quot;</span><span class="p">:</span><span class="s2">&quot;2017-01-01T00:00:00&quot;</span><span class="p">,</span>
            <span class="nt">&quot;is_deleted&quot;</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span>
            <span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
            <span class="nt">&quot;alarm_source_id&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
            <span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="s2">&quot;collect&quot;</span><span class="p">,</span>
            <span class="nt">&quot;collect_id&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
            <span class="nt">&quot;config&quot;</span><span class="p">:</span><span class="s2">&quot;{\&quot;collect_attr\&quot;: \&quot;monitor_id\&quot;, \&quot;collect_range\&quot;: 1, \&quot;collect_count\&quot;: 2, \&quot;collect_next_range\&quot;: 1, \&quot;collect_reset_time\&quot;:5}&quot;</span>
        <span class="p">},</span>
        <span class="nt">&quot;origin_alarm&quot;</span><span class="p">:{</span>
            <span class="nt">&quot;count_freq&quot;</span><span class="p">:</span><span class="mi">60</span><span class="p">,</span>
            <span class="nt">&quot;_match_info&quot;</span><span class="p">:{</span>
                <span class="nt">&quot;bk_cloud_id&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
                <span class="nt">&quot;converge&quot;</span><span class="p">:[</span>
                    <span class="mi">26</span>
                <span class="p">],</span>
                <span class="nt">&quot;monitor_target&quot;</span><span class="p">:</span><span class="s2">&quot;available&quot;</span><span class="p">,</span>
                <span class="nt">&quot;monitor_name&quot;</span><span class="p">:</span><span class="s2">&quot;QQ\u6d4b\u8bd5_\u53ef\u7528\u7387&quot;</span><span class="p">,</span>
                <span class="nt">&quot;category&quot;</span><span class="p">:</span><span class="s2">&quot;uptimecheck&quot;</span><span class="p">,</span>
                <span class="nt">&quot;monitor_level&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>
                <span class="nt">&quot;event_time&quot;</span><span class="p">:</span><span class="s2">&quot;2018-11-27 02:30:23&quot;</span><span class="p">,</span>
                <span class="nt">&quot;collect&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
                <span class="nt">&quot;alarm_desc&quot;</span><span class="p">:</span><span class="s2">&quot;\u5f53\u524d\u6307\u6807\u503c(50.0%) &lt; (100.0%)&quot;</span><span class="p">,</span>
                <span class="nt">&quot;monitor_source_name&quot;</span><span class="p">:</span><span class="s2">&quot;QQ\u6d4b\u8bd5_\u53ef\u7528\u7387&quot;</span><span class="p">,</span>
                <span class="nt">&quot;alarm_dimension&quot;</span><span class="p">:{</span>
                    <span class="nt">&quot;\u8bf7\u6c42\u7f51\u5740&quot;</span><span class="p">:</span><span class="s2">&quot;http:\/\/www.qq.com\/&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;\u4efb\u52a1id&quot;</span><span class="p">:</span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;biz_id&quot;</span><span class="p">:</span><span class="mi">2</span>
                <span class="p">},</span>
                <span class="nt">&quot;cc_app_module&quot;</span><span class="p">:[</span>

                <span class="p">],</span>
                <span class="nt">&quot;notice&quot;</span><span class="p">:</span><span class="mi">26</span><span class="p">,</span>
                <span class="nt">&quot;alarm_type&quot;</span><span class="p">:[</span>
                    <span class="s2">&quot;uptimecheck&quot;</span>
                <span class="p">],</span>
                <span class="nt">&quot;cc_company_id&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
                <span class="nt">&quot;alarm_attr_id&quot;</span><span class="p">:</span><span class="mi">26</span><span class="p">,</span>
                <span class="nt">&quot;alarm_time&quot;</span><span class="p">:</span><span class="s2">&quot;2018-11-27 02:28:00&quot;</span><span class="p">,</span>
                <span class="nt">&quot;source_type&quot;</span><span class="p">:</span><span class="s2">&quot;JUNGLE_ALERT&quot;</span><span class="p">,</span>
                <span class="nt">&quot;host&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
                <span class="nt">&quot;biz_id&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>
                <span class="nt">&quot;alarm_source_id&quot;</span><span class="p">:</span><span class="mi">26</span><span class="p">,</span>
                <span class="nt">&quot;cc_topo_set&quot;</span><span class="p">:[</span>

                <span class="p">],</span>
                <span class="nt">&quot;solution&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
                <span class="nt">&quot;bk_biz_id&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>
                <span class="nt">&quot;monitor_indicator&quot;</span><span class="p">:</span><span class="s2">&quot;\u5355\u70b9\u53ef\u7528\u7387&quot;</span><span class="p">,</span>
                <span class="nt">&quot;source_id&quot;</span><span class="p">:</span><span class="s2">&quot;7f32e1f4aaa7f7e462b639d02e5cfa40&quot;</span><span class="p">,</span>
                <span class="nt">&quot;match_dimension&quot;</span><span class="p">:{</span>
                    <span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="s2">&quot;http:\/\/www.qq.com\/&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;alarm_attr_id&quot;</span><span class="p">:</span><span class="s2">&quot;26&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;alarm_source_id&quot;</span><span class="p">:</span><span class="s2">&quot;26&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;task_id&quot;</span><span class="p">:</span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;biz_id&quot;</span><span class="p">:</span><span class="mi">2</span>
                <span class="p">}</span>
            <span class="p">},</span>
            <span class="nt">&quot;anomaly_id&quot;</span><span class="p">:</span><span class="s2">&quot;7f32e1f4aaa7f7e462b639d02e5cfa40&quot;</span><span class="p">,</span>
            <span class="nt">&quot;anomaly_level&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="nt">&quot;monitor_source_type&quot;</span><span class="p">:</span><span class="s2">&quot;TSDATA&quot;</span><span class="p">,</span>
            <span class="nt">&quot;monitor_field_alias&quot;</span><span class="p">:</span><span class="s2">&quot;\u5355\u70b9\u53ef\u7528\u7387&quot;</span><span class="p">,</span>
            <span class="nt">&quot;monitor_source_info&quot;</span><span class="p">:{</span>
                <span class="nt">&quot;where_sql&quot;</span><span class="p">:</span><span class="s2">&quot; ((task_id=&#39;1&#39;))&quot;</span><span class="p">,</span>
                <span class="nt">&quot;monitor_result_table_id&quot;</span><span class="p">:</span><span class="s2">&quot;2_uptimecheck_http&quot;</span><span class="p">,</span>
                <span class="nt">&quot;count_freq&quot;</span><span class="p">:</span><span class="mi">60</span><span class="p">,</span>
                <span class="nt">&quot;dimensions&quot;</span><span class="p">:[</span>
                    <span class="s2">&quot;task_id&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;url&quot;</span>
                <span class="p">],</span>
                <span class="nt">&quot;aggregator&quot;</span><span class="p">:</span><span class="s2">&quot;avg&quot;</span><span class="p">,</span>
                <span class="nt">&quot;monitor_field&quot;</span><span class="p">:</span><span class="s2">&quot;available&quot;</span><span class="p">,</span>
                <span class="nt">&quot;unit&quot;</span><span class="p">:</span><span class="s2">&quot;%&quot;</span><span class="p">,</span>
                <span class="nt">&quot;unit_conversion&quot;</span><span class="p">:</span><span class="mf">0.01</span>
            <span class="p">},</span>
            <span class="nt">&quot;alarm_def_id&quot;</span><span class="p">:</span><span class="mi">26</span><span class="p">,</span>
            <span class="nt">&quot;monitor_target&quot;</span><span class="p">:</span><span class="s2">&quot;available&quot;</span><span class="p">,</span>
            <span class="nt">&quot;anomaly_time&quot;</span><span class="p">:</span><span class="s2">&quot;2018-11-27 02:30:23&quot;</span><span class="p">,</span>
            <span class="nt">&quot;biz_id&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>
            <span class="nt">&quot;monitor_tag&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="nt">&quot;monitor_desc&quot;</span><span class="p">:</span><span class="s2">&quot;QQ\u6d4b\u8bd5_\u53ef\u7528\u7387&quot;</span><span class="p">,</span>
            <span class="nt">&quot;monitor_source_id&quot;</span><span class="p">:</span><span class="s2">&quot;2_uptimecheck_http&quot;</span><span class="p">,</span>
            <span class="nt">&quot;monitor_name&quot;</span><span class="p">:</span><span class="s2">&quot;QQ\u6d4b\u8bd5_\u53ef\u7528\u7387&quot;</span><span class="p">,</span>
            <span class="nt">&quot;unit&quot;</span><span class="p">:</span><span class="s2">&quot;%&quot;</span><span class="p">,</span>
            <span class="nt">&quot;extra_info&quot;</span><span class="p">:{</span>
                <span class="nt">&quot;check_value&quot;</span><span class="p">:</span><span class="mf">50.0</span>
            <span class="p">},</span>
            <span class="nt">&quot;conversion&quot;</span><span class="p">:</span><span class="mf">0.01</span><span class="p">,</span>
            <span class="nt">&quot;monitor_level&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>
            <span class="nt">&quot;dimensions&quot;</span><span class="p">:{</span>
                <span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="s2">&quot;http:\/\/www.qq.com\/&quot;</span><span class="p">,</span>
                <span class="nt">&quot;task_id&quot;</span><span class="p">:</span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
                <span class="nt">&quot;biz_id&quot;</span><span class="p">:</span><span class="mi">2</span>
            <span class="p">},</span>
            <span class="nt">&quot;scenario&quot;</span><span class="p">:</span><span class="s2">&quot;uptimecheck&quot;</span><span class="p">,</span>
            <span class="nt">&quot;monitor_id&quot;</span><span class="p">:</span><span class="mi">26</span><span class="p">,</span>
            <span class="nt">&quot;values&quot;</span><span class="p">:{</span>
                <span class="nt">&quot;available&quot;</span><span class="p">:</span><span class="mf">50.0</span><span class="p">,</span>
                <span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="mi">1543285680</span>
            <span class="p">},</span>
            <span class="nt">&quot;extend_message&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="nt">&quot;strategy_contexts&quot;</span><span class="p">:[</span>
                <span class="p">{</span>
                    <span class="nt">&quot;strategy_name&quot;</span><span class="p">:</span><span class="s2">&quot;ThresholdStrategy&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;anomaly_message&quot;</span><span class="p">:</span><span class="s2">&quot;\u5f53\u524d\u6307\u6807\u503c(50.0%) &lt; (100.0%)&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;strategy_option&quot;</span><span class="p">:{</span>
                        <span class="nt">&quot;floor&quot;</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span>
                        <span class="nt">&quot;floor_interval&quot;</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span>
                        <span class="nt">&quot;ceil&quot;</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span>
                        <span class="nt">&quot;ceil_interval&quot;</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span>
                        <span class="nt">&quot;threshold&quot;</span><span class="p">:</span><span class="mi">100</span><span class="p">,</span>
                        <span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;method&quot;</span><span class="p">:</span><span class="s2">&quot;lt&quot;</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">],</span>
            <span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="mf">50.0</span><span class="p">,</span>
            <span class="nt">&quot;monitor_type&quot;</span><span class="p">:</span><span class="s2">&quot;uptimecheck&quot;</span><span class="p">,</span>
            <span class="nt">&quot;dimensions_alias&quot;</span><span class="p">:{</span>
                <span class="nt">&quot;\u8bf7\u6c42\u7f51\u5740&quot;</span><span class="p">:</span><span class="s2">&quot;http:\/\/www.qq.com\/&quot;</span><span class="p">,</span>
                <span class="nt">&quot;\u4efb\u52a1id&quot;</span><span class="p">:</span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
                <span class="nt">&quot;biz_id&quot;</span><span class="p">:</span><span class="mi">2</span>
            <span class="p">},</span>
            <span class="nt">&quot;anomaly_message&quot;</span><span class="p">:</span><span class="s2">&quot;\u5f53\u524d\u6307\u6807\u503c(50.0%) &lt; (100.0%)&quot;</span><span class="p">,</span>
            <span class="nt">&quot;condition&quot;</span><span class="p">:[</span>
                <span class="p">[</span>

                <span class="p">]</span>
            <span class="p">],</span>
            <span class="nt">&quot;src_type&quot;</span><span class="p">:</span><span class="s2">&quot;BKMONITOR&quot;</span><span class="p">,</span>
            <span class="nt">&quot;monitor_source_name&quot;</span><span class="p">:</span><span class="s2">&quot;QQ\u6d4b\u8bd5_\u53ef\u7528\u7387&quot;</span><span class="p">,</span>
            <span class="nt">&quot;monitor_field&quot;</span><span class="p">:</span><span class="s2">&quot;available&quot;</span><span class="p">,</span>
            <span class="nt">&quot;dt_event_time&quot;</span><span class="p">:</span><span class="mi">1543285680</span><span class="p">,</span>
            <span class="nt">&quot;monitor_source_option&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span>
        <span class="p">},</span>
        <span class="nt">&quot;ip&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="nt">&quot;comment_id&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
        <span class="nt">&quot;bk_cloud_id&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
        <span class="nt">&quot;alarm_content&quot;</span><span class="p">:{</span>
            <span class="nt">&quot;attention_color&quot;</span><span class="p">:</span><span class="s2">&quot;#86b1ff&quot;</span><span class="p">,</span>
            <span class="nt">&quot;source_name&quot;</span><span class="p">:</span><span class="s2">&quot;QQ\u6d4b\u8bd5_\u53ef\u7528\u7387&quot;</span><span class="p">,</span>
            <span class="nt">&quot;attention&quot;</span><span class="p">:</span><span class="s2">&quot;\u3010\u666e\u901a\u3011&quot;</span><span class="p">,</span>
            <span class="nt">&quot;cc_biz_name&quot;</span><span class="p">:</span><span class="s2">&quot;\u84dd\u9cb8&quot;</span><span class="p">,</span>
            <span class="nt">&quot;subject&quot;</span><span class="p">:</span><span class="s2">&quot;QQ\u6d4b\u8bd5_\u53ef\u7528\u7387\u53d1\u751f\u544a\u8b66&quot;</span><span class="p">,</span>
            <span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="s2">&quot;QQ\u6d4b\u8bd5_\u53ef\u7528\u7387\u53d1\u751f\u544a\u8b66&quot;</span><span class="p">,</span>
            <span class="nt">&quot;solution&quot;</span><span class="p">:</span><span class="s2">&quot;\u65e0&quot;</span><span class="p">,</span>
            <span class="nt">&quot;content&quot;</span><span class="p">:</span><span class="s2">&quot;\u5f53\u524d\u6307\u6807\u503c(50.0%) &lt; (100.0%)&quot;</span><span class="p">,</span>
            <span class="nt">&quot;is_performance_alarm&quot;</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span>
            <span class="nt">&quot;time&quot;</span><span class="p">:</span><span class="s2">&quot;10:28:00&quot;</span><span class="p">,</span>
            <span class="nt">&quot;dimension&quot;</span><span class="p">:</span><span class="s2">&quot;\u8bf7\u6c42\u7f51\u5740(http:\/\/www.qq.com\/)-\u4efb\u52a1id(1)-biz_id(2)&quot;</span>
        <span class="p">},</span>
        <span class="nt">&quot;raw&quot;</span><span class="p">:</span><span class="s2">&quot;\u5f53\u524d\u6307\u6807\u503c(50.0%) &lt; (100.0%)&quot;</span><span class="p">,</span>
        <span class="nt">&quot;snap_solution&quot;</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span>
        <span class="nt">&quot;status_strategy_id&quot;</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span>
        <span class="nt">&quot;begin_time&quot;</span><span class="p">:</span><span class="s2">&quot;2018-11-27 02:30:25+0800&quot;</span><span class="p">,</span>
        <span class="nt">&quot;cc_topo_set&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="mi">637984</span><span class="p">,</span>
        <span class="nt">&quot;approved_time&quot;</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span>
        <span class="nt">&quot;finish_time&quot;</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span>
        <span class="nt">&quot;cc_app_module&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="nt">&quot;user_status&quot;</span><span class="p">:</span><span class="s2">&quot;notified&quot;</span><span class="p">,</span>
        <span class="nt">&quot;alarm_source_id&quot;</span><span class="p">:</span><span class="mi">26</span><span class="p">,</span>
        <span class="nt">&quot;source_time&quot;</span><span class="p">:</span><span class="s2">&quot;2018-11-27 02:28:00+0800&quot;</span><span class="p">,</span>
        <span class="nt">&quot;source_type&quot;</span><span class="p">:</span><span class="s2">&quot;JUNGLE_ALERT&quot;</span><span class="p">,</span>
        <span class="nt">&quot;event_id&quot;</span><span class="p">:</span><span class="s2">&quot;JUNGLE_ALERT7f32e1f4aaa7f7e462b639d02e5cfa40&quot;</span><span class="p">,</span>
        <span class="nt">&quot;failure_type&quot;</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span>
        <span class="nt">&quot;level&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>
        <span class="nt">&quot;snap_converge&quot;</span><span class="p">:{</span>
            <span class="nt">&quot;alarm_source_id&quot;</span><span class="p">:</span><span class="mi">26</span><span class="p">,</span>
            <span class="nt">&quot;config&quot;</span><span class="p">:</span><span class="s2">&quot;{\&quot;count\&quot;:1,\&quot;alarm_window\&quot;:\&quot;5\&quot;,\&quot;check_window\&quot;:5}&quot;</span><span class="p">,</span>
            <span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="mi">26</span>
        <span class="p">},</span>
        <span class="nt">&quot;alarm_dimension&quot;</span><span class="p">:{</span>
            <span class="nt">&quot;\u8bf7\u6c42\u7f51\u5740&quot;</span><span class="p">:</span><span class="s2">&quot;http:\/\/www.qq.com\/&quot;</span><span class="p">,</span>
            <span class="nt">&quot;\u4efb\u52a1id&quot;</span><span class="p">:</span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
            <span class="nt">&quot;biz_id&quot;</span><span class="p">:</span><span class="mi">2</span>
        <span class="p">},</span>
        <span class="nt">&quot;priority&quot;</span><span class="p">:</span><span class="mi">2880</span><span class="p">,</span>
        <span class="nt">&quot;alarm_type&quot;</span><span class="p">:</span><span class="s2">&quot;uptimecheck&quot;</span><span class="p">,</span>
        <span class="nt">&quot;snap_notice&quot;</span><span class="p">:{</span>
            <span class="nt">&quot;is_enabled&quot;</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span>
            <span class="nt">&quot;update_time&quot;</span><span class="p">:</span><span class="s2">&quot;2018-10-31T08:28:55&quot;</span><span class="p">,</span>
            <span class="nt">&quot;update_user&quot;</span><span class="p">:</span><span class="s2">&quot;admin&quot;</span><span class="p">,</span>
            <span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="nt">&quot;create_user&quot;</span><span class="p">:</span><span class="s2">&quot;admin&quot;</span><span class="p">,</span>
            <span class="nt">&quot;create_time&quot;</span><span class="p">:</span><span class="s2">&quot;2018-10-31T08:28:55&quot;</span><span class="p">,</span>
            <span class="nt">&quot;alarm_source_id&quot;</span><span class="p">:</span><span class="mi">26</span><span class="p">,</span>
            <span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="mi">26</span><span class="p">,</span>
            <span class="nt">&quot;is_deleted&quot;</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span>
            <span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="s2">&quot;QQ\u6d4b\u8bd5_\u53ef\u7528\u7387\u901a\u77e5\u65b9\u5f0f&quot;</span><span class="p">,</span>
            <span class="nt">&quot;alarm_end_time&quot;</span><span class="p">:</span><span class="s2">&quot;23:59:00&quot;</span><span class="p">,</span>
            <span class="nt">&quot;alarm_start_time&quot;</span><span class="p">:</span><span class="s2">&quot;00:00:00&quot;</span><span class="p">,</span>
            <span class="nt">&quot;notify_config&quot;</span><span class="p">:</span><span class="s2">&quot;{\&quot;alarm_end_time\&quot;:\&quot;23:59\&quot;,\&quot;responsible\&quot;:\&quot;\&quot;,\&quot;notify_wechat\&quot;:true,\&quot;group_list\&quot;:[],\&quot;notify_mail\&quot;:true,\&quot;phone_receiver\&quot;:\&quot;\&quot;,\&quot;alarm_start_time\&quot;:\&quot;00:00\&quot;,\&quot;role_list\&quot;:[\&quot;Maintainers\&quot;]}&quot;</span>
        <span class="p">},</span>
        <span class="nt">&quot;snap_alarm_source&quot;</span><span class="p">:{</span>
            <span class="nt">&quot;update_user&quot;</span><span class="p">:</span><span class="s2">&quot;admin&quot;</span><span class="p">,</span>
            <span class="nt">&quot;create_user&quot;</span><span class="p">:</span><span class="s2">&quot;admin&quot;</span><span class="p">,</span>
            <span class="nt">&quot;create_time&quot;</span><span class="p">:</span><span class="s2">&quot;2018-10-31T08:28:55&quot;</span><span class="p">,</span>
            <span class="nt">&quot;monitor_target&quot;</span><span class="p">:</span><span class="s2">&quot;available&quot;</span><span class="p">,</span>
            <span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="mi">26</span><span class="p">,</span>
            <span class="nt">&quot;source_info&quot;</span><span class="p">:</span><span class="s2">&quot;{\&quot;count_freq\&quot;:60,\&quot;dimensions\&quot;:[\&quot;task_id\&quot;,\&quot;url\&quot;],\&quot;aggregator\&quot;:\&quot;avg\&quot;,\&quot;monitor_field\&quot;:\&quot;available\&quot;,\&quot;unit_conversion\&quot;:0.01,\&quot;where_sql\&quot;:\&quot; ((task_id=&#39;1&#39;))\&quot;,\&quot;monitor_result_table_id\&quot;:\&quot;2_uptimecheck_http\&quot;,\&quot;unit\&quot;:\&quot;%\&quot;}&quot;</span><span class="p">,</span>
            <span class="nt">&quot;monitor_level&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>
            <span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="s2">&quot;QQ\u6d4b\u8bd5_\u53ef\u7528\u7387&quot;</span><span class="p">,</span>
            <span class="nt">&quot;alarm_cleaning_id&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
            <span class="nt">&quot;src_type&quot;</span><span class="p">:</span><span class="s2">&quot;JA&quot;</span><span class="p">,</span>
            <span class="nt">&quot;alarm_notice_id&quot;</span><span class="p">:</span><span class="mi">26</span><span class="p">,</span>
            <span class="nt">&quot;is_enabled&quot;</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span>
            <span class="nt">&quot;update_time&quot;</span><span class="p">:</span><span class="s2">&quot;2018-10-31T08:28:55&quot;</span><span class="p">,</span>
            <span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="s2">&quot;QQ\u6d4b\u8bd5_\u53ef\u7528\u7387&quot;</span><span class="p">,</span>
            <span class="nt">&quot;alarm_type&quot;</span><span class="p">:</span><span class="s2">&quot;uptimecheck&quot;</span><span class="p">,</span>
            <span class="nt">&quot;alarm_attr_id&quot;</span><span class="p">:</span><span class="s2">&quot;26&quot;</span><span class="p">,</span>
            <span class="nt">&quot;alarm_collect_id&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
            <span class="nt">&quot;biz_id&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>
            <span class="nt">&quot;alarm_solution_id&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
            <span class="nt">&quot;condition&quot;</span><span class="p">:</span><span class="s2">&quot;[[]]&quot;</span><span class="p">,</span>
            <span class="nt">&quot;is_deleted&quot;</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span>
            <span class="nt">&quot;scenario&quot;</span><span class="p">:</span><span class="s2">&quot;uptimecheck&quot;</span><span class="p">,</span>
            <span class="nt">&quot;timeout&quot;</span><span class="p">:</span><span class="mi">40</span>
        <span class="p">},</span>
        <span class="nt">&quot;snap_responsible&quot;</span><span class="p">:</span><span class="s2">&quot;{\&quot;verifier\&quot;:[\&quot;admin\&quot;]}&quot;</span><span class="p">,</span>
        <span class="nt">&quot;approved_comment&quot;</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span>
        <span class="nt">&quot;source_id&quot;</span><span class="p">:</span><span class="s2">&quot;7f32e1f4aaa7f7e462b639d02e5cfa40&quot;</span><span class="p">,</span>
        <span class="nt">&quot;match_dimension&quot;</span><span class="p">:{</span>
            <span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="s2">&quot;http:\/\/www.qq.com\/&quot;</span><span class="p">,</span>
            <span class="nt">&quot;alarm_attr_id&quot;</span><span class="p">:</span><span class="s2">&quot;26&quot;</span><span class="p">,</span>
            <span class="nt">&quot;alarm_source_id&quot;</span><span class="p">:</span><span class="s2">&quot;26&quot;</span><span class="p">,</span>
            <span class="nt">&quot;task_id&quot;</span><span class="p">:</span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
            <span class="nt">&quot;biz_id&quot;</span><span class="p">:</span><span class="mi">2</span>
        <span class="p">},</span>
        <span class="nt">&quot;approved_user&quot;</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span>
        <span class="nt">&quot;bk_biz_id&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>
        <span class="nt">&quot;end_time&quot;</span><span class="p">:</span><span class="s2">&quot;2018-11-27 02:30:26+0800&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;result&quot;</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span>
    <span class="nt">&quot;request_id&quot;</span><span class="p">:</span><span class="s2">&quot;21e6eeb8ef0744f98ed1cce92c6c27d9&quot;</span>
<span class="p">}</span>
</pre></div><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor/component_instance/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>返回指定组件<br />
返回指定id的组件实例</p>
<h4 id="_4">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_5">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int</td>
<td>ID</td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="_6">请求参数</h4>
<div class="codehilite"><pre><span></span><span class="err">{</span>
    <span class="ss">&quot;id&quot;</span><span class="p">:</span> <span class="mi">2</span>
<span class="err">}</span>
</pre></div>


<h3 id="_7">返回结果</h3>
<h4 id="_8">字段说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int</td>
<td>ID</td>
</tr>
<tr>
<td>update_time</td>
<td>time</td>
<td>更新时间</td>
</tr>
<tr>
<td>update_user</td>
<td>string</td>
<td>更新用户</td>
</tr>
<tr>
<td>ip</td>
<td>string</td>
<td>实例IP</td>
</tr>
<tr>
<td>component</td>
<td>string</td>
<td>组件名称</td>
</tr>
<tr>
<td>create_user</td>
<td>string</td>
<td>创建用户</td>
</tr>
<tr>
<td>create_time</td>
<td>time</td>
<td>创建时间</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>业务ID</td>
</tr>
<tr>
<td>bk_cloud_id</td>
<td>int</td>
<td>云区域ID</td>
</tr>
</tbody>
</table>
<h4 id="_9">结果示例</h4>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="s2">&quot;OK&quot;</span><span class="p">,</span>
    <span class="nt">&quot;code&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;data&quot;</span><span class="p">:{</span>
        <span class="nt">&quot;update_time&quot;</span><span class="p">:</span><span class="s2">&quot;2018-11-01 13:35:55+0800&quot;</span><span class="p">,</span>
        <span class="nt">&quot;update_user&quot;</span><span class="p">:</span><span class="s2">&quot;admin&quot;</span><span class="p">,</span>
        <span class="nt">&quot;ip&quot;</span><span class="p">:</span><span class="s2">&quot;x.x.x.x&quot;</span><span class="p">,</span>
        <span class="nt">&quot;component&quot;</span><span class="p">:</span><span class="s2">&quot;jmx&quot;</span><span class="p">,</span>
        <span class="nt">&quot;create_user&quot;</span><span class="p">:</span><span class="s2">&quot;admin&quot;</span><span class="p">,</span>
        <span class="nt">&quot;create_time&quot;</span><span class="p">:</span><span class="s2">&quot;2018-11-01 13:35:55+0800&quot;</span><span class="p">,</span>
        <span class="nt">&quot;bk_biz_id&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>
        <span class="nt">&quot;bk_cloud_id&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
        <span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>
        <span class="nt">&quot;is_deleted&quot;</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span>
        <span class="nt">&quot;config&quot;</span><span class="p">:</span><span class="s2">&quot;NcYXc9rkryoeorg2+MPAe3iOIc1hDe4KcrIOhsvo\/YqR6on08RJ8ikeUUqmWwG+d1h7lQDxr25jJfzkvr8\/KJPhRpAc0iK\/x9+bt6tTsRKN\/zfOI6K1TOjTUeqcndTI0pwBbKGz9yP\/LvIGtgvtWGA==&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;result&quot;</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span>
    <span class="nt">&quot;request_id&quot;</span><span class="p">:</span><span class="s2">&quot;0f321b86ff124cc98bc07ced8e96ab74&quot;</span>
<span class="p">}</span>
</pre></div><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor/deploy_script_collector/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>脚本采集器任务下发</p>
<h4 id="_4">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_5">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>target_conf</td>
<td>list</td>
<td>是</td>
<td>脚本采集实例配置</td>
</tr>
<tr>
<td>config_id</td>
<td>int</td>
<td>是</td>
<td>脚本采集配置id</td>
</tr>
</tbody>
</table>
<h4 id="target_conf">target_conf</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>ip</td>
<td>string</td>
<td>是</td>
<td>ip地址</td>
</tr>
<tr>
<td>bk_cloud_id</td>
<td>int</td>
<td>是</td>
<td>云区域id</td>
</tr>
<tr>
<td>params</td>
<td>dict</td>
<td>否</td>
<td key:="key:" value="value">脚本参数</td>
</tr>
</tbody>
</table>
<h3 id="_6">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="err">{</span>
    <span class="ss">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="ss">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="ss">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="ss">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="ss">&quot;bk_token&quot;</span><span class="p">:</span> <span class="ss">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="ss">&quot;target_conf&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="err">{</span>
            <span class="ss">&quot;ip&quot;</span><span class="p">:</span> <span class="ss">&quot;x.x.x.x&quot;</span><span class="p">,</span>
            <span class="ss">&quot;bk_cloud_id&quot;</span><span class="p">:</span> <span class="mi">0</span>
        <span class="err">}</span>
    <span class="p">],</span>
    <span class="ss">&quot;script_collector_id&quot;</span><span class="p">:</span> <span class="mi">8</span>
<span class="err">}</span>
</pre></div>


<h3 id="_7">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="err">{</span>
    <span class="ss">&quot;message&quot;</span><span class="p">:</span> <span class="ss">&quot;OK&quot;</span><span class="p">,</span>
    <span class="ss">&quot;code&quot;</span><span class="p">:</span> <span class="ss">&quot;0&quot;</span><span class="p">,</span>
    <span class="ss">&quot;data&quot;</span><span class="p">:</span> <span class="err">{</span>
        <span class="ss">&quot;failed&quot;</span><span class="p">:</span> <span class="p">[],</span>
        <span class="ss">&quot;success&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="err">{</span>
                <span class="ss">&quot;ip&quot;</span><span class="p">:</span> <span class="ss">&quot;x.x.x.x&quot;</span><span class="p">,</span>
                <span class="ss">&quot;message&quot;</span><span class="p">:</span> <span class="k">null</span><span class="p">,</span>
                <span class="ss">&quot;bk_cloud_id&quot;</span><span class="p">:</span> <span class="mi">0</span>
            <span class="err">}</span>
        <span class="p">]</span>
    <span class="err">}</span><span class="p">,</span>
    <span class="ss">&quot;result&quot;</span><span class="p">:</span> <span class="k">true</span>
<span class="err">}</span>
</pre></div>


<h3 id="_8">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>返回结果，true为成功，false为失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>返回码，200表示成功，其他值表示失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>结果</td>
</tr>
</tbody>
</table>
<h4 id="datasuccess-datafailed">data.success &amp; data.failed</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>ip</td>
<td>string</td>
<td>ip地址</td>
</tr>
<tr>
<td>bk_cloud_id</td>
<td>int</td>
<td>云区域id</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td></td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor/export_alarm_strategy/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>监控策略导出接口</p>
<p>可以导出主机监控及自定义监控策略配置，包含策略依赖的监控源数据。</p>
<h4 id="_4">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_5">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>monitor_ids</td>
<td>string</td>
<td>是</td>
<td>需要导出的监控项ID列表，多个id使用半角逗号连接</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>string</td>
<td>是</td>
<td>通用业务ID</td>
</tr>
</tbody>
</table>
<h4 id="_6">请求参数</h4>
<div class="codehilite"><pre><span></span><span class="err">{</span>
    <span class="ss">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="ss">&quot;2&quot;</span><span class="p">,</span>
    <span class="ss">&quot;monitor_ids&quot;</span><span class="p">:</span> <span class="ss">&quot;136,405&quot;</span>
<span class="err">}</span>
</pre></div>


<p>导出监控源ID为136及405的监控策略</p>
<h4 id="_7">返回结果</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>fail</td>
<td>list</td>
<td>导出失败的监控项</td>
</tr>
<tr>
<td>success</td>
<td>list</td>
<td>导出成功的监控项</td>
</tr>
</tbody>
</table>
<h5 id="success">success结构</h5>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>title</td>
<td>string</td>
<td>标题</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>描述</td>
</tr>
<tr>
<td>scenario</td>
<td>string</td>
<td>场景</td>
</tr>
<tr>
<td>biz_id</td>
<td>number</td>
<td>业务ID</td>
</tr>
<tr>
<td>monitor_target</td>
<td>string</td>
<td>监控指标</td>
</tr>
<tr>
<td>src_type</td>
<td>string</td>
<td>监控源分类</td>
</tr>
<tr>
<td>stat_source_info</td>
<td>string</td>
<td>统计源信息</td>
</tr>
<tr>
<td>stat_source_type</td>
<td>string</td>
<td>统计源分类</td>
</tr>
<tr>
<td>alarm_strategy</td>
<td>list</td>
<td>属于该监控项的策略配置</td>
</tr>
</tbody>
</table>
<h5 id="fail">fail结构</h5>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>monitor_id</td>
<td>int</td>
<td>导出失败的监控源</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>失败信息</td>
</tr>
</tbody>
</table>
<h4 id="_8">返回结果示例</h4>
<p>id为136的监控源不存在，导出id为405的监控源。</p>
<p>返回结果中，fai为导出错误的监控源ID，及错误信息</p>
<div class="codehilite"><pre><span></span><span class="err">{</span>
   <span class="ss">&quot;message&quot;</span><span class="p">:</span><span class="ss">&quot;OK&quot;</span><span class="p">,</span>
   <span class="ss">&quot;code&quot;</span><span class="p">:</span><span class="mi">200</span><span class="p">,</span>
   <span class="ss">&quot;data&quot;</span><span class="p">:</span><span class="err">{</span>
      <span class="ss">&quot;fail&quot;</span><span class="p">:[</span>
          <span class="err">{</span>
              <span class="ss">&quot;monitor_id&quot;</span><span class="p">:</span> <span class="mi">136</span><span class="p">,</span>
              <span class="ss">&quot;message&quot;</span><span class="p">:</span> <span class="ss">&quot;can&#39;t find monitor&quot;</span>
          <span class="err">}</span>
      <span class="p">],</span>
      <span class="ss">&quot;success&quot;</span><span class="p">:[</span>
         <span class="err">{</span>
            <span class="ss">&quot;is_enabled&quot;</span><span class="p">:</span><span class="k">true</span><span class="p">,</span>
            <span class="ss">&quot;stat_source_info&quot;</span><span class="p">:</span><span class="ss">&quot;{\&quot;</span><span class="n">where_sql</span><span class="err">\</span><span class="ss">&quot;:\&quot;</span><span class="err">\</span><span class="ss">&quot;,\&quot;</span><span class="n">monitor_result_table_id</span><span class="err">\</span><span class="ss">&quot;:\&quot;</span><span class="mi">2</span><span class="n">_ing_test</span><span class="err">\</span><span class="ss">&quot;,\&quot;</span><span class="n">count_freq</span><span class="err">\</span><span class="ss">&quot;:60,\&quot;</span><span class="n">unit_conversion</span><span class="err">\</span><span class="ss">&quot;:1.0,\&quot;</span><span class="n">aggregator</span><span class="err">\</span><span class="ss">&quot;:\&quot;</span><span class="k">sum</span><span class="err">\</span><span class="ss">&quot;,\&quot;</span><span class="n">monitor_field</span><span class="err">\</span><span class="ss">&quot;:\&quot;</span><span class="n">num</span><span class="err">\</span><span class="ss">&quot;,\&quot;</span><span class="n">unit</span><span class="err">\</span><span class="ss">&quot;:\&quot;</span><span class="err">\</span><span class="ss">&quot;,\&quot;</span><span class="n">dimensions</span><span class="err">\</span><span class="ss">&quot;:[\&quot;</span><span class="n">_server_</span><span class="err">\</span><span class="ss">&quot;]}&quot;</span><span class="p">,</span>
            <span class="ss">&quot;description&quot;</span><span class="p">:</span><span class="ss">&quot;&quot;</span><span class="p">,</span>
            <span class="ss">&quot;scenario&quot;</span><span class="p">:</span><span class="ss">&quot;custom&quot;</span><span class="p">,</span>
            <span class="ss">&quot;title&quot;</span><span class="p">:</span><span class="ss">&quot;test&quot;</span><span class="p">,</span>
            <span class="ss">&quot;monitor_target&quot;</span><span class="p">:</span><span class="ss">&quot;num&quot;</span><span class="p">,</span>
            <span class="ss">&quot;biz_id&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>
            <span class="ss">&quot;src_type&quot;</span><span class="p">:</span><span class="ss">&quot;BKMONITOR&quot;</span><span class="p">,</span>
            <span class="ss">&quot;alarm_strategy&quot;</span><span class="p">:[</span>
               <span class="err">{</span>
                  <span class="ss">&quot;is_enabled&quot;</span><span class="p">:</span><span class="k">true</span><span class="p">,</span>
                  <span class="ss">&quot;bk_biz_id&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>
                  <span class="ss">&quot;alarm_level_config&quot;</span><span class="p">:</span><span class="err">{</span>
                     <span class="ss">&quot;2&quot;</span><span class="p">:</span><span class="err">{</span>
                        <span class="ss">&quot;notice_end_time&quot;</span><span class="p">:</span><span class="ss">&quot;23:59&quot;</span><span class="p">,</span>
                        <span class="ss">&quot;phone_receiver&quot;</span><span class="p">:[</span>

                        <span class="p">],</span>
                        <span class="ss">&quot;monitor_level&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>
                        <span class="ss">&quot;is_recovery&quot;</span><span class="p">:</span><span class="k">false</span><span class="p">,</span>
                        <span class="ss">&quot;notify_way&quot;</span><span class="p">:[</span>
                           <span class="ss">&quot;wechat&quot;</span>
                        <span class="p">],</span>
                        <span class="ss">&quot;role_list&quot;</span><span class="p">:[</span>
                           <span class="ss">&quot;other&quot;</span>
                        <span class="p">],</span>
                        <span class="ss">&quot;responsible&quot;</span><span class="p">:[</span>
                           <span class="ss">&quot;laymanmlai&quot;</span>
                        <span class="p">],</span>
                        <span class="ss">&quot;notice_start_time&quot;</span><span class="p">:</span><span class="ss">&quot;00:00&quot;</span><span class="p">,</span>
                        <span class="ss">&quot;detect_algorithm&quot;</span><span class="p">:[</span>
                           <span class="err">{</span>
                              <span class="ss">&quot;config&quot;</span><span class="p">:</span><span class="err">{</span>
                                 <span class="ss">&quot;threshold&quot;</span><span class="p">:</span><span class="mi">32</span><span class="p">,</span>
                                 <span class="ss">&quot;message&quot;</span><span class="p">:</span><span class="ss">&quot;&quot;</span><span class="p">,</span>
                                 <span class="ss">&quot;method&quot;</span><span class="p">:</span><span class="ss">&quot;gte&quot;</span>
                              <span class="err">}</span><span class="p">,</span>
                              <span class="ss">&quot;algorithm_id&quot;</span><span class="p">:</span><span class="mi">1000</span><span class="p">,</span>
                              <span class="ss">&quot;name&quot;</span><span class="p">:</span><span class="ss">&quot;静态阈值&quot;</span><span class="p">,</span>
                              <span class="ss">&quot;display&quot;</span><span class="p">:</span><span class="ss">&quot;当前值≥阈值:32&quot;</span>
                           <span class="err">}</span>
                        <span class="p">]</span>
                     <span class="err">}</span>
                  <span class="err">}</span><span class="p">,</span>
                  <span class="ss">&quot;display_name&quot;</span><span class="p">:</span><span class="ss">&quot;答复&quot;</span><span class="p">,</span>
                  <span class="ss">&quot;scenario&quot;</span><span class="p">:</span><span class="ss">&quot;custom&quot;</span><span class="p">,</span>
                  <span class="ss">&quot;is_classify_notice&quot;</span><span class="p">:</span><span class="k">false</span><span class="p">,</span>
                  <span class="ss">&quot;rules&quot;</span><span class="p">:</span><span class="err">{</span>
                     <span class="ss">&quot;count&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
                     <span class="ss">&quot;alarm_window&quot;</span><span class="p">:</span><span class="mi">60</span><span class="p">,</span>
                     <span class="ss">&quot;check_window&quot;</span><span class="p">:</span><span class="mi">5</span>
                  <span class="err">}</span><span class="p">,</span>
                  <span class="ss">&quot;nodata_alarm&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
                  <span class="ss">&quot;cc_biz_id&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>
                  <span class="ss">&quot;condition&quot;</span><span class="p">:[</span>
                     <span class="p">[</span>

                     <span class="p">]</span>
                  <span class="p">]</span>
               <span class="err">}</span>
            <span class="p">],</span>
            <span class="ss">&quot;monitor_type&quot;</span><span class="p">:</span><span class="ss">&quot;uptimecheck&quot;</span><span class="p">,</span>
            <span class="ss">&quot;stat_source_type&quot;</span><span class="p">:</span><span class="ss">&quot;BKDATA&quot;</span>
         <span class="err">}</span>
      <span class="p">]</span>
   <span class="err">}</span><span class="p">,</span>
   <span class="ss">&quot;result&quot;</span><span class="p">:</span><span class="k">true</span>
<span class="err">}</span>
</pre></div><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor/export_log_collector/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>日志采集器配置导出</p>
<h4 id="_4">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_5">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务id</td>
</tr>
<tr>
<td>ids</td>
<td>string</td>
<td>否</td>
<td>需要导出的配置id，多个id之间用英文逗号隔开；若不传，导出该业务和类型下的所有配置</td>
</tr>
</tbody>
</table>
<h3 id="_6">请求参数示例</h3>
<p>导出业务id等于2的业务下日志采集器配置id为2的配置</p>
<div class="codehilite"><pre><span></span><span class="err">{</span>
    <span class="ss">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="ss">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="ss">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="ss">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="ss">&quot;bk_token&quot;</span><span class="p">:</span> <span class="ss">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="ss">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="ss">&quot;ids&quot;</span><span class="p">:</span> <span class="ss">&quot;2&quot;</span>
<span class="err">}</span>
</pre></div>


<h3 id="_7">返回参数示例</h3>
<div class="codehilite"><pre><span></span><span class="err">{</span>
    <span class="ss">&quot;message&quot;</span><span class="p">:</span> <span class="ss">&quot;OK&quot;</span><span class="p">,</span>
    <span class="ss">&quot;code&quot;</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span>
    <span class="ss">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="err">{</span>
                    <span class="ss">&quot;collector_conf&quot;</span><span class="p">:</span> <span class="err">{</span>
                        <span class="ss">&quot;data_set&quot;</span><span class="p">:</span> <span class="ss">&quot;test_log_collect&quot;</span><span class="p">,</span>
                        <span class="ss">&quot;data_desc&quot;</span><span class="p">:</span> <span class="ss">&quot;测试日志采集&quot;</span><span class="p">,</span>
                        <span class="ss">&quot;data_encode&quot;</span><span class="p">:</span> <span class="ss">&quot;UTF-8&quot;</span><span class="p">,</span>
                        <span class="ss">&quot;sep&quot;</span><span class="p">:</span> <span class="ss">&quot;|&quot;</span><span class="p">,</span>
                        <span class="ss">&quot;log_path&quot;</span><span class="p">:</span> <span class="ss">&quot;/tmp/log.txt&quot;</span><span class="p">,</span>
                        <span class="ss">&quot;conditions&quot;</span><span class="p">:</span> <span class="p">[],</span>
                        <span class="ss">&quot;fields&quot;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="err">{</span>
                                <span class="ss">&quot;description&quot;</span><span class="p">:</span> <span class="ss">&quot;时间&quot;</span><span class="p">,</span>
                                <span class="ss">&quot;time_zone&quot;</span><span class="p">:</span> <span class="ss">&quot;+8&quot;</span><span class="p">,</span>
                                <span class="ss">&quot;time_format&quot;</span><span class="p">:</span> <span class="ss">&quot;1&quot;</span><span class="p">,</span>
                                <span class="ss">&quot;alis&quot;</span><span class="p">:</span> <span class="ss">&quot;&quot;</span><span class="p">,</span>
                                <span class="ss">&quot;type&quot;</span><span class="p">:</span> <span class="ss">&quot;string&quot;</span><span class="p">,</span>
                                <span class="ss">&quot;name&quot;</span><span class="p">:</span> <span class="ss">&quot;time&quot;</span>
                            <span class="err">}</span><span class="p">,</span>
                            <span class="err">{</span>
                                <span class="ss">&quot;description&quot;</span><span class="p">:</span> <span class="ss">&quot;指标&quot;</span><span class="p">,</span>
                                <span class="ss">&quot;time_zone&quot;</span><span class="p">:</span> <span class="ss">&quot;&quot;</span><span class="p">,</span>
                                <span class="ss">&quot;time_format&quot;</span><span class="p">:</span> <span class="ss">&quot;&quot;</span><span class="p">,</span>
                                <span class="ss">&quot;alis&quot;</span><span class="p">:</span> <span class="ss">&quot;&quot;</span><span class="p">,</span>
                                <span class="ss">&quot;type&quot;</span><span class="p">:</span> <span class="ss">&quot;long&quot;</span><span class="p">,</span>
                                <span class="ss">&quot;name&quot;</span><span class="p">:</span> <span class="ss">&quot;value&quot;</span>
                            <span class="err">}</span>
                        <span class="p">]</span>
                    <span class="err">}</span><span class="p">,</span>
                    <span class="ss">&quot;target_conf&quot;</span><span class="p">:</span> <span class="err">{</span>
                        <span class="ss">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                        <span class="ss">&quot;ips&quot;</span><span class="p">:</span> <span class="p">[]</span>
                    <span class="err">}</span><span class="p">,</span>
                    <span class="ss">&quot;monitor_conf&quot;</span><span class="p">:[]</span>
                <span class="err">}</span>
            <span class="p">],</span>
    <span class="ss">&quot;result&quot;</span><span class="p">:</span> <span class="k">true</span>
<span class="err">}</span>
</pre></div>


<h3 id="_8">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>返回结果，true为成功，false为失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>返回码，200表示成功，其他值表示失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>list</td>
<td>日志采集器配置列表</td>
</tr>
</tbody>
</table>
<h4 id="conf">conf</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>collector_conf</td>
<td>dict</td>
<td>采集器基础配置</td>
</tr>
<tr>
<td>target_conf</td>
<td>dict</td>
<td>下发配置</td>
</tr>
<tr>
<td>monitor_conf</td>
<td>list</td>
<td>监控策略配置</td>
</tr>
</tbody>
</table>
<h4 id="confcollector_conf">conf.collector_conf</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>data_set</td>
<td>string</td>
<td>data_set名称</td>
</tr>
<tr>
<td>data_desc</td>
<td>string</td>
<td>中文描述</td>
</tr>
<tr>
<td>data_encode</td>
<td>string</td>
<td>编码</td>
</tr>
<tr>
<td>sep</td>
<td>string</td>
<td>分隔符</td>
</tr>
<tr>
<td>log_path</td>
<td>string</td>
<td>日志路径</td>
</tr>
<tr>
<td>conditions</td>
<td>list</td>
<td>采集范围</td>
</tr>
<tr>
<td>fields</td>
<td>list</td>
<td>表字段</td>
</tr>
</tbody>
</table>
<h4 id="confcollector_conffields">conf.collector_conf.fields</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>string</td>
<td>字段名</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>字段类型</td>
</tr>
<tr>
<td>alis</td>
<td>string</td>
<td>“”</td>
</tr>
<tr>
<td>time_format</td>
<td>string</td>
<td>时间格式，若是时间字段则为“1”，为1的时间格式为yyyy-MM-dd HH:mm:ss；若非时间字段则为“”</td>
</tr>
<tr>
<td>time_zone</td>
<td>string</td>
<td>时区</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>字段描述</td>
</tr>
</tbody>
</table>
<h4 id="conftarget_conf">conf.target_conf</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>业务id</td>
</tr>
<tr>
<td>ips</td>
<td>list</td>
<td>下发机器ip列表</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor/export_script_collector/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>脚本采集器配置导出</p>
<h4 id="_4">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_5">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务id</td>
</tr>
<tr>
<td>ids</td>
<td>string</td>
<td>否</td>
<td>多个id用英文逗号隔开</td>
</tr>
</tbody>
</table>
<h3 id="_6">请求参数示例</h3>
<p>导出业务id为2的脚本采集器配置信息</p>
<div class="codehilite"><pre><span></span><span class="err">{</span>
    <span class="ss">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="ss">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="ss">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="ss">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="ss">&quot;bk_token&quot;</span><span class="p">:</span> <span class="ss">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="ss">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="err">，</span>
    <span class="ss">&quot;ids&quot;</span><span class="p">:</span> <span class="ss">&quot;1,2&quot;</span>
<span class="err">}</span>
</pre></div>


<h3 id="_7">返回参数示例</h3>
<div class="codehilite"><pre><span></span>{
    &quot;message&quot;: &quot;OK&quot;,
    &quot;code&quot;: &quot;0&quot;,
    &quot;data&quot;: [
        {
            &quot;script_content_base64&quot;: &quot;IyEvYmluL2Jhc2gKCkasdas1o=&quot;,
            &quot;description&quot;: &quot;测试2&quot;,
            &quot;raw_data_interval&quot;: 30,
            &quot;script_run_cmd&quot;: &quot;sh <span class="nv">$bk_script_name</span>&quot;,
            &quot;fields&quot;: [
                {
                    &quot;name&quot;: &quot;size&quot;,
                    &quot;type&quot;: &quot;long&quot;,
                    &quot;description&quot;: &quot;大小&quot;,
                    &quot;unit&quot;: &quot;&quot;,
                    &quot;monitor_type&quot;: &quot;metric&quot;
                }
            ],
            &quot;charset&quot;: &quot;UTF8&quot;,
            &quot;collect_interval&quot;: 1,
            &quot;start_cmd&quot;: null,
            &quot;script_type&quot;: &quot;file&quot;,
            &quot;params_schema&quot;: [],
            &quot;script_ext&quot;: &quot;shell&quot;,
            &quot;name&quot;: &quot;t_shell_tow&quot;
        },
        {
            &quot;script_content_base64&quot;: &quot;IyEvYmluL2Jhc2gKCk1o=&quot;,
            &quot;description&quot;: &quot;测试1&quot;,
            &quot;raw_data_interval&quot;: 30,
            &quot;script_run_cmd&quot;: &quot;<span class="cp">${</span><span class="n">bk_script_name</span><span class="cp">}</span>&quot;,
            &quot;fields&quot;: [
                {
                    &quot;name&quot;: &quot;size&quot;,
                    &quot;type&quot;: &quot;long&quot;,
                    &quot;description&quot;: &quot;大小&quot;,
                    &quot;unit&quot;: &quot;&quot;,
                    &quot;monitor_type&quot;: &quot;metric&quot;
                }
            ],
            &quot;charset&quot;: &quot;UTF8&quot;,
            &quot;collect_interval&quot;: 1,
            &quot;start_cmd&quot;: null,
            &quot;script_type&quot;: &quot;file&quot;,
            &quot;params_schema&quot;: [],
            &quot;script_ext&quot;: &quot;shell&quot;,
            &quot;name&quot;: &quot;shell_one&quot;
        }
    ],
    &quot;result&quot;: true
}
</pre></div>


<h3 id="_8">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>返回结果，true为成功，false为失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>返回码，200表示成功，其他值表示失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>list</td>
<td>结果；日志采集器配置列表</td>
</tr>
</tbody>
</table>
<h4 id="data">data[]</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>string</td>
<td>是</td>
<td>数据表名，必须唯一</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>是</td>
<td>数据表中文含义</td>
</tr>
<tr>
<td>charset</td>
<td>string</td>
<td>否</td>
<td>字符集；默认值：UTF8，可选值（UTF8,GBK）</td>
</tr>
<tr>
<td>fields</td>
<td>list</td>
<td>是</td>
<td>表字段信息，详情见下表</td>
</tr>
<tr>
<td>script_type</td>
<td>string</td>
<td>否</td>
<td>脚本类型；默认值：file，可选值（file,cmd）</td>
</tr>
<tr>
<td>script_ext</td>
<td>string</td>
<td>否</td>
<td>脚本格式；默认值：shell，可选值（shell,bat,python,perl,powershell,vbs,custom）</td>
</tr>
<tr>
<td>params_schema</td>
<td>list</td>
<td>否</td>
<td>脚本参数模型，详情见下表</td>
</tr>
<tr>
<td>script_run_cmd</td>
<td>string</td>
<td>否</td>
<td>启动命令（脚本模式）</td>
</tr>
<tr>
<td>script_content_base64</td>
<td>string</td>
<td>否</td>
<td>脚本内容（base64编码）</td>
</tr>
<tr>
<td>start_cmd</td>
<td>string</td>
<td>否</td>
<td>启动命令（命令行模式）</td>
</tr>
<tr>
<td>collect_interval</td>
<td>int</td>
<td>否</td>
<td>采集周期(分钟)；默认值：1</td>
</tr>
<tr>
<td>raw_data_interval</td>
<td>int</td>
<td>否</td>
<td>原始数据保存周期(天)；默认值：30</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor/export_uptime_check_task/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>拨测任务配置导出</p>
<h4 id="_4">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h3 id="_5">请求参数</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>biz_id</td>
<td>int</td>
<td>是</td>
<td>业务id</td>
</tr>
<tr>
<td>protocol</td>
<td>str</td>
<td>否</td>
<td>协议类型(TCP、UDP、HTTP)</td>
</tr>
<tr>
<td>task_ids</td>
<td>str</td>
<td>否</td>
<td>任务ID，多个任务以逗号分隔</td>
</tr>
<tr>
<td>node_conf_needed</td>
<td>int</td>
<td>否</td>
<td>是否导出任务相关的节点配置信息，0或1,默认为1</td>
</tr>
</tbody>
</table>
<h3 id="_6">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
     <span class="err">biz_id:</span> <span class="err">2,</span>
     <span class="err">task_ids:</span> <span class="nt">&quot;60&quot;</span><span class="p">,</span>
     <span class="err">protocol:</span> <span class="nt">&quot;TCP&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>


<h3 id="_7">返回参数示例</h3>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;OK&quot;</span><span class="p">,</span>
    <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span>
    <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="nt">&quot;target_conf&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="nt">&quot;node_id_list&quot;</span><span class="p">:</span> <span class="p">[],</span>
                <span class="nt">&quot;node_list&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span>
                        <span class="nt">&quot;node_conf&quot;</span><span class="p">:</span> <span class="p">{</span>
                            <span class="nt">&quot;carrieroperator&quot;</span><span class="p">:</span> <span class="s2">&quot;内网&quot;</span><span class="p">,</span>
                            <span class="nt">&quot;location&quot;</span><span class="p">:</span> <span class="p">{</span>
                                <span class="nt">&quot;country&quot;</span><span class="p">:</span> <span class="s2">&quot;中国&quot;</span><span class="p">,</span>
                                <span class="nt">&quot;city&quot;</span><span class="p">:</span> <span class="s2">&quot;广东&quot;</span>
                            <span class="p">},</span>
                            <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;中国广东内网&quot;</span><span class="p">,</span>
                            <span class="nt">&quot;is_common&quot;</span><span class="p">:</span> <span class="kc">false</span>
                        <span class="p">},</span>
                        <span class="nt">&quot;target_conf&quot;</span><span class="p">:</span> <span class="p">{</span>
                            <span class="nt">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                            <span class="nt">&quot;ip&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                            <span class="nt">&quot;bk_cloud_id&quot;</span><span class="p">:</span> <span class="mi">0</span>
                        <span class="p">}</span>
                    <span class="p">},</span>
                    <span class="p">{</span>
                        <span class="nt">&quot;node_conf&quot;</span><span class="p">:</span> <span class="p">{</span>
                            <span class="nt">&quot;carrieroperator&quot;</span><span class="p">:</span> <span class="s2">&quot;内网&quot;</span><span class="p">,</span>
                            <span class="nt">&quot;location&quot;</span><span class="p">:</span> <span class="p">{</span>
                                <span class="nt">&quot;country&quot;</span><span class="p">:</span> <span class="s2">&quot;中国&quot;</span><span class="p">,</span>
                                <span class="nt">&quot;city&quot;</span><span class="p">:</span> <span class="s2">&quot;广东&quot;</span>
                            <span class="p">},</span>
                            <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;中国广东内网&quot;</span><span class="p">,</span>
                            <span class="nt">&quot;is_common&quot;</span><span class="p">:</span> <span class="kc">false</span>
                        <span class="p">},</span>
                        <span class="nt">&quot;target_conf&quot;</span><span class="p">:</span> <span class="p">{</span>
                            <span class="nt">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                            <span class="nt">&quot;ip&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                            <span class="nt">&quot;bk_cloud_id&quot;</span><span class="p">:</span> <span class="mi">0</span>
                        <span class="p">}</span>
                    <span class="p">}</span>
                <span class="p">]</span>
            <span class="p">},</span>
            <span class="nt">&quot;collector_conf&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;config&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;ip_list&quot;</span><span class="p">:</span> <span class="p">[</span>
                        <span class="s2">&quot;10.0.2.13&quot;</span>
                    <span class="p">],</span>
                    <span class="nt">&quot;period&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                    <span class="nt">&quot;response_format&quot;</span><span class="p">:</span> <span class="s2">&quot;in&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;port&quot;</span><span class="p">:</span> <span class="mi">3306</span><span class="p">,</span>
                    <span class="nt">&quot;timeout&quot;</span><span class="p">:</span> <span class="mi">2900</span><span class="p">,</span>
                    <span class="nt">&quot;response&quot;</span><span class="p">:</span> <span class="kc">null</span>
                <span class="p">},</span>
                <span class="nt">&quot;protocol&quot;</span><span class="p">:</span> <span class="s2">&quot;TCP&quot;</span><span class="p">,</span>
                <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;test_tcp1&quot;</span><span class="p">,</span>
                <span class="nt">&quot;groups&quot;</span><span class="p">:</span> <span class="s2">&quot;未分类&quot;</span><span class="p">,</span>
                <span class="nt">&quot;location&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;bk_state_name&quot;</span><span class="p">:</span> <span class="s2">&quot;中国&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;bk_province_name&quot;</span><span class="p">:</span> <span class="s2">&quot;北京&quot;</span>
                <span class="p">}</span>
            <span class="p">},</span>
            <span class="nt">&quot;monitor_conf&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="nt">&quot;alarm_level_config&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;2&quot;</span><span class="p">:</span> <span class="p">{</span>
                            <span class="nt">&quot;notify_way&quot;</span><span class="p">:</span> <span class="p">[</span>
                                <span class="s2">&quot;mail&quot;</span>
                            <span class="p">],</span>
                            <span class="nt">&quot;role_list&quot;</span><span class="p">:</span> <span class="p">[</span>
                                <span class="s2">&quot;Tester&quot;</span>
                            <span class="p">],</span>
                            <span class="nt">&quot;monitor_level&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
                            <span class="nt">&quot;alarm_end_time&quot;</span><span class="p">:</span> <span class="s2">&quot;23:59&quot;</span><span class="p">,</span>
                            <span class="nt">&quot;responsible&quot;</span><span class="p">:</span> <span class="p">[],</span>
                            <span class="nt">&quot;detect_algorithm&quot;</span><span class="p">:</span> <span class="p">[</span>
                                <span class="p">{</span>
                                    <span class="nt">&quot;config&quot;</span><span class="p">:</span> <span class="p">{</span>
                                        <span class="nt">&quot;threshold&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
                                        <span class="nt">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                                        <span class="nt">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;gte&quot;</span>
                                    <span class="p">},</span>
                                    <span class="nt">&quot;algorithm_id&quot;</span><span class="p">:</span> <span class="mi">1000</span>
                                <span class="p">}</span>
                            <span class="p">],</span>
                            <span class="nt">&quot;phone_receiver&quot;</span><span class="p">:</span> <span class="p">[],</span>
                            <span class="nt">&quot;alarm_start_time&quot;</span><span class="p">:</span> <span class="s2">&quot;00:00&quot;</span><span class="p">,</span>
                            <span class="nt">&quot;is_recovery&quot;</span><span class="p">:</span> <span class="kc">false</span>
                        <span class="p">}</span>
                    <span class="p">},</span>
                    <span class="nt">&quot;monitor_target&quot;</span><span class="p">:</span> <span class="s2">&quot;available&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;unit&quot;</span><span class="p">:</span> <span class="s2">&quot;%&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;\&quot;test_tcp1\&quot;节点平均值可用率&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;node_count&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                    <span class="nt">&quot;is_enabled&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
                    <span class="nt">&quot;nodata_alarm&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                    <span class="nt">&quot;rules&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;count&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                        <span class="nt">&quot;alarm_window&quot;</span><span class="p">:</span> <span class="mi">1440</span><span class="p">,</span>
                        <span class="nt">&quot;check_window&quot;</span><span class="p">:</span> <span class="mi">5</span>
                    <span class="p">},</span>
                    <span class="nt">&quot;is_classify_notice&quot;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
                    <span class="nt">&quot;where_sql&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;condition&quot;</span><span class="p">:</span> <span class="p">[</span>
                        <span class="p">[]</span>
                    <span class="p">],</span>
                    <span class="nt">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
                    <span class="nt">&quot;scenario&quot;</span><span class="p">:</span> <span class="s2">&quot;uptimecheck&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;monitor_id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                    <span class="nt">&quot;alarm_strategy_id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                    <span class="nt">&quot;is_recovery&quot;</span><span class="p">:</span> <span class="kc">false</span>
                <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">}</span>
</pre></div>


<h3 id="_8">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>返回结果，true为成功，false为失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>返回码，200表示成功，其他值表示失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>list</td>
<td>结果</td>
</tr>
</tbody>
</table>
<h4 id="1data">1、data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>业务ID</td>
</tr>
<tr>
<td>conf_list</td>
<td>list</td>
<td>配置列表</td>
</tr>
</tbody>
</table>
<h4 id="11-conf_list">1.1 配置列表--conf_list</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>collector_conf</td>
<td>dict</td>
<td>拨测任务基础配置</td>
</tr>
<tr>
<td>target_conf</td>
<td>dict</td>
<td>拨测任务下发配置</td>
</tr>
<tr>
<td>monitor_conf</td>
<td>dict</td>
<td>拨测任务对应的监控策略</td>
</tr>
</tbody>
</table>
<h4 id="111-dataconf_listcollector_conf">1.1.1 拨测任务基础配置--data.conf_list.collector_conf</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>location</td>
<td>dict</td>
<td>拨测目标所在地址</td>
</tr>
<tr>
<td>groups</td>
<td>str</td>
<td>拨测任务所属分组</td>
</tr>
<tr>
<td>name</td>
<td>str</td>
<td>拨测任务名称</td>
</tr>
<tr>
<td>protocol</td>
<td>str</td>
<td>拨测任务协议类型</td>
</tr>
<tr>
<td>config</td>
<td>dict</td>
<td>拨测任务详细配置</td>
</tr>
</tbody>
</table>
<h4 id="1111-tcp-dataconf_listcollector_confconfigtcpudp">1.1.1.1 拨测任务基础配置详细配置(TCP)--data.conf_list.collector_conf.config(TCP、UDP)</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>ip_list</td>
<td>list</td>
<td>目标IP地址</td>
</tr>
<tr>
<td>port</td>
<td>int</td>
<td>端口地址</td>
</tr>
<tr>
<td>period</td>
<td>int</td>
<td>采集周期，单位min</td>
</tr>
<tr>
<td>response_format</td>
<td>str</td>
<td>响应信息匹配方式(包含：in，不包含：nin，正则：reg)</td>
</tr>
<tr>
<td>response</td>
<td>str</td>
<td>期望响应内容</td>
</tr>
<tr>
<td>response_code</td>
<td>str</td>
<td>期望响应码</td>
</tr>
</tbody>
</table>
<h4 id="httpconfig">http任务返回的config示例</h4>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;config&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;insecure_skip_verify&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="nt">&quot;urls&quot;</span><span class="p">:</span> <span class="s2">&quot;http://baidu.com&quot;</span><span class="p">,</span>
        <span class="nt">&quot;response_code&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="nt">&quot;request&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="nt">&quot;period&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="nt">&quot;response_format&quot;</span><span class="p">:</span> <span class="s2">&quot;in&quot;</span><span class="p">,</span>
        <span class="nt">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;GET&quot;</span><span class="p">,</span>
        <span class="nt">&quot;headers&quot;</span><span class="p">:</span> <span class="p">[],</span>
        <span class="nt">&quot;timeout&quot;</span><span class="p">:</span> <span class="mi">3000</span><span class="p">,</span>
        <span class="nt">&quot;response&quot;</span><span class="p">:</span> <span class="kc">null</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h4 id="1112-http-dataconf_listcollector_confconfighttp">1.1.1.2 拨测任务基础配置详细配置(HTTP)--data.conf_list.collector_conf.config(HTTP)</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>urls</td>
<td>str</td>
<td>url</td>
</tr>
<tr>
<td>method</td>
<td>str</td>
<td>请求方式</td>
</tr>
<tr>
<td>headers</td>
<td>list</td>
<td>请求头</td>
</tr>
<tr>
<td>insecure_skip_verify</td>
<td>bool</td>
<td>是否开启ssh验证</td>
</tr>
<tr>
<td>period</td>
<td>int</td>
<td>采集周期，单位min</td>
</tr>
<tr>
<td>response_format</td>
<td>str</td>
<td>响应信息匹配方式(包含：in，不包含：nin，正则：reg)</td>
</tr>
<tr>
<td>response</td>
<td>str</td>
<td>期望响应内容</td>
</tr>
<tr>
<td>response_code</td>
<td>str</td>
<td>期望响应码</td>
</tr>
</tbody>
</table>
<h4 id="1113-dataconf_listcollector_conflocation">1.1.1.3 拨测目标所在地址--data.conf_list.collector_conf.location</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_state_name</td>
<td>str</td>
<td>国家</td>
</tr>
<tr>
<td>bk_province_name</td>
<td>str</td>
<td>省份</td>
</tr>
</tbody>
</table>
<h4 id="112-dataconf_listtarget_conf">1.1.2 拨测任务下发配置--data.conf_list.target_conf</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>业务ID</td>
</tr>
<tr>
<td>node_list</td>
<td>list</td>
<td>任务关联的节点信息</td>
</tr>
</tbody>
</table>
<h4 id="1121-dataconf_listtarget_confnode_list">1.1.2.1 任务关联的节点信息--data.conf_list.target_conf.node_list</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>node_conf</td>
<td>dict</td>
<td>节点配置信息</td>
</tr>
<tr>
<td>target_conf</td>
<td>dict</td>
<td>节点下发信息</td>
</tr>
</tbody>
</table>
<h4 id="11211-dataconf_listtarget_confnode_listtarget_conf">1.1.2.1.1 节点下发信息--data.conf_list.target_conf.node_list.target_conf</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>节点所属业务</td>
</tr>
<tr>
<td>ip</td>
<td>str</td>
<td>节点IP</td>
</tr>
<tr>
<td>bk_cloud_id</td>
<td>int</td>
<td>节点云区域ID</td>
</tr>
</tbody>
</table>
<h4 id="11212-dataconf_listtarget_confnode_listnode_conf">1.1.2.1.2 节点配置信息--data.conf_list.target_conf.node_list.node_conf</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>carrieroperator</td>
<td>str</td>
<td>运营商信息</td>
</tr>
<tr>
<td>name</td>
<td>str</td>
<td>节点名称</td>
</tr>
<tr>
<td>is_common</td>
<td>bool</td>
<td>是否为通用节点</td>
</tr>
<tr>
<td>location</td>
<td>dict</td>
<td>节点所在区域</td>
</tr>
</tbody>
</table>
<h4 id="112121-dataconf_listtarget_confnode_listnode_conflocation">1.1.2.1.2.1 节点所在区域--data.conf_list.target_conf.node_list.node_conf.location</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>country</td>
<td>str</td>
<td>国家</td>
</tr>
<tr>
<td>city</td>
<td>str</td>
<td>省份</td>
</tr>
</tbody>
</table>
<h4 id="113-dataconf_listmonitor_conf">1.1.3 节点所在区域--data.conf_list.monitor_conf</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>alarm_level_config</td>
<td>dict</td>
<td>监控触发条件配置</td>
</tr>
<tr>
<td>monitor_target</td>
<td>str</td>
<td>监控目标字段</td>
</tr>
<tr>
<td>unit</td>
<td>str</td>
<td>单位</td>
</tr>
<tr>
<td>display_name</td>
<td>str</td>
<td>监控名称</td>
</tr>
<tr>
<td>node_count</td>
<td>int</td>
<td>节点数</td>
</tr>
<tr>
<td>is_enabled</td>
<td>bool</td>
<td>是否启用</td>
</tr>
<tr>
<td>nodata_alarm</td>
<td>int</td>
<td>无数据告警</td>
</tr>
<tr>
<td>rules</td>
<td>dict</td>
<td>告警收敛配置</td>
</tr>
<tr>
<td>is_classify_notice</td>
<td>bool</td>
<td>是否分级告警</td>
</tr>
<tr>
<td>where_sql</td>
<td>str</td>
<td>监控源查询条件</td>
</tr>
<tr>
<td>condition</td>
<td>list</td>
<td>监控范围</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>业务ID</td>
</tr>
<tr>
<td>scenario</td>
<td>str</td>
<td>监控场景</td>
</tr>
<tr>
<td>monitor_id</td>
<td>int</td>
<td>监控源ID</td>
</tr>
<tr>
<td>alarm_strategy_id</td>
<td>int</td>
<td>监控策略ID</td>
</tr>
<tr>
<td>is_recovery</td>
<td>bool</td>
<td>自动恢复</td>
</tr>
</tbody>
</table>
<h4 id="1131-dataconf_listmonitor_confrules">1.1.3.1 告警收敛配置--data.conf_list.monitor_conf.rules</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>alarm_window</td>
<td>int</td>
<td>告警窗口</td>
</tr>
<tr>
<td>check_window</td>
<td>int</td>
<td>检测窗口</td>
</tr>
<tr>
<td>count</td>
<td>int</td>
<td>数量</td>
</tr>
</tbody>
</table>
<h4 id="1132-dataconf_listmonitor_confalarm_level_config">1.1.3.2 监控触发条件配置--data.conf_list.monitor_conf.alarm_level_config</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>dict</td>
<td>告警级别对应的告警触发配置,表示为致命告警</td>
</tr>
<tr>
<td>2</td>
<td>dict</td>
<td>告警级别对应的告警触发配置，表现为预警告警</td>
</tr>
<tr>
<td>3</td>
<td>dict</td>
<td>告警级别对应的告警触发配置，表现为提醒告警</td>
</tr>
</tbody>
</table>
<h4 id="11321-dataconf_listmonitor_confalarm_level_config1">1.1.3.2.1 告警级别对应的告警触发配置--data.conf_list.monitor_conf.alarm_level_config.1</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>alarm_start_time</td>
<td>str</td>
<td>当日开始告警时间</td>
</tr>
<tr>
<td>alarm_end_time</td>
<td>str</td>
<td>当日结束告警时间</td>
</tr>
<tr>
<td>detect_algorithm</td>
<td>list</td>
<td>检测算法配置</td>
</tr>
<tr>
<td>is_recovery</td>
<td>str</td>
<td>自动恢复</td>
</tr>
<tr>
<td>monitor_level</td>
<td>int</td>
<td>告警级别，1致命、2预警、3提醒</td>
</tr>
<tr>
<td>notify_way</td>
<td>list</td>
<td>通知方式，mail邮件、wechat微信、sms短信、phone电话</td>
</tr>
<tr>
<td>phone_receiver</td>
<td>list</td>
<td>电话通知对象，账号名</td>
</tr>
<tr>
<td>responsible</td>
<td>list</td>
<td>其他通知人列表</td>
</tr>
<tr>
<td>role_list</td>
<td>list</td>
<td>通知人分组，在业务管理中配置</td>
</tr>
</tbody>
</table>
<h4 id="113211-dataconf_listmonitor_confalarm_level_config1detect_algorithm">1.1.3.2.1.1 检测算法配置--data.conf_list.monitor_conf.alarm_level_config.1.detect_algorithm</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>config</td>
<td>dict</td>
<td>检测算法详细配置</td>
</tr>
<tr>
<td>algorithm_id</td>
<td>int</td>
<td>检测算法ID，静态阈值 1000、同比策略(简易) 1001、环比策略(简易)1002</td>
</tr>
</tbody>
</table>
<h4 id="1132111-dataconf_listmonitor_confalarm_level_config1detect_algorithmconfig">1.1.3.2.1.1.1 检测算法详细配置(静态阈值)--data.conf_list.monitor_conf.alarm_level_config.1.detect_algorithm.config</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>threshold</td>
<td>int</td>
<td>比较值</td>
</tr>
<tr>
<td>method</td>
<td>str</td>
<td>比较方式</td>
</tr>
<tr>
<td>message</td>
<td>str</td>
<td>说明</td>
</tr>
</tbody>
</table>
<h4 id="1132112-dataconf_listmonitor_confalarm_level_config1detect_algorithmconfig">1.1.3.2.1.1.2 检测算法详细配置(同比、环比)--data.conf_list.monitor_conf.alarm_level_config.1.detect_algorithm.config</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>ceil</td>
<td>int</td>
<td>大于设定值告警</td>
</tr>
<tr>
<td>floor</td>
<td>str</td>
<td>低于设定值告警</td>
</tr>
<tr>
<td>message</td>
<td>str</td>
<td>说明</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor/get_alarms/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>通过筛选条件获取指定告警事件</p>
<h4 id="_4">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_5">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务ID</td>
</tr>
<tr>
<td>source_time</td>
<td>string</td>
<td>是</td>
<td>告警源时间，"YYYY-MM-DD hh:mm:ss"</td>
</tr>
<tr>
<td>id</td>
<td>int</td>
<td>否</td>
<td>告警事件ID</td>
</tr>
<tr>
<td>alarm_type</td>
<td>string</td>
<td>否</td>
<td>监控类型，可选base、cpu、men等，详情见下alarm_type</td>
</tr>
<tr>
<td>level</td>
<td>int</td>
<td>否</td>
<td>告警级别，1为致命，2为预警，3为提醒</td>
</tr>
<tr>
<td>alarm_content__contains</td>
<td>string</td>
<td>否</td>
<td>包含的告警内容，从alarm_content字段中匹配</td>
</tr>
<tr>
<td>user_status</td>
<td>string</td>
<td>否</td>
<td>通知状态，默认为user_status__in="notified,unnotified"</td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td>否</td>
<td>告警状态，可选（待定）</td>
</tr>
<tr>
<td>extend_fields</td>
<td>string</td>
<td>否</td>
<td>用户自定义显示的额外字段,可选begin_time(告警开始处理时间)，end_time(告警结束处理时间)，finish_time(告警恢复时间)，original_alarm(原始告警)等，多个字段使用半角逗号分隔"</td>
</tr>
<tr>
<td>ordering</td>
<td>string</td>
<td>否</td>
<td>排序方式，默认为id(升序)，可选source_time,begin_time,end_time，加上"-"前缀为降序</td>
</tr>
<tr>
<td>page</td>
<td>int</td>
<td>否</td>
<td>当前页码数，默认为1</td>
</tr>
<tr>
<td>page_size</td>
<td>int</td>
<td>否</td>
<td>每页最大显示数，默认为5</td>
</tr>
</tbody>
</table>
<p>注：以上字段除<code>extend_fields</code>、<code>ordering</code>、<code>page</code>、<code>page_size</code>外，均支持Django的ORM操作</p>
<div class="codehilite"><pre><span></span><span class="err">如</span><span class="n">source_time__gte</span><span class="err">、</span><span class="n">source_time__lte</span><span class="err">、</span><span class="n">alarm_type__in等</span><span class="err">。</span>
<span class="err">使用</span><span class="n">__in操作时</span><span class="err">，参数用英文逗号隔开，如</span><span class="n">alarm_type__in</span><span class="o">=</span><span class="n">cpu</span><span class="p">,</span><span class="n">net</span>
</pre></div>


<h4 id="alarm_type">alarm_type: 监控类型</h4>
<div class="codehilite"><pre><span></span><span class="n">base</span><span class="p">(</span><span class="err">基础</span><span class="p">)</span><span class="err">、</span><span class="n">cpu</span><span class="p">(</span><span class="n">CPU</span><span class="p">)</span><span class="err">、</span><span class="n">mem</span><span class="p">(</span><span class="err">内存</span><span class="p">)</span><span class="err">、</span><span class="n">net</span><span class="p">(</span><span class="err">网络</span><span class="p">)</span><span class="err">、</span><span class="n">disk</span><span class="p">(</span><span class="err">磁盘</span><span class="p">)</span><span class="err">、</span><span class="n">system_env</span><span class="p">(</span><span class="err">系统</span><span class="p">)</span><span class="err">、</span>
<span class="n">base_alarm</span><span class="p">(</span><span class="err">事件</span><span class="p">)</span><span class="err">、</span><span class="n">gse_custom_event</span><span class="p">(</span><span class="err">字符型</span><span class="p">)</span><span class="err">、</span><span class="n">proc_port</span><span class="p">(</span><span class="err">进程端口</span><span class="p">)</span><span class="err">、</span>
<span class="n">custom</span><span class="p">(</span><span class="err">自定义</span><span class="p">)</span><span class="err">、</span><span class="n">keyword</span><span class="p">(</span><span class="err">关键字</span><span class="p">)</span><span class="err">、</span><span class="n">process</span><span class="p">(</span><span class="err">进程</span><span class="p">)</span><span class="err">、</span><span class="n">selfscript</span><span class="p">(</span><span class="err">脚本</span><span class="p">)</span><span class="err">、</span>
<span class="n">uptimecheck</span><span class="p">(</span><span class="err">服务拨测</span><span class="p">)</span><span class="err">、</span><span class="n">apache</span><span class="err">、</span><span class="n">mysql</span><span class="err">、</span><span class="n">nginx</span><span class="err">、</span><span class="n">redis</span><span class="err">、</span><span class="n">tomcat</span><span class="err">、</span><span class="n">ad</span><span class="err">、</span><span class="n">ceph</span><span class="err">、</span>
<span class="n">consul</span><span class="err">、</span><span class="n">elastic</span><span class="err">、</span><span class="n">exchange2010</span><span class="err">、</span><span class="n">haproxy</span><span class="err">、</span><span class="n">iis</span><span class="err">、</span><span class="n">jmx</span><span class="err">、</span><span class="n">kafka</span><span class="err">、</span><span class="n">memcache</span><span class="err">、</span>
<span class="n">mongodb</span><span class="err">、</span><span class="n">mssql</span><span class="err">、</span><span class="n">oracle</span><span class="err">、</span><span class="n">rabbitmq</span><span class="err">、</span><span class="n">weblogic</span><span class="err">、</span><span class="n">zookeeper</span> <span class="err">等</span>
</pre></div>


<h3 id="_6">请求参数示例</h3>
<p>(注意时区,不输入时区信息默认为零时区)获取告警接入时间在2018-10-01
00:00:01+0800和2018-11-08
23:59:59+0800之间，业务ID为2，监控类型为cpu，额外字段为end_time的告警事件，且当前页码为1，单页最大显示数为10，排序方式为按begin_time字段降序：</p>
<div class="codehilite"><pre><span></span><span class="n">bk_biz_id</span><span class="o">=</span><span class="mi">2</span><span class="o">&amp;</span><span class="n">extend_fields</span><span class="o">=</span><span class="n">end_time</span><span class="o">&amp;</span><span class="n">source_time__gte</span><span class="o">=</span><span class="mi">2018</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">01</span> <span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">01</span><span class="o">%</span><span class="mi">2</span><span class="n">b0800</span><span class="o">&amp;</span><span class="n">source_time__lte</span><span class="o">=</span><span class="mi">2018</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">08</span> <span class="mi">23</span><span class="p">:</span><span class="mi">59</span><span class="p">:</span><span class="mi">59</span><span class="o">%</span><span class="mi">2</span><span class="n">b0800</span><span class="o">&amp;</span><span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="o">&amp;</span><span class="n">page_size</span><span class="o">=</span><span class="mi">10</span><span class="o">&amp;</span><span class="n">ordering</span><span class="o">=-</span><span class="n">begin_time</span><span class="o">&amp;</span><span class="n">alarm_type</span><span class="o">=</span><span class="n">cpu</span>
</pre></div>


<p>(零时区)获取告警接入时间在2019-01-01 00:00:00和2019-01-08
23:59:59之间，业务ID为2，告警级别为严重，监控类型为内存，告警内容包含“PING”的告警事件：</p>
<div class="codehilite"><pre><span></span><span class="n">bk_biz_id</span><span class="o">=</span><span class="mi">2</span><span class="o">&amp;</span><span class="n">source_time__gte</span><span class="o">=</span><span class="mi">2019</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span> <span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="o">&amp;</span><span class="n">source_time__lte</span><span class="o">=</span><span class="mi">2019</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">08</span> <span class="mi">23</span><span class="p">:</span><span class="mi">59</span><span class="p">:</span><span class="mi">59</span><span class="o">&amp;</span><span class="k">level</span><span class="o">=</span><span class="mi">1</span><span class="o">&amp;</span><span class="n">alarm_type</span><span class="o">=</span><span class="n">men</span><span class="o">&amp;</span><span class="n">alarm_content__contains</span><span class="o">=</span><span class="n">PING</span>
</pre></div>


<h3 id="_7">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="err">{</span>
    <span class="ss">&quot;message&quot;</span><span class="p">:</span> <span class="ss">&quot;OK&quot;</span><span class="p">,</span>
    <span class="ss">&quot;code&quot;</span><span class="p">:</span> <span class="ss">&quot;0&quot;</span><span class="p">,</span>
    <span class="ss">&quot;data&quot;</span><span class="p">:</span> <span class="err">{</span>
        <span class="ss">&quot;total&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="ss">&quot;result&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="err">{</span>
                <span class="ss">&quot;comment&quot;</span><span class="p">:</span> <span class="ss">&quot;&quot;</span><span class="p">,</span>
                <span class="ss">&quot;status&quot;</span><span class="p">:</span> <span class="ss">&quot;success&quot;</span><span class="p">,</span>
                <span class="ss">&quot;source_time&quot;</span><span class="p">:</span> <span class="ss">&quot;2018-11-05 06:01:00+0000&quot;</span><span class="p">,</span>
                <span class="ss">&quot;user_status&quot;</span><span class="p">:</span> <span class="ss">&quot;notified&quot;</span><span class="p">,</span>
                <span class="ss">&quot;alarm_type&quot;</span><span class="p">:</span> <span class="ss">&quot;cpu&quot;</span><span class="p">,</span>
                <span class="ss">&quot;ip&quot;</span><span class="p">:</span> <span class="ss">&quot;x.x.x.x&quot;</span><span class="p">,</span>
                <span class="ss">&quot;level&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
                <span class="ss">&quot;bk_cloud_id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="ss">&quot;alarm_content&quot;</span><span class="p">:</span> <span class="err">{</span>
                    <span class="ss">&quot;source_name&quot;</span><span class="p">:</span> <span class="ss">&quot;5分钟平均负载&quot;</span><span class="p">,</span>
                    <span class="ss">&quot;title&quot;</span><span class="p">:</span> <span class="ss">&quot;x.x.x.x发生5分钟平均负载告警&quot;</span><span class="p">,</span>
                    <span class="ss">&quot;cc_biz_name&quot;</span><span class="p">:</span> <span class="ss">&quot;蓝鲸&quot;</span><span class="p">,</span>
                    <span class="ss">&quot;content&quot;</span><span class="p">:</span> <span class="ss">&quot;主机[x.x.x.x]:当前指标值(6.57) &gt;= (0.0)&quot;</span><span class="p">,</span>
                    <span class="ss">&quot;is_performance_alarm&quot;</span><span class="p">:</span> <span class="k">true</span><span class="p">,</span>
                    <span class="ss">&quot;dimensions_display&quot;</span><span class="p">:</span> <span class="ss">&quot;ip(x.x.x.x)-company_id(0)-集群(公共组件)-模块(influxdb)-biz_id(2)-plat_id(0)&quot;</span>
                <span class="err">}</span><span class="p">,</span>
                <span class="ss">&quot;end_time&quot;</span><span class="p">:</span> <span class="ss">&quot;2018-11-05 06:02:37+0000&quot;</span><span class="p">,</span>  <span class="o">#</span> <span class="err">此字段为用户自定义的额外字段</span>
                <span class="ss">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
                <span class="ss">&quot;match_dimension&quot;</span><span class="p">:</span> <span class="err">{</span>
                    <span class="ss">&quot;cc_app_module&quot;</span><span class="p">:</span> <span class="ss">&quot;33&quot;</span><span class="p">,</span>
                    <span class="ss">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
                    <span class="ss">&quot;ModuleName&quot;</span><span class="p">:</span> <span class="ss">&quot;influxdb&quot;</span><span class="p">,</span>
                    <span class="ss">&quot;SetName&quot;</span><span class="p">:</span> <span class="ss">&quot;公共组件&quot;</span><span class="p">,</span>
                    <span class="ss">&quot;ip&quot;</span><span class="p">:</span> <span class="ss">&quot;x.x.x.x&quot;</span><span class="p">,</span>
                    <span class="ss">&quot;bk_cloud_id&quot;</span><span class="p">:</span> <span class="ss">&quot;0&quot;</span><span class="p">,</span>
                    <span class="ss">&quot;cc_topo_module&quot;</span><span class="p">:</span> <span class="ss">&quot;33&quot;</span><span class="p">,</span>
                    <span class="ss">&quot;cc_topo_set&quot;</span><span class="p">:</span> <span class="ss">&quot;6&quot;</span><span class="p">,</span>
                    <span class="ss">&quot;bk_supplier_id&quot;</span><span class="p">:</span> <span class="ss">&quot;0&quot;</span>
                <span class="err">}</span><span class="p">,</span>
                <span class="ss">&quot;id&quot;</span><span class="p">:</span> <span class="mi">1499348</span><span class="p">,</span>
                <span class="ss">&quot;bk_supplier_id&quot;</span><span class="p">:</span> <span class="mi">0</span>
            <span class="err">}</span>
        <span class="p">]</span>
    <span class="err">}</span><span class="p">,</span>
    <span class="ss">&quot;result&quot;</span><span class="p">:</span> <span class="k">true</span>
<span class="err">}</span>
</pre></div>


<h3 id="_8">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>返回结果，true为成功，false为失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>返回码，0表示成功，其他值表示失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>结果，其中total为数据总数，result如下</td>
</tr>
</tbody>
</table>
<h4 id="dataresult">data.result</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int</td>
<td>告警事件ID</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>业务ID</td>
</tr>
<tr>
<td>bk_cloud_id</td>
<td>int</td>
<td>云平台ID，主机相关字段</td>
</tr>
<tr>
<td>bk_supplier_id</td>
<td>int</td>
<td>开发商ID，主机相关字段</td>
</tr>
<tr>
<td>ip</td>
<td>string</td>
<td>IP地址，主机相关字段</td>
</tr>
<tr>
<td>comment</td>
<td>string</td>
<td>备注</td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td>状态</td>
</tr>
<tr>
<td>user_status</td>
<td>string</td>
<td>通知状态(已通知，通知失败)</td>
</tr>
<tr>
<td>alarm_type</td>
<td>string</td>
<td>告警类型</td>
</tr>
<tr>
<td>level</td>
<td>int</td>
<td>告警等级，1为严重，2为普通，3为轻微</td>
</tr>
<tr>
<td>match_dimension</td>
<td>dict</td>
<td>告警后台内部匹配的维度</td>
</tr>
<tr>
<td>alarm_content</td>
<td>dict</td>
<td>告警内容</td>
</tr>
<tr>
<td>source_time</td>
<td>string</td>
<td>告警源时间</td>
</tr>
</tbody>
</table>
<h5 id="resultalarm_content">result.alarm_content</h5>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>source_name</td>
<td>string</td>
<td>监控名称</td>
</tr>
<tr>
<td>title</td>
<td>string</td>
<td>告警标题</td>
</tr>
<tr>
<td>cc_biz_name</td>
<td>string</td>
<td>业务名称</td>
</tr>
<tr>
<td>content</td>
<td>string</td>
<td>触发条件</td>
</tr>
<tr>
<td>is_performance_alarm</td>
<td>bool</td>
<td>是否属于主机监控</td>
</tr>
<tr>
<td>dimensions_display</td>
<td>string</td>
<td>维度信息</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor/import_alarm_strategy/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>监控策略入接口</p>
<p>可以导入主机监控及自定义监控策略配置，包含策略依赖的监控源数据。</p>
<p>如果不传入监控源ID，则会按照配置自动创建监控源。</p>
<p>如果导入主机，则会判断是否存在对应的主机监控源，如果有则不创建。</p>
<h4 id="_4">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_5">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>conf_list</td>
<td>list</td>
<td>是</td>
<td>导入配置</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>通用业务ID</td>
</tr>
</tbody>
</table>
<h4 id="_6">请求参数示例</h4>
<p>使用监控策略导出接口返回的数据结构即可。</p>
<div class="codehilite"><pre><span></span><span class="err">{</span>
    <span class="n">bk_biz_id</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="n">conf_list</span><span class="p">:</span> <span class="p">[</span>
         <span class="err">{</span>
            <span class="ss">&quot;is_enabled&quot;</span><span class="p">:</span><span class="k">true</span><span class="p">,</span>
            <span class="ss">&quot;stat_source_info&quot;</span><span class="p">:</span><span class="ss">&quot;{\&quot;</span><span class="n">where_sql</span><span class="err">\</span><span class="ss">&quot;:\&quot;</span><span class="err">\</span><span class="ss">&quot;,\&quot;</span><span class="n">monitor_result_table_id</span><span class="err">\</span><span class="ss">&quot;:\&quot;</span><span class="mi">2</span><span class="n">_ing_test</span><span class="err">\</span><span class="ss">&quot;,\&quot;</span><span class="n">count_freq</span><span class="err">\</span><span class="ss">&quot;:60,\&quot;</span><span class="n">unit_conversion</span><span class="err">\</span><span class="ss">&quot;:1.0,\&quot;</span><span class="n">aggregator</span><span class="err">\</span><span class="ss">&quot;:\&quot;</span><span class="k">sum</span><span class="err">\</span><span class="ss">&quot;,\&quot;</span><span class="n">monitor_field</span><span class="err">\</span><span class="ss">&quot;:\&quot;</span><span class="n">num</span><span class="err">\</span><span class="ss">&quot;,\&quot;</span><span class="n">unit</span><span class="err">\</span><span class="ss">&quot;:\&quot;</span><span class="err">\</span><span class="ss">&quot;,\&quot;</span><span class="n">dimensions</span><span class="err">\</span><span class="ss">&quot;:[\&quot;</span><span class="n">_server_</span><span class="err">\</span><span class="ss">&quot;]}&quot;</span><span class="p">,</span>
            <span class="ss">&quot;description&quot;</span><span class="p">:</span><span class="ss">&quot;&quot;</span><span class="p">,</span>
            <span class="ss">&quot;scenario&quot;</span><span class="p">:</span><span class="ss">&quot;custom&quot;</span><span class="p">,</span>
            <span class="ss">&quot;title&quot;</span><span class="p">:</span><span class="ss">&quot;test&quot;</span><span class="p">,</span>
            <span class="ss">&quot;monitor_target&quot;</span><span class="p">:</span><span class="ss">&quot;num&quot;</span><span class="p">,</span>
            <span class="ss">&quot;biz_id&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>
            <span class="ss">&quot;src_type&quot;</span><span class="p">:</span><span class="ss">&quot;BKMONITOR&quot;</span><span class="p">,</span>
            <span class="ss">&quot;alarm_strategy&quot;</span><span class="p">:[</span>
               <span class="err">{</span>
                  <span class="ss">&quot;is_enabled&quot;</span><span class="p">:</span><span class="k">true</span><span class="p">,</span>
                  <span class="ss">&quot;bk_biz_id&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>
                  <span class="ss">&quot;alarm_level_config&quot;</span><span class="p">:</span><span class="err">{</span>
                     <span class="ss">&quot;2&quot;</span><span class="p">:</span><span class="err">{</span>
                        <span class="ss">&quot;notice_end_time&quot;</span><span class="p">:</span><span class="ss">&quot;23:59&quot;</span><span class="p">,</span>
                        <span class="ss">&quot;phone_receiver&quot;</span><span class="p">:[</span>

                        <span class="p">],</span>
                        <span class="ss">&quot;monitor_level&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>
                        <span class="ss">&quot;is_recovery&quot;</span><span class="p">:</span><span class="k">false</span><span class="p">,</span>
                        <span class="ss">&quot;notify_way&quot;</span><span class="p">:[</span>
                           <span class="ss">&quot;wechat&quot;</span>
                        <span class="p">],</span>
                        <span class="ss">&quot;role_list&quot;</span><span class="p">:[</span>
                           <span class="ss">&quot;other&quot;</span>
                        <span class="p">],</span>
                        <span class="ss">&quot;responsible&quot;</span><span class="p">:[</span>
                           <span class="ss">&quot;laymanmlai&quot;</span>
                        <span class="p">],</span>
                        <span class="ss">&quot;notice_start_time&quot;</span><span class="p">:</span><span class="ss">&quot;00:00&quot;</span><span class="p">,</span>
                        <span class="ss">&quot;detect_algorithm&quot;</span><span class="p">:[</span>
                           <span class="err">{</span>
                              <span class="ss">&quot;config&quot;</span><span class="p">:</span><span class="err">{</span>
                                 <span class="ss">&quot;threshold&quot;</span><span class="p">:</span><span class="mi">32</span><span class="p">,</span>
                                 <span class="ss">&quot;message&quot;</span><span class="p">:</span><span class="ss">&quot;&quot;</span><span class="p">,</span>
                                 <span class="ss">&quot;method&quot;</span><span class="p">:</span><span class="ss">&quot;gte&quot;</span>
                              <span class="err">}</span><span class="p">,</span>
                              <span class="ss">&quot;algorithm_id&quot;</span><span class="p">:</span><span class="mi">1000</span><span class="p">,</span>
                              <span class="ss">&quot;name&quot;</span><span class="p">:</span><span class="ss">&quot;静态阈值&quot;</span><span class="p">,</span>
                              <span class="ss">&quot;display&quot;</span><span class="p">:</span><span class="ss">&quot;当前值≥阈值:32&quot;</span>
                           <span class="err">}</span>
                        <span class="p">]</span>
                     <span class="err">}</span>
                  <span class="err">}</span><span class="p">,</span>
                  <span class="ss">&quot;display_name&quot;</span><span class="p">:</span><span class="ss">&quot;答复&quot;</span><span class="p">,</span>
                  <span class="ss">&quot;scenario&quot;</span><span class="p">:</span><span class="ss">&quot;custom&quot;</span><span class="p">,</span>
                  <span class="ss">&quot;is_classify_notice&quot;</span><span class="p">:</span><span class="k">false</span><span class="p">,</span>
                  <span class="ss">&quot;rules&quot;</span><span class="p">:</span><span class="err">{</span>
                     <span class="ss">&quot;count&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
                     <span class="ss">&quot;alarm_window&quot;</span><span class="p">:</span><span class="mi">60</span><span class="p">,</span>
                     <span class="ss">&quot;check_window&quot;</span><span class="p">:</span><span class="mi">5</span>
                  <span class="err">}</span><span class="p">,</span>
                  <span class="ss">&quot;nodata_alarm&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
                  <span class="ss">&quot;cc_biz_id&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>
                  <span class="ss">&quot;condition&quot;</span><span class="p">:[</span>
                     <span class="p">[</span>

                     <span class="p">]</span>
                  <span class="p">]</span>
               <span class="err">}</span>
            <span class="p">],</span>
            <span class="ss">&quot;monitor_type&quot;</span><span class="p">:</span><span class="ss">&quot;uptimecheck&quot;</span><span class="p">,</span>
            <span class="ss">&quot;stat_source_type&quot;</span><span class="p">:</span><span class="ss">&quot;BKDATA&quot;</span>
         <span class="err">}</span>
      <span class="p">]</span>
<span class="err">}</span>
</pre></div>


<h4 id="_7">返回结果</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>fail</td>
<td>list</td>
<td>导入失败的监控项</td>
</tr>
<tr>
<td>success</td>
<td>list</td>
<td>导入成功的监控项</td>
</tr>
</tbody>
</table>
<h5 id="success">success结构</h5>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>monitor_id</td>
<td>string</td>
<td>导入的监控源ID，新建或找到对应的</td>
</tr>
<tr>
<td>alarm_strategy</td>
<td>list</td>
<td>监控策略详情</td>
</tr>
<tr>
<td>config</td>
<td>dict</td>
<td>成功监控项传入的配置</td>
</tr>
</tbody>
</table>
<h5 id="fail">fail结构</h5>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>config</td>
<td>dict</td>
<td>失败的监控源配置</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>失败信息</td>
</tr>
</tbody>
</table>
<h4 id="_8">返回结果示例</h4>
<div class="codehilite"><pre><span></span><span class="err">{</span>  
   <span class="ss">&quot;message&quot;</span><span class="p">:</span><span class="ss">&quot;OK&quot;</span><span class="p">,</span>
   <span class="ss">&quot;code&quot;</span><span class="p">:</span><span class="mi">200</span><span class="p">,</span>
   <span class="ss">&quot;data&quot;</span><span class="p">:</span><span class="err">{</span>  
      <span class="ss">&quot;fail&quot;</span><span class="p">:[</span>  

      <span class="p">],</span>
      <span class="ss">&quot;success&quot;</span><span class="p">:[</span>  
         <span class="err">{</span>  
            <span class="ss">&quot;monitor_id&quot;</span><span class="p">:</span><span class="mi">431</span><span class="p">,</span>
            <span class="ss">&quot;alarm_strategy&quot;</span><span class="p">:[</span>  
               <span class="err">{</span>  
                  <span class="ss">&quot;is_enabled&quot;</span><span class="p">:</span><span class="k">true</span><span class="p">,</span>
                  <span class="ss">&quot;bk_biz_id&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>
                  <span class="ss">&quot;alarm_level_config&quot;</span><span class="p">:</span><span class="err">{</span>  
                     <span class="ss">&quot;2&quot;</span><span class="p">:</span><span class="err">{</span>  
                        <span class="ss">&quot;monitor_level&quot;</span><span class="p">:</span><span class="ss">&quot;2&quot;</span><span class="p">,</span>
                        <span class="ss">&quot;responsible&quot;</span><span class="p">:[</span>  
                           <span class="ss">&quot;laymanmlai&quot;</span>
                        <span class="p">],</span>
                        <span class="ss">&quot;notice_start_time&quot;</span><span class="p">:</span><span class="ss">&quot;00:00&quot;</span><span class="p">,</span>
                        <span class="ss">&quot;detect_algorithm&quot;</span><span class="p">:[</span>  
                           <span class="err">{</span>  
                              <span class="ss">&quot;display&quot;</span><span class="p">:</span><span class="ss">&quot;当前值≥阈值:32&quot;</span><span class="p">,</span>
                              <span class="ss">&quot;config&quot;</span><span class="p">:</span><span class="err">{</span>  
                                 <span class="ss">&quot;threshold&quot;</span><span class="p">:</span><span class="mi">32</span><span class="p">,</span>
                                 <span class="ss">&quot;message&quot;</span><span class="p">:</span><span class="ss">&quot;&quot;</span><span class="p">,</span>
                                 <span class="ss">&quot;method&quot;</span><span class="p">:</span><span class="ss">&quot;gte&quot;</span>
                              <span class="err">}</span><span class="p">,</span>
                              <span class="ss">&quot;algorithm_id&quot;</span><span class="p">:</span><span class="mi">1000</span><span class="p">,</span>
                              <span class="ss">&quot;name&quot;</span><span class="p">:</span><span class="ss">&quot;静态阈值&quot;</span>
                           <span class="err">}</span>
                        <span class="p">],</span>
                        <span class="ss">&quot;notice_end_time&quot;</span><span class="p">:</span><span class="ss">&quot;23:59&quot;</span><span class="p">,</span>
                        <span class="ss">&quot;phone_receiver&quot;</span><span class="p">:[</span>  

                        <span class="p">],</span>
                        <span class="ss">&quot;is_recovery&quot;</span><span class="p">:</span><span class="k">false</span><span class="p">,</span>
                        <span class="ss">&quot;notify_way&quot;</span><span class="p">:[</span>  
                           <span class="ss">&quot;wechat&quot;</span>
                        <span class="p">],</span>
                        <span class="ss">&quot;role_list&quot;</span><span class="p">:[</span>  
                           <span class="ss">&quot;other&quot;</span>
                        <span class="p">]</span>
                     <span class="err">}</span>
                  <span class="err">}</span><span class="p">,</span>
                  <span class="ss">&quot;display_name&quot;</span><span class="p">:</span><span class="ss">&quot;答复&quot;</span><span class="p">,</span>
                  <span class="ss">&quot;scenario&quot;</span><span class="p">:</span><span class="ss">&quot;custom&quot;</span><span class="p">,</span>
                  <span class="ss">&quot;is_classify_notice&quot;</span><span class="p">:</span><span class="k">false</span><span class="p">,</span>
                  <span class="ss">&quot;rules&quot;</span><span class="p">:</span><span class="err">{</span>  
                     <span class="ss">&quot;count&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
                     <span class="ss">&quot;alarm_window&quot;</span><span class="p">:</span><span class="mi">60</span><span class="p">,</span>
                     <span class="ss">&quot;check_window&quot;</span><span class="p">:</span><span class="mi">5</span>
                  <span class="err">}</span><span class="p">,</span>
                  <span class="ss">&quot;nodata_alarm&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
                  <span class="ss">&quot;monitor_id&quot;</span><span class="p">:</span><span class="mi">431</span><span class="p">,</span>
                  <span class="ss">&quot;converge_display&quot;</span><span class="p">:</span><span class="ss">&quot;5个周期内，满足1次检测算法, 且告警产生后未恢复，1小时内不再告警&quot;</span><span class="p">,</span>
                  <span class="ss">&quot;cc_biz_id&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>
                  <span class="ss">&quot;condition&quot;</span><span class="p">:[</span>  
                     <span class="p">[</span>  

                     <span class="p">]</span>
                  <span class="p">],</span>
                  <span class="ss">&quot;condition_display&quot;</span><span class="p">:</span><span class="ss">&quot;当前所有维度&quot;</span>
               <span class="err">}</span>
            <span class="p">],</span>
            <span class="o">//</span> <span class="err">传入的监控项完整配置</span>
            <span class="ss">&quot;config&quot;</span><span class="p">:</span> <span class="err">{}</span>
      <span class="p">]</span>
   <span class="err">}</span><span class="p">,</span>
   <span class="ss">&quot;result&quot;</span><span class="p">:</span><span class="k">true</span>
<span class="err">}</span>
</pre></div><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor/import_log_collector/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>日志采集器配置导入下发接口</p>
<h4 id="_4">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_5">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>conf_list</td>
<td>list</td>
<td>是</td>
<td>配置列表</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>否</td>
<td>通用业务id，如果传了该参数，在conf_list中没有配置bk_biz_id的配置将使用该bk_biz_id作为业务id</td>
</tr>
</tbody>
</table>
<h4 id="conf_list">conf_list</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>collector_conf</td>
<td>dict</td>
<td>是</td>
<td>采集器基础配置</td>
</tr>
<tr>
<td>target_conf</td>
<td>dict</td>
<td>是</td>
<td>下发配置</td>
</tr>
<tr>
<td>monitor_conf</td>
<td>list</td>
<td>否</td>
<td>监控策略配置</td>
</tr>
</tbody>
</table>
<h4 id="collector_conf">collector_conf</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>字段类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>data_set</td>
<td>string</td>
<td>是</td>
<td>表名称</td>
</tr>
<tr>
<td>data_desc</td>
<td>string</td>
<td>是</td>
<td>描述</td>
</tr>
<tr>
<td>data_encode</td>
<td>string</td>
<td>是</td>
<td>编码(UTF-8，GBK)</td>
</tr>
<tr>
<td>sep</td>
<td>string</td>
<td>是</td>
<td>分隔符</td>
</tr>
<tr>
<td>log_path</td>
<td>string</td>
<td>是</td>
<td>日志路径</td>
</tr>
<tr>
<td>conditions</td>
<td>list</td>
<td>否</td>
<td>采集范围</td>
</tr>
<tr>
<td>fields</td>
<td>list</td>
<td>是</td>
<td>表字段</td>
</tr>
</tbody>
</table>
<h4 id="collector_conffields">collector_conf.fields</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>string</td>
<td>是</td>
<td>字段名</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>是</td>
<td>字段类型</td>
</tr>
<tr>
<td>alis</td>
<td>string</td>
<td>否</td>
<td>默认填“”</td>
</tr>
<tr>
<td>time_format</td>
<td>string</td>
<td>否</td>
<td>时间格式，若是时间字段则填“1”，为1的时间格式为yyyy-MM-dd HH:mm:ss；若非时间字段则填“”或不传</td>
</tr>
<tr>
<td>time_zone</td>
<td>string</td>
<td>否</td>
<td>时区 ，一般为“+8”</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>是</td>
<td>字段描述</td>
</tr>
</tbody>
</table>
<h4 id="target_conf">target_conf</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>字段类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>业务id</td>
</tr>
<tr>
<td>ips</td>
<td>list</td>
<td>目标机器ip</td>
</tr>
</tbody>
</table>
<h3 id="_6">请求参数示例</h3>
<p>导入一个采集/tmp/log.txt日志的日志采集器</p>
<div class="codehilite"><pre><span></span><span class="err">{</span>
    <span class="ss">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="ss">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="ss">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="ss">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="ss">&quot;bk_token&quot;</span><span class="p">:</span> <span class="ss">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="ss">&quot;conf_list&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="err">{</span>
            <span class="ss">&quot;collector_conf&quot;</span><span class="p">:</span><span class="err">{</span>
                <span class="ss">&quot;data_set&quot;</span><span class="p">:</span> <span class="ss">&quot;test_rt_three&quot;</span><span class="p">,</span>
                <span class="ss">&quot;data_desc&quot;</span><span class="p">:</span> <span class="ss">&quot;测试日志采集&quot;</span><span class="p">,</span>
                <span class="ss">&quot;data_encode&quot;</span><span class="p">:</span> <span class="ss">&quot;UTF-8&quot;</span><span class="p">,</span>
                <span class="ss">&quot;sep&quot;</span><span class="p">:</span> <span class="ss">&quot;|&quot;</span><span class="p">,</span>
                <span class="ss">&quot;log_path&quot;</span><span class="p">:</span> <span class="ss">&quot;/tmp/log.txt&quot;</span><span class="p">,</span>
                <span class="ss">&quot;conditions&quot;</span><span class="p">:</span> <span class="p">[],</span>
                <span class="ss">&quot;fields&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="err">{</span>
                        <span class="ss">&quot;description&quot;</span><span class="p">:</span> <span class="ss">&quot;时间&quot;</span><span class="p">,</span>
                        <span class="ss">&quot;time_zone&quot;</span><span class="p">:</span> <span class="ss">&quot;+8&quot;</span><span class="p">,</span>
                        <span class="ss">&quot;time_format&quot;</span><span class="p">:</span> <span class="ss">&quot;1&quot;</span><span class="p">,</span>
                        <span class="ss">&quot;alis&quot;</span><span class="p">:</span> <span class="ss">&quot;&quot;</span><span class="p">,</span>
                        <span class="ss">&quot;type&quot;</span><span class="p">:</span> <span class="ss">&quot;string&quot;</span><span class="p">,</span>
                        <span class="ss">&quot;name&quot;</span><span class="p">:</span> <span class="ss">&quot;time&quot;</span>
                    <span class="err">}</span><span class="p">,</span>
                    <span class="err">{</span>
                        <span class="ss">&quot;description&quot;</span><span class="p">:</span> <span class="ss">&quot;指标&quot;</span><span class="p">,</span>
                        <span class="ss">&quot;time_zone&quot;</span><span class="p">:</span> <span class="ss">&quot;&quot;</span><span class="p">,</span>
                        <span class="ss">&quot;time_format&quot;</span><span class="p">:</span> <span class="ss">&quot;&quot;</span><span class="p">,</span>
                        <span class="ss">&quot;alis&quot;</span><span class="p">:</span> <span class="ss">&quot;&quot;</span><span class="p">,</span>
                        <span class="ss">&quot;type&quot;</span><span class="p">:</span> <span class="ss">&quot;long&quot;</span><span class="p">,</span>
                        <span class="ss">&quot;name&quot;</span><span class="p">:</span> <span class="ss">&quot;value&quot;</span>
                    <span class="err">}</span>
                <span class="p">]</span>
            <span class="err">}</span><span class="p">,</span>
            <span class="ss">&quot;target_conf&quot;</span><span class="p">:</span><span class="err">{</span>
            <span class="ss">&quot;bk_biz_id&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>
            <span class="ss">&quot;ips&quot;</span><span class="p">:[</span><span class="ss">&quot;10.0.2.47&quot;</span><span class="p">]</span>
            <span class="err">}</span>
        <span class="err">}</span>
    <span class="p">]</span>
<span class="err">}</span>
</pre></div>


<h3 id="_7">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="err">{</span>
    <span class="ss">&quot;message&quot;</span><span class="p">:</span> <span class="ss">&quot;OK&quot;</span><span class="p">,</span>
    <span class="ss">&quot;code&quot;</span><span class="p">:</span> <span class="ss">&quot;0&quot;</span><span class="p">,</span>
    <span class="ss">&quot;data&quot;</span><span class="p">:</span> <span class="err">{</span>
        <span class="ss">&quot;failed&quot;</span><span class="p">:</span> <span class="err">{</span>
            <span class="ss">&quot;total&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="ss">&quot;detail&quot;</span><span class="p">:</span> <span class="p">[]</span>
        <span class="err">}</span><span class="p">,</span>
        <span class="ss">&quot;successed&quot;</span><span class="p">:</span> <span class="err">{</span>
            <span class="ss">&quot;total&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="ss">&quot;detail&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="err">{</span>
                    <span class="ss">&quot;origin_conf&quot;</span><span class="p">:</span> <span class="err">{</span>
                        <span class="ss">&quot;target_conf&quot;</span><span class="p">:</span> <span class="err">{</span>
                            <span class="ss">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
                            <span class="ss">&quot;ips&quot;</span><span class="p">:</span> <span class="p">[</span>
                                <span class="ss">&quot;10.0.2.47&quot;</span>
                            <span class="p">]</span>
                        <span class="err">}</span><span class="p">,</span>
                        <span class="ss">&quot;collector_conf&quot;</span><span class="p">:</span> <span class="err">{</span>
                            <span class="ss">&quot;fields&quot;</span><span class="p">:</span> <span class="p">[</span>
                                <span class="err">{</span>
                                    <span class="ss">&quot;description&quot;</span><span class="p">:</span> <span class="ss">&quot;时间&quot;</span><span class="p">,</span>
                                    <span class="ss">&quot;time_zone&quot;</span><span class="p">:</span> <span class="ss">&quot;+8&quot;</span><span class="p">,</span>
                                    <span class="ss">&quot;time_format&quot;</span><span class="p">:</span> <span class="ss">&quot;1&quot;</span><span class="p">,</span>
                                    <span class="ss">&quot;alis&quot;</span><span class="p">:</span> <span class="ss">&quot;&quot;</span><span class="p">,</span>
                                    <span class="ss">&quot;type&quot;</span><span class="p">:</span> <span class="ss">&quot;string&quot;</span><span class="p">,</span>
                                    <span class="ss">&quot;name&quot;</span><span class="p">:</span> <span class="ss">&quot;time&quot;</span>
                                <span class="err">}</span><span class="p">,</span>
                                <span class="err">{</span>
                                    <span class="ss">&quot;description&quot;</span><span class="p">:</span> <span class="ss">&quot;指标&quot;</span><span class="p">,</span>
                                    <span class="ss">&quot;time_zone&quot;</span><span class="p">:</span> <span class="ss">&quot;&quot;</span><span class="p">,</span>
                                    <span class="ss">&quot;time_format&quot;</span><span class="p">:</span> <span class="ss">&quot;&quot;</span><span class="p">,</span>
                                    <span class="ss">&quot;alis&quot;</span><span class="p">:</span> <span class="ss">&quot;&quot;</span><span class="p">,</span>
                                    <span class="ss">&quot;type&quot;</span><span class="p">:</span> <span class="ss">&quot;long&quot;</span><span class="p">,</span>
                                    <span class="ss">&quot;name&quot;</span><span class="p">:</span> <span class="ss">&quot;value&quot;</span>
                                <span class="err">}</span>
                            <span class="p">],</span>
                            <span class="ss">&quot;data_encode&quot;</span><span class="p">:</span> <span class="ss">&quot;UTF-8&quot;</span><span class="p">,</span>
                            <span class="ss">&quot;sep&quot;</span><span class="p">:</span> <span class="ss">&quot;|&quot;</span><span class="p">,</span>
                            <span class="ss">&quot;log_path&quot;</span><span class="p">:</span> <span class="ss">&quot;/tmp/log.txt&quot;</span><span class="p">,</span>
                            <span class="ss">&quot;data_set&quot;</span><span class="p">:</span> <span class="ss">&quot;test_rt_three&quot;</span><span class="p">,</span>
                            <span class="ss">&quot;data_desc&quot;</span><span class="p">:</span> <span class="ss">&quot;测试日志采集&quot;</span><span class="p">,</span>
                            <span class="ss">&quot;conditions&quot;</span><span class="p">:</span> <span class="p">[],</span>
                            <span class="ss">&quot;file_frequency&quot;</span><span class="p">:</span> <span class="ss">&quot;157680000&quot;</span>
                        <span class="err">}</span>
                    <span class="err">}</span><span class="p">,</span>
                    <span class="ss">&quot;message&quot;</span><span class="p">:</span> <span class="ss">&quot;&quot;</span>
                <span class="err">}</span>
            <span class="p">]</span>
        <span class="err">}</span>
    <span class="err">}</span><span class="p">,</span>
    <span class="ss">&quot;result&quot;</span><span class="p">:</span> <span class="k">true</span>
<span class="err">}</span>
</pre></div>


<h3 id="_8">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>返回结果，true为成功，false为失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>返回码，0表示成功，其他值表示失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>结果</td>
</tr>
</tbody>
</table>
<h4 id="datafailed">data.failed</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>total</td>
<td>bool</td>
<td>导入失败的采集器总数</td>
</tr>
<tr>
<td>detail</td>
<td>int</td>
<td>详情。origin_conf：配置信息；message：失败信息</td>
</tr>
</tbody>
</table>
<h4 id="datasuccessed">data.successed</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>total</td>
<td>bool</td>
<td>导入成功的采集器总数</td>
</tr>
<tr>
<td>detail</td>
<td>int</td>
<td>详情。origin_conf：配置信息；message：成功信息</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor/import_script_collector/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>脚本采集器配置导入</p>
<h4 id="_4">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_5">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>collector_conf_list</td>
<td>list</td>
<td>是</td>
<td>脚本采集任务配置</td>
</tr>
</tbody>
</table>
<h4 id="collector_conf_list">collector_conf_list</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务id</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>是</td>
<td>数据表名，必须唯一</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>是</td>
<td>数据表中文含义</td>
</tr>
<tr>
<td>charset</td>
<td>string</td>
<td>否</td>
<td>字符集；默认值：UTF8，可选值（UTF8,GBK）</td>
</tr>
<tr>
<td>fields</td>
<td>list</td>
<td>是</td>
<td>表字段信息，详情见下表</td>
</tr>
<tr>
<td>script_type</td>
<td>string</td>
<td>否</td>
<td>脚本类型；默认值：file，可选值（file,cmd）</td>
</tr>
<tr>
<td>script_ext</td>
<td>string</td>
<td>否</td>
<td>脚本格式；默认值：shell，可选值（shell,bat,python,perl,powershell,vbs,custom）</td>
</tr>
<tr>
<td>params_schema</td>
<td>list</td>
<td>否</td>
<td>脚本参数模型，详情见下表</td>
</tr>
<tr>
<td>script_run_cmd</td>
<td>string</td>
<td>否</td>
<td>启动命令（脚本模式）</td>
</tr>
<tr>
<td>script_content_base64</td>
<td>string</td>
<td>否</td>
<td>脚本内容（base64编码）</td>
</tr>
<tr>
<td>start_cmd</td>
<td>string</td>
<td>否</td>
<td>启动命令（命令行模式）</td>
</tr>
<tr>
<td>collect_interval</td>
<td>int</td>
<td>否</td>
<td>采集周期(分钟)；默认值：1</td>
</tr>
<tr>
<td>raw_data_interval</td>
<td>int</td>
<td>否</td>
<td>原始数据保存周期(天)；默认值：30</td>
</tr>
</tbody>
</table>
<h4 id="fields">fields</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>string</td>
<td>是</td>
<td>字段名</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>是</td>
<td>字段描述</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>是</td>
<td>字段类型，可选值（double,long,string）</td>
</tr>
<tr>
<td>monitor_type</td>
<td>string</td>
<td>是</td>
<td>指标或维度，可选值（metric,dimension）</td>
</tr>
<tr>
<td>unit</td>
<td>string</td>
<td>是</td>
<td>单位，可为空字符串：“”</td>
</tr>
</tbody>
</table>
<h4 id="params_schema">params_schema</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>string</td>
<td>是</td>
<td>参数名</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>是</td>
<td>参数描述</td>
</tr>
</tbody>
</table>
<h3 id="_6">请求参数示例</h3>
<div class="codehilite"><pre><span></span>{   
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;collector_conf_list&quot;: [
        {
            &quot;fields&quot;: [
                {
                    &quot;name&quot;: &quot;size&quot;,
                    &quot;description&quot;: &quot;大小&quot;,
                    &quot;type&quot;: &quot;long&quot;,
                    &quot;monitor_type&quot;: &quot;metric&quot;,
                    &quot;unit&quot;: &quot;&quot;
                }
            ],
            &quot;charset&quot;: &quot;UTF8&quot;,
            &quot;name&quot;: &quot;shell_one6&quot;,
            &quot;description&quot;: &quot;测试&quot;,
            &quot;bk_biz_id&quot;: &quot;2&quot;,
            &quot;script_type&quot;: &quot;file&quot;,
            &quot;script_content_base64&quot;: &quot;xxxxx&quot;,
            &quot;script_ext&quot;: &quot;shell&quot;,
            &quot;script_run_cmd&quot;: &quot;<span class="cp">${</span><span class="n">bk_script_name</span><span class="cp">}</span>&quot;,
            &quot;collect_interval&quot;: 1,
            &quot;raw_data_interval&quot;: 30
        }

    ]
}
</pre></div>


<h3 id="_7">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="err">{</span>
    <span class="ss">&quot;message&quot;</span><span class="p">:</span> <span class="ss">&quot;OK&quot;</span><span class="p">,</span>
    <span class="ss">&quot;code&quot;</span><span class="p">:</span> <span class="ss">&quot;0&quot;</span><span class="p">,</span>
    <span class="ss">&quot;data&quot;</span><span class="p">:</span> <span class="err">{</span>
        <span class="ss">&quot;failed&quot;</span><span class="p">:</span> <span class="p">[],</span>
        <span class="ss">&quot;success&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="err">{</span>
                <span class="ss">&quot;script_collector_id&quot;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
                <span class="ss">&quot;message&quot;</span><span class="p">:</span> <span class="k">null</span><span class="p">,</span>
                <span class="ss">&quot;name&quot;</span><span class="p">:</span> <span class="ss">&quot;shell_one6&quot;</span>
            <span class="err">}</span>
        <span class="p">]</span>
    <span class="err">}</span><span class="p">,</span>
    <span class="ss">&quot;result&quot;</span><span class="p">:</span> <span class="k">true</span>
<span class="err">}</span>
</pre></div>


<h3 id="_8">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>返回结果，true为成功，false为失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>返回码，200表示成功，其他值表示失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>结果，data.success成功结果，data.failed失败结果</td>
</tr>
</tbody>
</table>
<h4 id="datasuccess-datafailed">data.success &amp; data.failed</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>string</td>
<td>数据表名</td>
</tr>
<tr>
<td>id</td>
<td>int</td>
<td>配置id；若无id，则表示创建失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>记录错误信息</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor/import_uptime_check_node/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>导入拨测节点</p>
<h4 id="_4">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h2 id="_5">请求参数示例</h2>
<div class="codehilite"><pre><span></span><span class="err">{</span><span class="ss">&quot;conf_list&quot;</span><span class="p">:[</span><span class="err">{</span>
    <span class="ss">&quot;node_conf&quot;</span><span class="p">:</span> <span class="err">{</span>
        <span class="ss">&quot;carrieroperator&quot;</span><span class="p">:</span> <span class="ss">&quot;内网&quot;</span><span class="p">,</span>
        <span class="ss">&quot;location&quot;</span><span class="p">:</span> <span class="err">{</span>
            <span class="ss">&quot;country&quot;</span><span class="p">:</span> <span class="ss">&quot;中国&quot;</span><span class="p">,</span>
            <span class="ss">&quot;city&quot;</span><span class="p">:</span> <span class="ss">&quot;广东&quot;</span>
        <span class="err">}</span><span class="p">,</span>
        <span class="ss">&quot;name&quot;</span><span class="p">:</span> <span class="ss">&quot;中国广东内网&quot;</span><span class="p">,</span>
        <span class="ss">&quot;is_common&quot;</span><span class="p">:</span> <span class="k">false</span>
    <span class="err">}</span><span class="p">,</span>
    <span class="ss">&quot;target_conf&quot;</span><span class="p">:</span> <span class="err">{</span>
        <span class="ss">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
        <span class="ss">&quot;bk_cloud_id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="ss">&quot;ip&quot;</span><span class="p">:</span> <span class="ss">&quot;x.x.x.x&quot;</span>
    <span class="err">}</span>
<span class="err">}</span><span class="p">,</span><span class="err">{</span>
    <span class="ss">&quot;node_conf&quot;</span><span class="p">:</span> <span class="err">{</span>
        <span class="ss">&quot;carrieroperator&quot;</span><span class="p">:</span> <span class="ss">&quot;内网&quot;</span><span class="p">,</span>
        <span class="ss">&quot;location&quot;</span><span class="p">:</span> <span class="err">{</span>
            <span class="ss">&quot;country&quot;</span><span class="p">:</span> <span class="ss">&quot;中国&quot;</span><span class="p">,</span>
            <span class="ss">&quot;city&quot;</span><span class="p">:</span> <span class="ss">&quot;广东&quot;</span>
        <span class="err">}</span><span class="p">,</span>
        <span class="ss">&quot;name&quot;</span><span class="p">:</span> <span class="ss">&quot;中国广东内网&quot;</span><span class="p">,</span>
        <span class="ss">&quot;is_common&quot;</span><span class="p">:</span> <span class="k">false</span>
    <span class="err">}</span><span class="p">,</span>
    <span class="ss">&quot;target_conf&quot;</span><span class="p">:</span> <span class="err">{</span>
        <span class="ss">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
        <span class="ss">&quot;bk_cloud_id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="ss">&quot;ip&quot;</span><span class="p">:</span> <span class="ss">&quot;x.x.x.x&quot;</span>
    <span class="err">}</span>
<span class="err">}</span><span class="p">]</span><span class="err">}</span>
</pre></div>


<h1 id="_6">请求参数</h1>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>conf_list</td>
<td>list</td>
<td>是</td>
<td>节点列表</td>
</tr>
</tbody>
</table>
<h1 id="1-conf_list">1 任务列表--conf_list</h1>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>target_conf</td>
<td>dict</td>
<td>是</td>
<td>节点下发配置</td>
</tr>
<tr>
<td>node_conf</td>
<td>dict</td>
<td>是</td>
<td>节点基本配置</td>
</tr>
</tbody>
</table>
<h1 id="11-target_conf">1.1 节点下发配置--target_conf</h1>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>ip</td>
<td>str</td>
<td>是</td>
<td>IP</td>
</tr>
<tr>
<td>bk_cloud_id</td>
<td>int</td>
<td>是</td>
<td>云区域ID</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务id</td>
</tr>
</tbody>
</table>
<h2 id="12-node_conf">1.2 节点基本配置--node_conf</h2>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>is_common</td>
<td>bool</td>
<td>否</td>
<td>是否为通用节点，默认false</td>
</tr>
<tr>
<td>name</td>
<td>str</td>
<td>是</td>
<td>节点名称</td>
</tr>
<tr>
<td>location</td>
<td>dict</td>
<td>是</td>
<td>节点所在地区</td>
</tr>
<tr>
<td>carrieroperator</td>
<td>str</td>
<td>是</td>
<td>运营商，最大长度50(内网、联通、移动、其他)</td>
</tr>
</tbody>
</table>
<h2 id="121-node_conflocation">1.2.1 节点所在地区--node_conf.location</h2>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>country</td>
<td>str</td>
<td>是</td>
<td>国家</td>
</tr>
<tr>
<td>city</td>
<td>str</td>
<td>是</td>
<td>城市</td>
</tr>
</tbody>
</table>
<h2 id="_7">返回结果示例</h2>
<div class="codehilite"><pre><span></span><span class="err">{</span>
    <span class="ss">&quot;message&quot;</span><span class="p">:</span> <span class="ss">&quot;OK&quot;</span><span class="p">,</span>
    <span class="ss">&quot;code&quot;</span><span class="p">:</span> <span class="ss">&quot;0&quot;</span><span class="p">,</span>
    <span class="ss">&quot;data&quot;</span><span class="p">:</span> <span class="err">{</span>
        <span class="ss">&quot;failed&quot;</span><span class="p">:</span> <span class="err">{</span>
            <span class="ss">&quot;total&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="ss">&quot;detail&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="ss">&quot;target_conf&quot;</span><span class="p">:</span> <span class="err">{</span>
                        <span class="ss">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
                        <span class="ss">&quot;ip&quot;</span><span class="p">:</span> <span class="ss">&quot;x.x.x.x&quot;</span><span class="p">,</span>
                        <span class="ss">&quot;bk_cloud_id&quot;</span><span class="p">:</span> <span class="mi">0</span>
                    <span class="err">}</span><span class="p">,</span>
                    <span class="ss">&quot;error_mes&quot;</span><span class="p">:</span> <span class="ss">&quot;业务下不存在该主机&quot;</span>
                <span class="err">}</span><span class="p">]</span>
        <span class="err">}</span><span class="p">,</span>
        <span class="ss">&quot;success&quot;</span><span class="p">:</span> <span class="err">{</span>
            <span class="ss">&quot;total&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
            <span class="ss">&quot;detail&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="err">{</span>
                    <span class="ss">&quot;target_conf&quot;</span><span class="p">:</span> <span class="err">{</span>
                        <span class="ss">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
                        <span class="ss">&quot;ip&quot;</span><span class="p">:</span> <span class="ss">&quot;x.x.x.x&quot;</span><span class="p">,</span>
                        <span class="ss">&quot;bk_cloud_id&quot;</span><span class="p">:</span> <span class="mi">0</span>
                    <span class="err">}</span><span class="p">,</span>
                    <span class="ss">&quot;node_id&quot;</span><span class="p">:</span> <span class="mi">30</span>
                <span class="err">}</span><span class="p">,</span>
                <span class="err">{</span>
                    <span class="ss">&quot;target_conf&quot;</span><span class="p">:</span> <span class="err">{</span>
                        <span class="ss">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
                        <span class="ss">&quot;ip&quot;</span><span class="p">:</span> <span class="ss">&quot;x.x.x.x&quot;</span><span class="p">,</span>
                        <span class="ss">&quot;bk_cloud_id&quot;</span><span class="p">:</span> <span class="mi">0</span>
                    <span class="err">}</span><span class="p">,</span>
                    <span class="ss">&quot;node_id&quot;</span><span class="p">:</span> <span class="mi">31</span>
                <span class="err">}</span>
            <span class="p">]</span>
        <span class="err">}</span>
    <span class="err">}</span><span class="p">,</span>
    <span class="ss">&quot;result&quot;</span><span class="p">:</span> <span class="k">true</span>
<span class="err">}</span>
</pre></div>


<h2 id="_8">返回结果参数说明</h2>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>返回结果，true为成功，false为失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>返回码，200表示成功，其他值表示失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>list</td>
<td>结果</td>
</tr>
</tbody>
</table>
<h2 id="2-data">2 data</h2>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>failed</td>
<td>dict</td>
<td>导入失败相关信息</td>
</tr>
<tr>
<td>success</td>
<td>dict</td>
<td>导入成功相关信息</td>
</tr>
</tbody>
</table>
<h2 id="21-datafailed">2.1 导入失败相关信息--data.failed</h2>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>total</td>
<td>int</td>
<td>导入失败数量</td>
</tr>
<tr>
<td>detail</td>
<td>list</td>
<td>导入失败详情</td>
</tr>
</tbody>
</table>
<h2 id="211-datafaileddetail">2.1.1 导入失败详情--data.failed.detail</h2>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>target_conf</td>
<td>dict</td>
<td>节点下发配置</td>
</tr>
<tr>
<td>error_mes</td>
<td>str</td>
<td>导入失败原因</td>
</tr>
</tbody>
</table>
<h2 id="22-datasuccess">2.2 导入成功相关信息--data.success</h2>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>total</td>
<td>int</td>
<td>导入成功数量</td>
</tr>
<tr>
<td>detail</td>
<td>list</td>
<td>导入成功详情</td>
</tr>
</tbody>
</table>
<h2 id="221-datasuccessdatail">2.2.1 导入成功相关信息--data.success.datail</h2>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>target_conf</td>
<td>dict</td>
<td>节点下发配置</td>
</tr>
<tr>
<td>node_id</td>
<td>int</td>
<td>导入成功的节点id</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor/import_uptime_check_task/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>导入拨测任务</p>
<h4 id="_4">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h3 id="_5">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="err">{</span>   <span class="ss">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="ss">&quot;conf_list&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="err">{</span>
            <span class="ss">&quot;target_conf&quot;</span><span class="p">:</span> <span class="err">{</span>
                <span class="ss">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="ss">&quot;node_id_list&quot;</span><span class="p">:</span> <span class="p">[],</span>
                <span class="ss">&quot;node_list&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="err">{</span>
                        <span class="ss">&quot;node_conf&quot;</span><span class="p">:</span> <span class="err">{</span>
                            <span class="ss">&quot;carrieroperator&quot;</span><span class="p">:</span> <span class="ss">&quot;内网&quot;</span><span class="p">,</span>
                            <span class="ss">&quot;location&quot;</span><span class="p">:</span> <span class="err">{</span>
                                <span class="ss">&quot;country&quot;</span><span class="p">:</span> <span class="ss">&quot;中国&quot;</span><span class="p">,</span>
                                <span class="ss">&quot;city&quot;</span><span class="p">:</span> <span class="ss">&quot;广东&quot;</span>
                            <span class="err">}</span><span class="p">,</span>
                            <span class="ss">&quot;name&quot;</span><span class="p">:</span> <span class="ss">&quot;中国广东内网&quot;</span><span class="p">,</span>
                            <span class="ss">&quot;is_common&quot;</span><span class="p">:</span> <span class="k">false</span>
                        <span class="err">}</span><span class="p">,</span>
                        <span class="ss">&quot;target_conf&quot;</span><span class="p">:</span> <span class="err">{</span>
                            <span class="ss">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                            <span class="ss">&quot;ip&quot;</span><span class="p">:</span> <span class="ss">&quot;&quot;</span><span class="p">,</span>
                            <span class="ss">&quot;bk_cloud_id&quot;</span><span class="p">:</span> <span class="mi">0</span>
                        <span class="err">}</span>
                    <span class="err">}</span><span class="p">,</span>
                    <span class="err">{</span>
                        <span class="ss">&quot;node_conf&quot;</span><span class="p">:</span> <span class="err">{</span>
                            <span class="ss">&quot;carrieroperator&quot;</span><span class="p">:</span> <span class="ss">&quot;内网&quot;</span><span class="p">,</span>
                            <span class="ss">&quot;location&quot;</span><span class="p">:</span> <span class="err">{</span>
                                <span class="ss">&quot;country&quot;</span><span class="p">:</span> <span class="ss">&quot;中国&quot;</span><span class="p">,</span>
                                <span class="ss">&quot;city&quot;</span><span class="p">:</span> <span class="ss">&quot;广东&quot;</span>
                            <span class="err">}</span><span class="p">,</span>
                            <span class="ss">&quot;name&quot;</span><span class="p">:</span> <span class="ss">&quot;中国广东内网&quot;</span><span class="p">,</span>
                            <span class="ss">&quot;is_common&quot;</span><span class="p">:</span> <span class="k">false</span>
                        <span class="err">}</span><span class="p">,</span>
                        <span class="ss">&quot;target_conf&quot;</span><span class="p">:</span> <span class="err">{</span>
                            <span class="ss">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                            <span class="ss">&quot;ip&quot;</span><span class="p">:</span> <span class="ss">&quot;&quot;</span><span class="p">,</span>
                            <span class="ss">&quot;bk_cloud_id&quot;</span><span class="p">:</span> <span class="mi">0</span>
                        <span class="err">}</span>
                    <span class="err">}</span>
                <span class="p">]</span>
            <span class="err">}</span><span class="p">,</span>
            <span class="ss">&quot;collector_conf&quot;</span><span class="p">:</span> <span class="err">{</span>
                <span class="ss">&quot;config&quot;</span><span class="p">:</span> <span class="err">{</span>
                    <span class="ss">&quot;ip_list&quot;</span><span class="p">:</span> <span class="p">[</span>
                        <span class="ss">&quot;10.0.2.13&quot;</span>
                    <span class="p">],</span>
                    <span class="ss">&quot;period&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                    <span class="ss">&quot;response_format&quot;</span><span class="p">:</span> <span class="ss">&quot;in&quot;</span><span class="p">,</span>
                    <span class="ss">&quot;port&quot;</span><span class="p">:</span> <span class="mi">3306</span><span class="p">,</span>
                    <span class="ss">&quot;timeout&quot;</span><span class="p">:</span> <span class="mi">2900</span><span class="p">,</span>
                    <span class="ss">&quot;response&quot;</span><span class="p">:</span> <span class="k">null</span>
                <span class="err">}</span><span class="p">,</span>
                <span class="ss">&quot;protocol&quot;</span><span class="p">:</span> <span class="ss">&quot;TCP&quot;</span><span class="p">,</span>
                <span class="ss">&quot;name&quot;</span><span class="p">:</span> <span class="ss">&quot;test_tcp1&quot;</span><span class="p">,</span>
                <span class="ss">&quot;groups&quot;</span><span class="p">:</span> <span class="ss">&quot;未分类&quot;</span><span class="p">,</span>
                <span class="ss">&quot;location&quot;</span><span class="p">:</span> <span class="err">{</span>
                    <span class="ss">&quot;bk_state_name&quot;</span><span class="p">:</span> <span class="ss">&quot;中国&quot;</span><span class="p">,</span>
                    <span class="ss">&quot;bk_province_name&quot;</span><span class="p">:</span> <span class="ss">&quot;北京&quot;</span>
                <span class="err">}</span>
            <span class="err">}</span><span class="p">,</span>
            <span class="ss">&quot;monitor_conf&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="err">{</span>
                    <span class="ss">&quot;alarm_level_config&quot;</span><span class="p">:</span> <span class="err">{</span>
                        <span class="ss">&quot;2&quot;</span><span class="p">:</span> <span class="err">{</span>
                            <span class="ss">&quot;notify_way&quot;</span><span class="p">:</span> <span class="p">[</span>
                                <span class="ss">&quot;mail&quot;</span>
                            <span class="p">],</span>
                            <span class="ss">&quot;role_list&quot;</span><span class="p">:</span> <span class="p">[</span>
                                <span class="ss">&quot;Tester&quot;</span>
                            <span class="p">],</span>
                            <span class="ss">&quot;monitor_level&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
                            <span class="ss">&quot;alarm_end_time&quot;</span><span class="p">:</span> <span class="ss">&quot;23:59&quot;</span><span class="p">,</span>
                            <span class="ss">&quot;responsible&quot;</span><span class="p">:</span> <span class="p">[],</span>
                            <span class="ss">&quot;detect_algorithm&quot;</span><span class="p">:</span> <span class="p">[</span>
                                <span class="err">{</span>
                                    <span class="ss">&quot;config&quot;</span><span class="p">:</span> <span class="err">{</span>
                                        <span class="ss">&quot;threshold&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
                                        <span class="ss">&quot;message&quot;</span><span class="p">:</span> <span class="ss">&quot;&quot;</span><span class="p">,</span>
                                        <span class="ss">&quot;method&quot;</span><span class="p">:</span> <span class="ss">&quot;gte&quot;</span>
                                    <span class="err">}</span><span class="p">,</span>
                                    <span class="ss">&quot;algorithm_id&quot;</span><span class="p">:</span> <span class="mi">1000</span>
                                <span class="err">}</span><span class="p">,</span>
                                <span class="err">{</span>
                                    <span class="ss">&quot;config&quot;</span><span class="p">:</span> <span class="err">{</span>
                                        <span class="ss">&quot;message&quot;</span><span class="p">:</span> <span class="ss">&quot;&quot;</span><span class="p">,</span>
                                        <span class="ss">&quot;ceil&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
                                        <span class="ss">&quot;floor&quot;</span><span class="p">:</span> <span class="mi">10</span>
                                    <span class="err">}</span><span class="p">,</span>
                                    <span class="ss">&quot;algorithm_id&quot;</span><span class="p">:</span> <span class="mi">1001</span>
                                <span class="err">}</span>
                            <span class="p">],</span>
                            <span class="ss">&quot;phone_receiver&quot;</span><span class="p">:</span> <span class="p">[],</span>
                            <span class="ss">&quot;alarm_start_time&quot;</span><span class="p">:</span> <span class="ss">&quot;00:00&quot;</span><span class="p">,</span>
                            <span class="ss">&quot;is_recovery&quot;</span><span class="p">:</span> <span class="k">false</span>
                        <span class="err">}</span>
                    <span class="err">}</span><span class="p">,</span>
                    <span class="ss">&quot;monitor_target&quot;</span><span class="p">:</span> <span class="ss">&quot;available&quot;</span><span class="p">,</span>
                    <span class="ss">&quot;unit&quot;</span><span class="p">:</span> <span class="ss">&quot;%&quot;</span><span class="p">,</span>
                    <span class="ss">&quot;display_name&quot;</span><span class="p">:</span> <span class="ss">&quot;\&quot;</span><span class="n">test_tcp1</span><span class="err">\</span><span class="ss">&quot;节点平均值可用率&quot;</span><span class="p">,</span>
                    <span class="ss">&quot;node_count&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                    <span class="ss">&quot;is_enabled&quot;</span><span class="p">:</span> <span class="k">true</span><span class="p">,</span>
                    <span class="ss">&quot;nodata_alarm&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                    <span class="ss">&quot;rules&quot;</span><span class="p">:</span> <span class="err">{</span>
                        <span class="ss">&quot;count&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                        <span class="ss">&quot;alarm_window&quot;</span><span class="p">:</span> <span class="mi">1440</span><span class="p">,</span>
                        <span class="ss">&quot;check_window&quot;</span><span class="p">:</span> <span class="mi">5</span>
                    <span class="err">}</span><span class="p">,</span>
                    <span class="ss">&quot;is_classify_notice&quot;</span><span class="p">:</span> <span class="k">false</span><span class="p">,</span>
                    <span class="ss">&quot;where_sql&quot;</span><span class="p">:</span> <span class="ss">&quot;&quot;</span><span class="p">,</span>
                    <span class="ss">&quot;condition&quot;</span><span class="p">:</span> <span class="p">[</span>
                        <span class="p">[]</span>
                    <span class="p">],</span>
                    <span class="ss">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
                    <span class="ss">&quot;scenario&quot;</span><span class="p">:</span> <span class="ss">&quot;uptimecheck&quot;</span><span class="p">,</span>
                    <span class="ss">&quot;monitor_id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                    <span class="ss">&quot;alarm_strategy_id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                    <span class="ss">&quot;is_recovery&quot;</span><span class="p">:</span> <span class="k">false</span>
                <span class="err">}</span>
            <span class="p">]</span>
        <span class="err">}</span>
    <span class="p">]</span>
        <span class="err">}</span>
</pre></div>


<h3 id="_6">请求参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务ID</td>
</tr>
<tr>
<td>conf_list</td>
<td>list</td>
<td>是</td>
<td>拨测任务配置列表</td>
</tr>
</tbody>
</table>
<h3 id="1-conf_list">1 拨测任务配置列表--conf_list</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>target_conf</td>
<td>dict</td>
<td>是</td>
<td>拨测任务下发配置</td>
</tr>
<tr>
<td>collector_conf</td>
<td>dict</td>
<td>是</td>
<td>拨测任务基本配置</td>
</tr>
<tr>
<td>monitor_conf</td>
<td>list</td>
<td>是</td>
<td>监控策略配置</td>
</tr>
</tbody>
</table>
<h3 id="11-conf_listtarget_conf">1.1 拨测任务下发配置--conf_list.target_conf</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务ID</td>
</tr>
<tr>
<td>node_list</td>
<td>list</td>
<td>否</td>
<td>默认[],需导入节点配置</td>
</tr>
<tr>
<td>node_id_list</td>
<td>list</td>
<td>否</td>
<td>默认[],下发节点ID列表，node_list与node_id_list不能同时为空</td>
</tr>
</tbody>
</table>
<h3 id="111-conf_listtarget_confnode_list">1.1.1 需导入节点配置--conf_list.target_conf.node_list</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>target_conf</td>
<td>dict</td>
<td>是</td>
<td>节点下发配置</td>
</tr>
<tr>
<td>node_conf</td>
<td>dict</td>
<td>是</td>
<td>节点基本配置</td>
</tr>
</tbody>
</table>
<h1 id="1111-conf_listtarget_confnode_listtarget_conf">1.1.1.1 节点下发配置--conf_list.target_conf.node_list.target_conf</h1>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>ip</td>
<td>str</td>
<td>是</td>
<td>IP</td>
</tr>
<tr>
<td>bk_cloud_id</td>
<td>int</td>
<td>是</td>
<td>云区域ID</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务id</td>
</tr>
</tbody>
</table>
<h2 id="1112-conf_listtarget_confnode_listnode_conf">1.1.1.2 节点基本配置--conf_list.target_conf.node_list.node_conf</h2>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>is_common</td>
<td>bool</td>
<td>否</td>
<td>是否为通用节点，默认false</td>
</tr>
<tr>
<td>name</td>
<td>str</td>
<td>是</td>
<td>节点名称</td>
</tr>
<tr>
<td>location</td>
<td>dict</td>
<td>是</td>
<td>节点所在地区</td>
</tr>
<tr>
<td>carrieroperator</td>
<td>str</td>
<td>是</td>
<td>运营商，最大长度50(内网、联通、移动、其他)</td>
</tr>
</tbody>
</table>
<h2 id="11121-conf_listtarget_confnode_listnode_conflocation">1.1.1.2.1 节点所在地区--conf_list.target_conf.node_list.node_conf.location</h2>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>country</td>
<td>str</td>
<td>是</td>
<td>国家</td>
</tr>
<tr>
<td>city</td>
<td>str</td>
<td>是</td>
<td>城市</td>
</tr>
</tbody>
</table>
<h3 id="12-conf_listcollector_conf">1.2 拨测任务基本配置--conf_list.collector_conf</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>location</td>
<td>dict</td>
<td>是</td>
<td>拨测目标所在地址</td>
</tr>
<tr>
<td>groups</td>
<td>str</td>
<td>是</td>
<td>拨测任务所属分组</td>
</tr>
<tr>
<td>name</td>
<td>str</td>
<td>是</td>
<td>拨测任务名称</td>
</tr>
<tr>
<td>protocol</td>
<td>str</td>
<td>是</td>
<td>拨测任务协议类型</td>
</tr>
<tr>
<td>config</td>
<td>dict</td>
<td>是</td>
<td>拨测任务详细配置</td>
</tr>
</tbody>
</table>
<h3 id="tcpconfig">TCP任务config示例</h3>
<div class="codehilite"><pre><span></span><span class="ss">&quot;config&quot;</span><span class="p">:</span> <span class="err">{</span>
            <span class="ss">&quot;ip_list&quot;</span><span class="p">:</span> <span class="p">[</span><span class="ss">&quot;10.0.2.13&quot;</span><span class="p">],</span>
            <span class="ss">&quot;port&quot;</span><span class="p">:</span> <span class="mi">3306</span><span class="p">,</span>
            <span class="ss">&quot;period&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="ss">&quot;response_format&quot;</span><span class="p">:</span> <span class="ss">&quot;in&quot;</span><span class="p">,</span>
            <span class="ss">&quot;timeout&quot;</span><span class="p">:</span> <span class="mi">2900</span><span class="p">,</span>
            <span class="ss">&quot;response&quot;</span><span class="p">:</span> <span class="k">null</span>
        <span class="err">}</span>
</pre></div>


<h3 id="121-tcpudp-conf_listcollector_confconfig">1.2.1 拨测任务详细配置(TCP、UDP)--conf_list.collector_conf.config</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>ip_list</td>
<td>list</td>
<td>是</td>
<td>目标IP地址</td>
</tr>
<tr>
<td>port</td>
<td>int</td>
<td>是</td>
<td>端口地址</td>
</tr>
<tr>
<td>period</td>
<td>int</td>
<td>否</td>
<td>采集周期，单位min，默认1</td>
</tr>
<tr>
<td>response_format</td>
<td>str</td>
<td>否</td>
<td>响应信息匹配方式(包含：in，不包含：nin，正则：reg)，默认in</td>
</tr>
<tr>
<td>timeout</td>
<td>int</td>
<td>否</td>
<td>期望响应时间，单位ms，默认3000</td>
</tr>
<tr>
<td>response</td>
<td>str</td>
<td>否</td>
<td>期望响应内容</td>
</tr>
<tr>
<td>response_code</td>
<td>str</td>
<td>否</td>
<td>期望响应码</td>
</tr>
</tbody>
</table>
<h3 id="httpconfig">HTTP任务config示例</h3>
<div class="codehilite"><pre><span></span><span class="ss">&quot;config&quot;</span><span class="p">:</span> <span class="err">{</span>
        <span class="ss">&quot;insecure_skip_verify&quot;</span><span class="p">:</span> <span class="k">true</span><span class="p">,</span>
        <span class="ss">&quot;urls&quot;</span><span class="p">:</span> <span class="ss">&quot;http://baidu.com&quot;</span><span class="p">,</span>
        <span class="ss">&quot;response_code&quot;</span><span class="p">:</span> <span class="ss">&quot;&quot;</span><span class="p">,</span>
        <span class="ss">&quot;request&quot;</span><span class="p">:</span> <span class="k">null</span><span class="p">,</span>
        <span class="ss">&quot;period&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="ss">&quot;response_format&quot;</span><span class="p">:</span> <span class="ss">&quot;in&quot;</span><span class="p">,</span>
        <span class="ss">&quot;method&quot;</span><span class="p">:</span> <span class="ss">&quot;GET&quot;</span><span class="p">,</span>
        <span class="ss">&quot;headers&quot;</span><span class="p">:</span> <span class="p">[],</span>
        <span class="ss">&quot;timeout&quot;</span><span class="p">:</span> <span class="mi">3000</span><span class="p">,</span>
        <span class="ss">&quot;response&quot;</span><span class="p">:</span> <span class="k">null</span>
    <span class="err">}</span>
</pre></div>


<h3 id="122-http-conf_listcollector_confconfig">1.2.2 拨测任务详细配置(HTTP)--conf_list.collector_conf.config</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>urls</td>
<td>str</td>
<td>是</td>
</tr>
<tr>
<td>method</td>
<td>str</td>
<td>是</td>
</tr>
<tr>
<td>headers</td>
<td>list</td>
<td>否</td>
</tr>
<tr>
<td>insecure_skip_verify</td>
<td>bool</td>
<td>否</td>
</tr>
<tr>
<td>period</td>
<td>int</td>
<td>否</td>
</tr>
<tr>
<td>response_format</td>
<td>str</td>
<td>否</td>
</tr>
<tr>
<td>timeout</td>
<td>int</td>
<td>否</td>
</tr>
<tr>
<td>response</td>
<td>str</td>
<td>否</td>
</tr>
<tr>
<td>response_code</td>
<td>str</td>
<td>否</td>
</tr>
<tr>
<td>request</td>
<td>str</td>
<td>否</td>
</tr>
</tbody>
</table>
<h3 id="13-conf_listmonitor_conf">1.3 监控策略配置--conf_list.monitor_conf</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>alarm_level_config</td>
<td>dict</td>
<td>是</td>
<td>监控触发条件配置</td>
</tr>
<tr>
<td>alarm_strategy_id</td>
<td>int</td>
<td>是</td>
<td>监控策略ID，0</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td>是</td>
<td>业务ID</td>
</tr>
<tr>
<td>condition</td>
<td>list</td>
<td>是</td>
<td>监控范围</td>
</tr>
<tr>
<td>display_name</td>
<td></td>
<td>是</td>
<td>监控名称</td>
</tr>
<tr>
<td>is_classify_notice</td>
<td></td>
<td>是</td>
<td>是否分级告警</td>
</tr>
<tr>
<td>is_enabled</td>
<td></td>
<td>是</td>
<td></td>
</tr>
<tr>
<td>is_recovery</td>
<td>bool</td>
<td>是</td>
<td>恢复告警开关</td>
</tr>
<tr>
<td>monitor_target</td>
<td>str</td>
<td>是</td>
<td>监控目标字段</td>
</tr>
<tr>
<td>nodata_alarm</td>
<td>int</td>
<td>是</td>
<td>无数据告警次数</td>
</tr>
<tr>
<td>node_count</td>
<td>int</td>
<td>是</td>
<td>节点平均值 / 部分节点数</td>
</tr>
<tr>
<td>rules</td>
<td>dict</td>
<td>是</td>
<td>收敛规则</td>
</tr>
<tr>
<td>scenario</td>
<td>str</td>
<td>是</td>
<td>监控场景</td>
</tr>
<tr>
<td>unit</td>
<td>str</td>
<td>是</td>
<td>监控字段单位</td>
</tr>
<tr>
<td>where_sql</td>
<td>str</td>
<td>是</td>
<td>可用于前置条件过滤 部分直接使用数据库作为源的监控支持</td>
</tr>
</tbody>
</table>
<h3 id="131-conf_listmonitor_confrules">1.3.1 收敛规则--conf_list.monitor_conf.rules</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>alarm_window</td>
<td>int</td>
<td>是</td>
<td>告警窗口</td>
</tr>
<tr>
<td>check_window</td>
<td>int</td>
<td>是</td>
<td>检测窗口</td>
</tr>
<tr>
<td>count</td>
<td>int</td>
<td>是</td>
<td>数量</td>
</tr>
</tbody>
</table>
<h3 id="132-conf_listmonitor_confalarm_level_config">1.3.2 监控触发条件配置--conf_list.monitor_conf.alarm_level_config</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>dict</td>
<td>否</td>
<td>告警级别对应的告警触发配置,表现为致命告警</td>
</tr>
<tr>
<td>2</td>
<td>dict</td>
<td>否</td>
<td>告警级别对应的告警触发配置，表现为预警告警</td>
</tr>
<tr>
<td>3</td>
<td>dict</td>
<td>否</td>
<td>告警级别对应的告警触发配置，表现为提醒告警</td>
</tr>
</tbody>
</table>
<h3 id="1321-conf_listmonitor_confalarm_level_config1">1.3.2.1 告警级别对应的告警触发配置--conf_list.monitor_conf.alarm_level_config.1</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>alarm_start_time</td>
<td>str</td>
<td>是</td>
<td>当日开始告警时间</td>
</tr>
<tr>
<td>alarm_end_time</td>
<td>str</td>
<td>是</td>
<td>当日结束告警时间</td>
</tr>
<tr>
<td>detect_algorithm</td>
<td>list</td>
<td>是</td>
<td>检测算法配置</td>
</tr>
<tr>
<td>is_recovery</td>
<td>str</td>
<td>是</td>
<td>城市</td>
</tr>
<tr>
<td>monitor_level</td>
<td>int</td>
<td>是</td>
<td>告警级别，1致命、2预警、3提醒</td>
</tr>
<tr>
<td>notify_way</td>
<td>list</td>
<td>是</td>
<td>通知方式，mail邮件、wechat微信、sms短信、phone电话</td>
</tr>
<tr>
<td>phone_receiver</td>
<td>list</td>
<td>是</td>
<td>电话通知对象，账号名</td>
</tr>
<tr>
<td>responsible</td>
<td>list</td>
<td>是</td>
<td>其他通知人列表</td>
</tr>
<tr>
<td>role_list</td>
<td>list</td>
<td>是</td>
<td>通知人分组，在业务管理中配置</td>
</tr>
</tbody>
</table>
<h3 id="13211-conf_listmonitor_confalarm_level_config1detect_algorithm">1.3.2.1.1 检测算法配置--conf_list.monitor_conf.alarm_level_config.1.detect_algorithm</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>config</td>
<td>dict</td>
<td>是</td>
<td>检测算法详细配置</td>
</tr>
<tr>
<td>algorithm_id</td>
<td>int</td>
<td>是</td>
<td>检测算法ID，静态阈值 1000、同比策略(简易) 1001、环比策略(简易)1002</td>
</tr>
</tbody>
</table>
<h3 id="132111-conf_listmonitor_confalarm_level_config1detect_algorithmconfig">1.3.2.1.1.1  检测算法详细配置(静态阈值)--conf_list.monitor_conf.alarm_level_config.1.detect_algorithm.config</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>threshold</td>
<td>int</td>
<td>是</td>
<td>比较值</td>
</tr>
<tr>
<td>method</td>
<td>str</td>
<td>是</td>
<td>比较方式</td>
</tr>
<tr>
<td>message</td>
<td>str</td>
<td>否</td>
<td>说明</td>
</tr>
</tbody>
</table>
<h3 id="132112-conf_listmonitor_confalarm_level_config1detect_algorithmconfig">1.3.2.1.1.2  检测算法详细配置(同比、环比)--conf_list.monitor_conf.alarm_level_config.1.detect_algorithm.config</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>ceil</td>
<td>int</td>
<td>是</td>
<td>大于设定值告警</td>
</tr>
<tr>
<td>floor</td>
<td>str</td>
<td>是</td>
<td>低于设定值告警</td>
</tr>
<tr>
<td>message</td>
<td>str</td>
<td>否</td>
<td>说明</td>
</tr>
</tbody>
</table>
<h3 id="_7">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="err">{</span>
    <span class="ss">&quot;message&quot;</span><span class="p">:</span> <span class="ss">&quot;OK&quot;</span><span class="p">,</span>
    <span class="ss">&quot;code&quot;</span><span class="p">:</span> <span class="ss">&quot;0&quot;</span><span class="p">,</span>
    <span class="ss">&quot;data&quot;</span><span class="p">:</span> <span class="err">{</span>
        <span class="ss">&quot;failed&quot;</span><span class="p">:</span> <span class="err">{</span>
            <span class="ss">&quot;total&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="ss">&quot;detail&quot;</span><span class="p">:</span> <span class="p">[</span><span class="err">{</span>
                        <span class="s1">&#39;task_name&#39;</span><span class="p">:</span> <span class="ss">&quot;tcp_test2&quot;</span><span class="p">,</span>
                        <span class="s1">&#39;error_mes&#39;</span><span class="p">:</span> <span class="s1">&#39;xx&#39;</span>
                    <span class="err">}</span><span class="p">]</span>
        <span class="err">}</span><span class="p">,</span>
        <span class="ss">&quot;success&quot;</span><span class="p">:</span> <span class="err">{</span>
            <span class="ss">&quot;total&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="ss">&quot;detail&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="err">{</span>
                    <span class="ss">&quot;task_name&quot;</span><span class="p">:</span> <span class="ss">&quot;test_tcp1&quot;</span>
                <span class="err">}</span>
            <span class="p">]</span>
        <span class="err">}</span>
    <span class="err">}</span><span class="p">,</span>
    <span class="ss">&quot;result&quot;</span><span class="p">:</span> <span class="k">true</span>
<span class="err">}</span>
</pre></div>


<h3 id="_8">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>返回结果，true为成功，false为失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>返回码，200表示成功，其他值表示失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>list</td>
<td>结果</td>
</tr>
</tbody>
</table>
<h3 id="2-data">2 data</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>failed</td>
<td>dict</td>
<td>导入失败相关信息</td>
</tr>
<tr>
<td>success</td>
<td>dict</td>
<td>导入成功相关信息</td>
</tr>
</tbody>
</table>
<h2 id="21-datafailed">2.1 导入失败相关信息--data.failed</h2>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>total</td>
<td>int</td>
<td>导入失败数量</td>
</tr>
<tr>
<td>detail</td>
<td>list</td>
<td>导入失败详情</td>
</tr>
</tbody>
</table>
<h2 id="211-datafaileddetail">2.1.1 导入失败详情--data.failed.detail</h2>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>error_mes</td>
<td>str</td>
<td>导入失败原因</td>
</tr>
<tr>
<td>task_name</td>
<td>str</td>
<td>任务名</td>
</tr>
</tbody>
</table>
<h2 id="22-datasuccess">2.2 导入成功相关信息--data.success</h2>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>total</td>
<td>int</td>
<td>导入成功数量</td>
</tr>
<tr>
<td>detail</td>
<td>list</td>
<td>导入成功详情</td>
</tr>
</tbody>
</table>
<h2 id="221-datasuccessdatail">2.2.1 导入成功相关信息--data.success.datail</h2>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>task_name</td>
<td>str</td>
<td>任务名</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor/list_alarm_instance/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>批量筛选告警<br />
根据指定的过滤条件和分页参数来筛选告警列表</p>
<h4 id="_4">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_5">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_supplier_id</td>
<td>int</td>
<td></td>
<td>开发商ID</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td></td>
<td>业务ID</td>
</tr>
<tr>
<td>bk_cloud_id</td>
<td>int</td>
<td></td>
<td>云区域ID</td>
</tr>
<tr>
<td>source_time</td>
<td>time</td>
<td></td>
<td>告警发生时间</td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td></td>
<td>状态</td>
</tr>
<tr>
<td>id</td>
<td>int</td>
<td></td>
<td>告警ID</td>
</tr>
<tr>
<td>user_status</td>
<td>string</td>
<td></td>
<td>告警外部状态</td>
</tr>
<tr>
<td>event_id</td>
<td>string</td>
<td></td>
<td>关联事件ID</td>
</tr>
</tbody>
</table>
<h4 id="_6">请求示例</h4>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="mi">637984</span>
<span class="p">}</span>
</pre></div>


<h3 id="_7">返回结果</h3>
<h4 id="_8">字段说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td>list</td>
<td>告警列表</td>
</tr>
</tbody>
</table>
<h4 id="_9">结果示例</h4>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;code&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;_meta&quot;</span><span class="p">:{</span>
        <span class="nt">&quot;count&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
        <span class="nt">&quot;previous&quot;</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span>
        <span class="nt">&quot;next&quot;</span><span class="p">:</span><span class="kc">null</span>
    <span class="p">},</span>
    <span class="nt">&quot;result&quot;</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span>
    <span class="nt">&quot;request_id&quot;</span><span class="p">:</span><span class="s2">&quot;2057a62b992d421a9743320ae24a2e24&quot;</span><span class="p">,</span>
    <span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="s2">&quot;OK&quot;</span><span class="p">,</span>
    <span class="nt">&quot;data&quot;</span><span class="p">:[</span>
        <span class="p">{</span>
            <span class="nt">&quot;comment&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
            <span class="nt">&quot;cc_company_id&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
            <span class="nt">&quot;alarm_attr_id&quot;</span><span class="p">:</span><span class="mi">26</span><span class="p">,</span>
            <span class="nt">&quot;solution_type&quot;</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span>
            <span class="nt">&quot;snap_collect&quot;</span><span class="p">:{</span>
                <span class="nt">&quot;is_enabled&quot;</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span>
                <span class="nt">&quot;update_time&quot;</span><span class="p">:</span><span class="s2">&quot;2017-01-01T00:00:00&quot;</span><span class="p">,</span>
                <span class="nt">&quot;update_user&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
                <span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="s2">&quot;collect&quot;</span><span class="p">,</span>
                <span class="nt">&quot;create_user&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
                <span class="nt">&quot;create_time&quot;</span><span class="p">:</span><span class="s2">&quot;2017-01-01T00:00:00&quot;</span><span class="p">,</span>
                <span class="nt">&quot;is_deleted&quot;</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span>
                <span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
                <span class="nt">&quot;alarm_source_id&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
                <span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="s2">&quot;collect&quot;</span><span class="p">,</span>
                <span class="nt">&quot;collect_id&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
                <span class="nt">&quot;config&quot;</span><span class="p">:</span><span class="s2">&quot;{\&quot;collect_attr\&quot;: \&quot;monitor_id\&quot;, \&quot;collect_range\&quot;: 1, \&quot;collect_count\&quot;: 2, \&quot;collect_next_range\&quot;: 1, \&quot;collect_reset_time\&quot;:5}&quot;</span>
            <span class="p">},</span>
            <span class="nt">&quot;origin_alarm&quot;</span><span class="p">:{</span>
                <span class="nt">&quot;count_freq&quot;</span><span class="p">:</span><span class="mi">60</span><span class="p">,</span>
                <span class="nt">&quot;_match_info&quot;</span><span class="p">:{</span>
                    <span class="nt">&quot;bk_cloud_id&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
                    <span class="nt">&quot;converge&quot;</span><span class="p">:[</span>
                        <span class="mi">26</span>
                    <span class="p">],</span>
                    <span class="nt">&quot;monitor_target&quot;</span><span class="p">:</span><span class="s2">&quot;available&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;monitor_name&quot;</span><span class="p">:</span><span class="s2">&quot;QQ\u6d4b\u8bd5_\u53ef\u7528\u7387&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;category&quot;</span><span class="p">:</span><span class="s2">&quot;uptimecheck&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;monitor_level&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>
                    <span class="nt">&quot;event_time&quot;</span><span class="p">:</span><span class="s2">&quot;2018-11-27 02:30:23&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;collect&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
                    <span class="nt">&quot;alarm_desc&quot;</span><span class="p">:</span><span class="s2">&quot;\u5f53\u524d\u6307\u6807\u503c(50.0%) &lt; (100.0%)&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;monitor_source_name&quot;</span><span class="p">:</span><span class="s2">&quot;QQ\u6d4b\u8bd5_\u53ef\u7528\u7387&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;alarm_dimension&quot;</span><span class="p">:{</span>
                        <span class="nt">&quot;\u8bf7\u6c42\u7f51\u5740&quot;</span><span class="p">:</span><span class="s2">&quot;http:\/\/www.qq.com\/&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;\u4efb\u52a1id&quot;</span><span class="p">:</span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;biz_id&quot;</span><span class="p">:</span><span class="mi">2</span>
                    <span class="p">},</span>
                    <span class="nt">&quot;cc_app_module&quot;</span><span class="p">:[</span>

                    <span class="p">],</span>
                    <span class="nt">&quot;notice&quot;</span><span class="p">:</span><span class="mi">26</span><span class="p">,</span>
                    <span class="nt">&quot;alarm_type&quot;</span><span class="p">:[</span>
                        <span class="s2">&quot;uptimecheck&quot;</span>
                    <span class="p">],</span>
                    <span class="nt">&quot;cc_company_id&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;alarm_attr_id&quot;</span><span class="p">:</span><span class="mi">26</span><span class="p">,</span>
                    <span class="nt">&quot;alarm_time&quot;</span><span class="p">:</span><span class="s2">&quot;2018-11-27 02:28:00&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;source_type&quot;</span><span class="p">:</span><span class="s2">&quot;JUNGLE_ALERT&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;host&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;biz_id&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>
                    <span class="nt">&quot;alarm_source_id&quot;</span><span class="p">:</span><span class="mi">26</span><span class="p">,</span>
                    <span class="nt">&quot;cc_topo_set&quot;</span><span class="p">:[</span>

                    <span class="p">],</span>
                    <span class="nt">&quot;solution&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
                    <span class="nt">&quot;bk_biz_id&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>
                    <span class="nt">&quot;monitor_indicator&quot;</span><span class="p">:</span><span class="s2">&quot;\u5355\u70b9\u53ef\u7528\u7387&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;source_id&quot;</span><span class="p">:</span><span class="s2">&quot;7f32e1f4aaa7f7e462b639d02e5cfa40&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;match_dimension&quot;</span><span class="p">:{</span>
                        <span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="s2">&quot;http:\/\/www.qq.com\/&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;alarm_attr_id&quot;</span><span class="p">:</span><span class="s2">&quot;26&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;alarm_source_id&quot;</span><span class="p">:</span><span class="s2">&quot;26&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;task_id&quot;</span><span class="p">:</span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;biz_id&quot;</span><span class="p">:</span><span class="mi">2</span>
                    <span class="p">}</span>
                <span class="p">},</span>
                <span class="nt">&quot;anomaly_id&quot;</span><span class="p">:</span><span class="s2">&quot;7f32e1f4aaa7f7e462b639d02e5cfa40&quot;</span><span class="p">,</span>
                <span class="nt">&quot;anomaly_level&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
                <span class="nt">&quot;monitor_source_type&quot;</span><span class="p">:</span><span class="s2">&quot;TSDATA&quot;</span><span class="p">,</span>
                <span class="nt">&quot;monitor_field_alias&quot;</span><span class="p">:</span><span class="s2">&quot;\u5355\u70b9\u53ef\u7528\u7387&quot;</span><span class="p">,</span>
                <span class="nt">&quot;monitor_source_info&quot;</span><span class="p">:{</span>
                    <span class="nt">&quot;where_sql&quot;</span><span class="p">:</span><span class="s2">&quot; ((task_id=&#39;1&#39;))&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;monitor_result_table_id&quot;</span><span class="p">:</span><span class="s2">&quot;2_uptimecheck_http&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;count_freq&quot;</span><span class="p">:</span><span class="mi">60</span><span class="p">,</span>
                    <span class="nt">&quot;dimensions&quot;</span><span class="p">:[</span>
                        <span class="s2">&quot;task_id&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;url&quot;</span>
                    <span class="p">],</span>
                    <span class="nt">&quot;aggregator&quot;</span><span class="p">:</span><span class="s2">&quot;avg&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;monitor_field&quot;</span><span class="p">:</span><span class="s2">&quot;available&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;unit&quot;</span><span class="p">:</span><span class="s2">&quot;%&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;unit_conversion&quot;</span><span class="p">:</span><span class="mf">0.01</span>
                <span class="p">},</span>
                <span class="nt">&quot;alarm_def_id&quot;</span><span class="p">:</span><span class="mi">26</span><span class="p">,</span>
                <span class="nt">&quot;monitor_target&quot;</span><span class="p">:</span><span class="s2">&quot;available&quot;</span><span class="p">,</span>
                <span class="nt">&quot;anomaly_time&quot;</span><span class="p">:</span><span class="s2">&quot;2018-11-27 02:30:23&quot;</span><span class="p">,</span>
                <span class="nt">&quot;biz_id&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>
                <span class="nt">&quot;monitor_tag&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
                <span class="nt">&quot;monitor_desc&quot;</span><span class="p">:</span><span class="s2">&quot;QQ\u6d4b\u8bd5_\u53ef\u7528\u7387&quot;</span><span class="p">,</span>
                <span class="nt">&quot;monitor_source_id&quot;</span><span class="p">:</span><span class="s2">&quot;2_uptimecheck_http&quot;</span><span class="p">,</span>
                <span class="nt">&quot;monitor_name&quot;</span><span class="p">:</span><span class="s2">&quot;QQ\u6d4b\u8bd5_\u53ef\u7528\u7387&quot;</span><span class="p">,</span>
                <span class="nt">&quot;unit&quot;</span><span class="p">:</span><span class="s2">&quot;%&quot;</span><span class="p">,</span>
                <span class="nt">&quot;extra_info&quot;</span><span class="p">:{</span>
                    <span class="nt">&quot;check_value&quot;</span><span class="p">:</span><span class="mf">50.0</span>
                <span class="p">},</span>
                <span class="nt">&quot;conversion&quot;</span><span class="p">:</span><span class="mf">0.01</span><span class="p">,</span>
                <span class="nt">&quot;monitor_level&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>
                <span class="nt">&quot;dimensions&quot;</span><span class="p">:{</span>
                    <span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="s2">&quot;http:\/\/www.qq.com\/&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;task_id&quot;</span><span class="p">:</span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;biz_id&quot;</span><span class="p">:</span><span class="mi">2</span>
                <span class="p">},</span>
                <span class="nt">&quot;scenario&quot;</span><span class="p">:</span><span class="s2">&quot;uptimecheck&quot;</span><span class="p">,</span>
                <span class="nt">&quot;monitor_id&quot;</span><span class="p">:</span><span class="mi">26</span><span class="p">,</span>
                <span class="nt">&quot;values&quot;</span><span class="p">:{</span>
                    <span class="nt">&quot;available&quot;</span><span class="p">:</span><span class="mf">50.0</span><span class="p">,</span>
                    <span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="mi">1543285680</span>
                <span class="p">},</span>
                <span class="nt">&quot;extend_message&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
                <span class="nt">&quot;strategy_contexts&quot;</span><span class="p">:[</span>
                    <span class="p">{</span>
                        <span class="nt">&quot;strategy_name&quot;</span><span class="p">:</span><span class="s2">&quot;ThresholdStrategy&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;anomaly_message&quot;</span><span class="p">:</span><span class="s2">&quot;\u5f53\u524d\u6307\u6807\u503c(50.0%) &lt; (100.0%)&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;strategy_option&quot;</span><span class="p">:{</span>
                            <span class="nt">&quot;floor&quot;</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span>
                            <span class="nt">&quot;floor_interval&quot;</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span>
                            <span class="nt">&quot;ceil&quot;</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span>
                            <span class="nt">&quot;ceil_interval&quot;</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span>
                            <span class="nt">&quot;threshold&quot;</span><span class="p">:</span><span class="mi">100</span><span class="p">,</span>
                            <span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
                            <span class="nt">&quot;method&quot;</span><span class="p">:</span><span class="s2">&quot;lt&quot;</span>
                        <span class="p">}</span>
                    <span class="p">}</span>
                <span class="p">],</span>
                <span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="mf">50.0</span><span class="p">,</span>
                <span class="nt">&quot;monitor_type&quot;</span><span class="p">:</span><span class="s2">&quot;uptimecheck&quot;</span><span class="p">,</span>
                <span class="nt">&quot;dimensions_alias&quot;</span><span class="p">:{</span>
                    <span class="nt">&quot;\u8bf7\u6c42\u7f51\u5740&quot;</span><span class="p">:</span><span class="s2">&quot;http:\/\/www.qq.com\/&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;\u4efb\u52a1id&quot;</span><span class="p">:</span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;biz_id&quot;</span><span class="p">:</span><span class="mi">2</span>
                <span class="p">},</span>
                <span class="nt">&quot;anomaly_message&quot;</span><span class="p">:</span><span class="s2">&quot;\u5f53\u524d\u6307\u6807\u503c(50.0%) &lt; (100.0%)&quot;</span><span class="p">,</span>
                <span class="nt">&quot;condition&quot;</span><span class="p">:[</span>
                    <span class="p">[</span>

                    <span class="p">]</span>
                <span class="p">],</span>
                <span class="nt">&quot;src_type&quot;</span><span class="p">:</span><span class="s2">&quot;BKMONITOR&quot;</span><span class="p">,</span>
                <span class="nt">&quot;monitor_source_name&quot;</span><span class="p">:</span><span class="s2">&quot;QQ\u6d4b\u8bd5_\u53ef\u7528\u7387&quot;</span><span class="p">,</span>
                <span class="nt">&quot;monitor_field&quot;</span><span class="p">:</span><span class="s2">&quot;available&quot;</span><span class="p">,</span>
                <span class="nt">&quot;dt_event_time&quot;</span><span class="p">:</span><span class="mi">1543285680</span><span class="p">,</span>
                <span class="nt">&quot;monitor_source_option&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span>
            <span class="p">},</span>
            <span class="nt">&quot;ip&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="nt">&quot;comment_id&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
            <span class="nt">&quot;bk_cloud_id&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
            <span class="nt">&quot;alarm_content&quot;</span><span class="p">:{</span>
                <span class="nt">&quot;attention_color&quot;</span><span class="p">:</span><span class="s2">&quot;#86b1ff&quot;</span><span class="p">,</span>
                <span class="nt">&quot;source_name&quot;</span><span class="p">:</span><span class="s2">&quot;QQ\u6d4b\u8bd5_\u53ef\u7528\u7387&quot;</span><span class="p">,</span>
                <span class="nt">&quot;attention&quot;</span><span class="p">:</span><span class="s2">&quot;\u3010\u666e\u901a\u3011&quot;</span><span class="p">,</span>
                <span class="nt">&quot;cc_biz_name&quot;</span><span class="p">:</span><span class="s2">&quot;\u84dd\u9cb8&quot;</span><span class="p">,</span>
                <span class="nt">&quot;subject&quot;</span><span class="p">:</span><span class="s2">&quot;QQ\u6d4b\u8bd5_\u53ef\u7528\u7387\u53d1\u751f\u544a\u8b66&quot;</span><span class="p">,</span>
                <span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="s2">&quot;QQ\u6d4b\u8bd5_\u53ef\u7528\u7387\u53d1\u751f\u544a\u8b66&quot;</span><span class="p">,</span>
                <span class="nt">&quot;solution&quot;</span><span class="p">:</span><span class="s2">&quot;\u65e0&quot;</span><span class="p">,</span>
                <span class="nt">&quot;content&quot;</span><span class="p">:</span><span class="s2">&quot;\u5f53\u524d\u6307\u6807\u503c(50.0%) &lt; (100.0%)&quot;</span><span class="p">,</span>
                <span class="nt">&quot;is_performance_alarm&quot;</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span>
                <span class="nt">&quot;time&quot;</span><span class="p">:</span><span class="s2">&quot;10:28:00&quot;</span><span class="p">,</span>
                <span class="nt">&quot;dimension&quot;</span><span class="p">:</span><span class="s2">&quot;\u8bf7\u6c42\u7f51\u5740(http:\/\/www.qq.com\/)-\u4efb\u52a1id(1)-biz_id(2)&quot;</span>
            <span class="p">},</span>
            <span class="nt">&quot;raw&quot;</span><span class="p">:</span><span class="s2">&quot;\u5f53\u524d\u6307\u6807\u503c(50.0%) &lt; (100.0%)&quot;</span><span class="p">,</span>
            <span class="nt">&quot;snap_solution&quot;</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span>
            <span class="nt">&quot;status_strategy_id&quot;</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span>
            <span class="nt">&quot;begin_time&quot;</span><span class="p">:</span><span class="s2">&quot;2018-11-27 02:30:25+0800&quot;</span><span class="p">,</span>
            <span class="nt">&quot;cc_topo_set&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="mi">637984</span><span class="p">,</span>
            <span class="nt">&quot;approved_time&quot;</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span>
            <span class="nt">&quot;finish_time&quot;</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span>
            <span class="nt">&quot;cc_app_module&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="nt">&quot;user_status&quot;</span><span class="p">:</span><span class="s2">&quot;notified&quot;</span><span class="p">,</span>
            <span class="nt">&quot;alarm_source_id&quot;</span><span class="p">:</span><span class="mi">26</span><span class="p">,</span>
            <span class="nt">&quot;source_time&quot;</span><span class="p">:</span><span class="s2">&quot;2018-11-27 02:28:00+0800&quot;</span><span class="p">,</span>
            <span class="nt">&quot;source_type&quot;</span><span class="p">:</span><span class="s2">&quot;JUNGLE_ALERT&quot;</span><span class="p">,</span>
            <span class="nt">&quot;event_id&quot;</span><span class="p">:</span><span class="s2">&quot;JUNGLE_ALERT7f32e1f4aaa7f7e462b639d02e5cfa40&quot;</span><span class="p">,</span>
            <span class="nt">&quot;failure_type&quot;</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span>
            <span class="nt">&quot;level&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>
            <span class="nt">&quot;snap_converge&quot;</span><span class="p">:{</span>
                <span class="nt">&quot;alarm_source_id&quot;</span><span class="p">:</span><span class="mi">26</span><span class="p">,</span>
                <span class="nt">&quot;config&quot;</span><span class="p">:</span><span class="s2">&quot;{\&quot;count\&quot;:1,\&quot;alarm_window\&quot;:\&quot;5\&quot;,\&quot;check_window\&quot;:5}&quot;</span><span class="p">,</span>
                <span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="mi">26</span>
            <span class="p">},</span>
            <span class="nt">&quot;alarm_dimension&quot;</span><span class="p">:{</span>
                <span class="nt">&quot;\u8bf7\u6c42\u7f51\u5740&quot;</span><span class="p">:</span><span class="s2">&quot;http:\/\/www.qq.com\/&quot;</span><span class="p">,</span>
                <span class="nt">&quot;\u4efb\u52a1id&quot;</span><span class="p">:</span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
                <span class="nt">&quot;biz_id&quot;</span><span class="p">:</span><span class="mi">2</span>
            <span class="p">},</span>
            <span class="nt">&quot;priority&quot;</span><span class="p">:</span><span class="mi">2880</span><span class="p">,</span>
            <span class="nt">&quot;alarm_type&quot;</span><span class="p">:</span><span class="s2">&quot;uptimecheck&quot;</span><span class="p">,</span>
            <span class="nt">&quot;snap_notice&quot;</span><span class="p">:{</span>
                <span class="nt">&quot;is_enabled&quot;</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span>
                <span class="nt">&quot;update_time&quot;</span><span class="p">:</span><span class="s2">&quot;2018-10-31T08:28:55&quot;</span><span class="p">,</span>
                <span class="nt">&quot;update_user&quot;</span><span class="p">:</span><span class="s2">&quot;admin&quot;</span><span class="p">,</span>
                <span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
                <span class="nt">&quot;create_user&quot;</span><span class="p">:</span><span class="s2">&quot;admin&quot;</span><span class="p">,</span>
                <span class="nt">&quot;create_time&quot;</span><span class="p">:</span><span class="s2">&quot;2018-10-31T08:28:55&quot;</span><span class="p">,</span>
                <span class="nt">&quot;alarm_source_id&quot;</span><span class="p">:</span><span class="mi">26</span><span class="p">,</span>
                <span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="mi">26</span><span class="p">,</span>
                <span class="nt">&quot;is_deleted&quot;</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span>
                <span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="s2">&quot;QQ\u6d4b\u8bd5_\u53ef\u7528\u7387\u901a\u77e5\u65b9\u5f0f&quot;</span><span class="p">,</span>
                <span class="nt">&quot;alarm_end_time&quot;</span><span class="p">:</span><span class="s2">&quot;23:59:00&quot;</span><span class="p">,</span>
                <span class="nt">&quot;alarm_start_time&quot;</span><span class="p">:</span><span class="s2">&quot;00:00:00&quot;</span><span class="p">,</span>
                <span class="nt">&quot;notify_config&quot;</span><span class="p">:</span><span class="s2">&quot;{\&quot;alarm_end_time\&quot;:\&quot;23:59\&quot;,\&quot;responsible\&quot;:\&quot;\&quot;,\&quot;notify_wechat\&quot;:true,\&quot;group_list\&quot;:[],\&quot;notify_mail\&quot;:true,\&quot;phone_receiver\&quot;:\&quot;\&quot;,\&quot;alarm_start_time\&quot;:\&quot;00:00\&quot;,\&quot;role_list\&quot;:[\&quot;Maintainers\&quot;]}&quot;</span>
            <span class="p">},</span>
            <span class="nt">&quot;snap_alarm_source&quot;</span><span class="p">:{</span>
                <span class="nt">&quot;update_user&quot;</span><span class="p">:</span><span class="s2">&quot;admin&quot;</span><span class="p">,</span>
                <span class="nt">&quot;create_user&quot;</span><span class="p">:</span><span class="s2">&quot;admin&quot;</span><span class="p">,</span>
                <span class="nt">&quot;create_time&quot;</span><span class="p">:</span><span class="s2">&quot;2018-10-31T08:28:55&quot;</span><span class="p">,</span>
                <span class="nt">&quot;monitor_target&quot;</span><span class="p">:</span><span class="s2">&quot;available&quot;</span><span class="p">,</span>
                <span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="mi">26</span><span class="p">,</span>
                <span class="nt">&quot;source_info&quot;</span><span class="p">:</span><span class="s2">&quot;{\&quot;count_freq\&quot;:60,\&quot;dimensions\&quot;:[\&quot;task_id\&quot;,\&quot;url\&quot;],\&quot;aggregator\&quot;:\&quot;avg\&quot;,\&quot;monitor_field\&quot;:\&quot;available\&quot;,\&quot;unit_conversion\&quot;:0.01,\&quot;where_sql\&quot;:\&quot; ((task_id=&#39;1&#39;))\&quot;,\&quot;monitor_result_table_id\&quot;:\&quot;2_uptimecheck_http\&quot;,\&quot;unit\&quot;:\&quot;%\&quot;}&quot;</span><span class="p">,</span>
                <span class="nt">&quot;monitor_level&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>
                <span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="s2">&quot;QQ\u6d4b\u8bd5_\u53ef\u7528\u7387&quot;</span><span class="p">,</span>
                <span class="nt">&quot;alarm_cleaning_id&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
                <span class="nt">&quot;src_type&quot;</span><span class="p">:</span><span class="s2">&quot;JA&quot;</span><span class="p">,</span>
                <span class="nt">&quot;alarm_notice_id&quot;</span><span class="p">:</span><span class="mi">26</span><span class="p">,</span>
                <span class="nt">&quot;is_enabled&quot;</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span>
                <span class="nt">&quot;update_time&quot;</span><span class="p">:</span><span class="s2">&quot;2018-10-31T08:28:55&quot;</span><span class="p">,</span>
                <span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="s2">&quot;QQ\u6d4b\u8bd5_\u53ef\u7528\u7387&quot;</span><span class="p">,</span>
                <span class="nt">&quot;alarm_type&quot;</span><span class="p">:</span><span class="s2">&quot;uptimecheck&quot;</span><span class="p">,</span>
                <span class="nt">&quot;alarm_attr_id&quot;</span><span class="p">:</span><span class="s2">&quot;26&quot;</span><span class="p">,</span>
                <span class="nt">&quot;alarm_collect_id&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
                <span class="nt">&quot;biz_id&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>
                <span class="nt">&quot;alarm_solution_id&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
                <span class="nt">&quot;condition&quot;</span><span class="p">:</span><span class="s2">&quot;[[]]&quot;</span><span class="p">,</span>
                <span class="nt">&quot;is_deleted&quot;</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span>
                <span class="nt">&quot;scenario&quot;</span><span class="p">:</span><span class="s2">&quot;uptimecheck&quot;</span><span class="p">,</span>
                <span class="nt">&quot;timeout&quot;</span><span class="p">:</span><span class="mi">40</span>
            <span class="p">},</span>
            <span class="nt">&quot;snap_responsible&quot;</span><span class="p">:</span><span class="s2">&quot;{\&quot;verifier\&quot;:[\&quot;admin\&quot;]}&quot;</span><span class="p">,</span>
            <span class="nt">&quot;approved_comment&quot;</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span>
            <span class="nt">&quot;source_id&quot;</span><span class="p">:</span><span class="s2">&quot;7f32e1f4aaa7f7e462b639d02e5cfa40&quot;</span><span class="p">,</span>
            <span class="nt">&quot;match_dimension&quot;</span><span class="p">:{</span>
                <span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="s2">&quot;http:\/\/www.qq.com\/&quot;</span><span class="p">,</span>
                <span class="nt">&quot;alarm_attr_id&quot;</span><span class="p">:</span><span class="s2">&quot;26&quot;</span><span class="p">,</span>
                <span class="nt">&quot;alarm_source_id&quot;</span><span class="p">:</span><span class="s2">&quot;26&quot;</span><span class="p">,</span>
                <span class="nt">&quot;task_id&quot;</span><span class="p">:</span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
                <span class="nt">&quot;biz_id&quot;</span><span class="p">:</span><span class="mi">2</span>
            <span class="p">},</span>
            <span class="nt">&quot;approved_user&quot;</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span>
            <span class="nt">&quot;bk_biz_id&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>
            <span class="nt">&quot;end_time&quot;</span><span class="p">:</span><span class="s2">&quot;2018-11-27 02:30:26+0800&quot;</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor/list_component_instance/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>批量筛选组件<br />
根据指定的过滤条件和分页参数来筛选组件列表</p>
<h4 id="_4">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_5">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int</td>
<td></td>
<td>ID</td>
</tr>
<tr>
<td>ip</td>
<td>string</td>
<td></td>
<td>实例IP</td>
</tr>
<tr>
<td>component</td>
<td>string</td>
<td></td>
<td>组件名称</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>int</td>
<td></td>
<td>业务ID</td>
</tr>
<tr>
<td>bk_cloud_id</td>
<td>int</td>
<td></td>
<td>云区域ID</td>
</tr>
</tbody>
</table>
<h4 id="_6">请求参数</h4>
<div class="codehilite"><pre><span></span><span class="err">{</span>
    <span class="ss">&quot;id&quot;</span><span class="p">:</span> <span class="mi">2</span>
<span class="err">}</span>
</pre></div>


<h3 id="_7">返回结果</h3>
<h4 id="_8">字段说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>data</td>
<td>list</td>
<td>组件列表</td>
</tr>
</tbody>
</table>
<h4 id="_9">结果示例</h4>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;code&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;_meta&quot;</span><span class="p">:{</span>
        <span class="nt">&quot;count&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
        <span class="nt">&quot;previous&quot;</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span>
        <span class="nt">&quot;next&quot;</span><span class="p">:</span><span class="kc">null</span>
    <span class="p">},</span>
    <span class="nt">&quot;result&quot;</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span>
    <span class="nt">&quot;request_id&quot;</span><span class="p">:</span><span class="s2">&quot;c9cb1a973dc542508cf057822c8dc2c5&quot;</span><span class="p">,</span>
    <span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="s2">&quot;OK&quot;</span><span class="p">,</span>
    <span class="nt">&quot;data&quot;</span><span class="p">:[</span>
        <span class="p">{</span>
            <span class="nt">&quot;update_time&quot;</span><span class="p">:</span><span class="s2">&quot;2018-11-01 13:35:55+0800&quot;</span><span class="p">,</span>
            <span class="nt">&quot;update_user&quot;</span><span class="p">:</span><span class="s2">&quot;admin&quot;</span><span class="p">,</span>
            <span class="nt">&quot;ip&quot;</span><span class="p">:</span><span class="s2">&quot;x.x.x.x&quot;</span><span class="p">,</span>
            <span class="nt">&quot;component&quot;</span><span class="p">:</span><span class="s2">&quot;jmx&quot;</span><span class="p">,</span>
            <span class="nt">&quot;create_user&quot;</span><span class="p">:</span><span class="s2">&quot;admin&quot;</span><span class="p">,</span>
            <span class="nt">&quot;create_time&quot;</span><span class="p">:</span><span class="s2">&quot;2018-11-01 13:35:55+0800&quot;</span><span class="p">,</span>
            <span class="nt">&quot;bk_biz_id&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>
            <span class="nt">&quot;bk_cloud_id&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
            <span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>
            <span class="nt">&quot;is_deleted&quot;</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span>
            <span class="nt">&quot;config&quot;</span><span class="p">:</span><span class="s2">&quot;NcYXc9rkryoeorg2+MPAe3iOIc1hDe4KcrIOhsvo\/YqR6on08RJ8ikeUUqmWwG+d1h7lQDxr25jJfzkvr8\/KJPhRpAc0iK\/x9+bt6tTsRKN\/zfOI6K1TOjTUeqcndTI0pwBbKGz9yP\/LvIGtgvtWGA==&quot;</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/monitor/query_data/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>图表数据查询<br />
根据给定的sql表达式查询指定的存储引擎  </p>
<h4 id="_4">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_5">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>sql</td>
<td>string</td>
<td>是</td>
<td>SQL查询语句</td>
</tr>
<tr>
<td>prefer_storage</td>
<td>string</td>
<td></td>
<td>查询引擎</td>
</tr>
</tbody>
</table>
<h4 id="_6">请求示例</h4>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;username&quot;</span><span class="p">:</span><span class="s2">&quot;admin&quot;</span><span class="p">,</span>
    <span class="nt">&quot;sql&quot;</span><span class="p">:</span><span class="s2">&quot;select max(in_use) as _in_use from 3_system_disk where time &gt;= \&quot;1m\&quot; group by ip, plat_id, company_id, device_name, minute1 order by time desc limit 1&quot;</span>
<span class="p">}</span>
</pre></div>


<h3 id="_7">返回结果</h3>
<h4 id="_8">字段说明</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>list</td>
<td>list</td>
<td>查询结果</td>
</tr>
<tr>
<td>select_fields_order</td>
<td>list</td>
<td>查询字段</td>
</tr>
<tr>
<td>totalRecords</td>
<td>int</td>
<td>总记录数</td>
</tr>
<tr>
<td>timetaken</td>
<td>float</td>
<td>查询耗时</td>
</tr>
<tr>
<td>cluster</td>
<td>string</td>
<td>集群名称</td>
</tr>
<tr>
<td>device</td>
<td>string</td>
<td>查询引擎</td>
</tr>
</tbody>
</table>
<h4 id="_9">结果示例</h4>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="s2">&quot;OK&quot;</span><span class="p">,</span>
    <span class="nt">&quot;code&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;data&quot;</span><span class="p">:{</span>
        <span class="nt">&quot;list&quot;</span><span class="p">:[</span>
            <span class="p">{</span>
                <span class="nt">&quot;ip&quot;</span><span class="p">:</span><span class="s2">&quot;10.0.4.5&quot;</span><span class="p">,</span>
                <span class="nt">&quot;time&quot;</span><span class="p">:</span><span class="mi">1543487700000</span><span class="p">,</span>
                <span class="nt">&quot;company_id&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
                <span class="nt">&quot;device_name&quot;</span><span class="p">:</span><span class="s2">&quot;C:&quot;</span><span class="p">,</span>
                <span class="nt">&quot;_in_use&quot;</span><span class="p">:</span><span class="mf">27.0269684761</span><span class="p">,</span>
                <span class="nt">&quot;plat_id&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
                <span class="nt">&quot;minute1&quot;</span><span class="p">:</span><span class="mi">1543487700000</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="nt">&quot;ip&quot;</span><span class="p">:</span><span class="s2">&quot;10.0.4.13&quot;</span><span class="p">,</span>
                <span class="nt">&quot;time&quot;</span><span class="p">:</span><span class="mi">1543487700000</span><span class="p">,</span>
                <span class="nt">&quot;company_id&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
                <span class="nt">&quot;device_name&quot;</span><span class="p">:</span><span class="s2">&quot;\/&quot;</span><span class="p">,</span>
                <span class="nt">&quot;_in_use&quot;</span><span class="p">:</span><span class="mf">8.3368418991</span><span class="p">,</span>
                <span class="nt">&quot;plat_id&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
                <span class="nt">&quot;minute1&quot;</span><span class="p">:</span><span class="mi">1543487700000</span>
            <span class="p">}</span>
        <span class="p">],</span>
        <span class="nt">&quot;timetaken&quot;</span><span class="p">:</span><span class="mf">0.0059459209</span><span class="p">,</span>
        <span class="nt">&quot;totalRecords&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>
        <span class="nt">&quot;cluster&quot;</span><span class="p">:</span><span class="s2">&quot;default&quot;</span><span class="p">,</span>
        <span class="nt">&quot;device&quot;</span><span class="p">:</span><span class="s2">&quot;tsdb&quot;</span><span class="p">,</span>
        <span class="nt">&quot;select_fields_order&quot;</span><span class="p">:[</span>
            <span class="s2">&quot;_in_use&quot;</span><span class="p">,</span>
            <span class="s2">&quot;ip&quot;</span><span class="p">,</span>
            <span class="s2">&quot;plat_id&quot;</span><span class="p">,</span>
            <span class="s2">&quot;company_id&quot;</span><span class="p">,</span>
            <span class="s2">&quot;device_name&quot;</span><span class="p">,</span>
            <span class="s2">&quot;minute1&quot;</span>
        <span class="p">]</span>
    <span class="p">},</span>
    <span class="nt">&quot;result&quot;</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span>
    <span class="nt">&quot;request_id&quot;</span><span class="p">:</span><span class="s2">&quot;408233306947415bb1772a86b9536867&quot;</span>
<span class="p">}</span>
</pre></div><h2 id="api">标准运维 API 文档简介</h2>
<table>
<thead>
<tr>
<th>资源名称</th>
<th>资源描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="5.1/API文档/SOPS/create_periodic_task.md">create_periodic_task</a></td>
<td>通过流程模板新建周期任务</td>
</tr>
<tr>
<td><a href="5.1/API文档/SOPS/create_task.md">create_task</a></td>
<td>通过流程模板新建任务</td>
</tr>
<tr>
<td><a href="5.1/API文档/SOPS/get_periodic_task_info.md">get_periodic_task_info</a></td>
<td>查询业务下的某个周期任务详情</td>
</tr>
<tr>
<td><a href="5.1/API文档/SOPS/get_periodic_task_list.md">get_periodic_task_list</a></td>
<td>查询业务下的周期任务列表</td>
</tr>
<tr>
<td><a href="5.1/API文档/SOPS/get_task_detail.md">get_task_detail</a></td>
<td>查询任务执行详情</td>
</tr>
<tr>
<td><a href="5.1/API文档/SOPS/get_task_node_detail.md">get_task_node_detail</a></td>
<td>查询任务节点执行详情</td>
</tr>
<tr>
<td><a href="5.1/API文档/SOPS/get_task_status.md">get_task_status</a></td>
<td>查询任务或任务节点执行状态</td>
</tr>
<tr>
<td><a href="5.1/API文档/SOPS/get_template_info.md">get_template_info</a></td>
<td>查询单个模板详情</td>
</tr>
<tr>
<td><a href="5.1/API文档/SOPS/get_template_list.md">get_template_list</a></td>
<td>查询模板列表</td>
</tr>
<tr>
<td><a href="5.1/API文档/SOPS/import_common_template.md">import_common_template</a></td>
<td>导入公共流程</td>
</tr>
<tr>
<td><a href="5.1/API文档/SOPS/modify_constants_for_periodic_task.md">modify_constants_for_periodic_task</a></td>
<td>修改周期任务的全局参数</td>
</tr>
<tr>
<td><a href="5.1/API文档/SOPS/modify_cron_for_periodic_task.md">modify_cron_for_periodic_task</a></td>
<td>修改周期任务的调度策略</td>
</tr>
<tr>
<td><a href="5.1/API文档/SOPS/node_callback.md">node_callback</a></td>
<td>回调任务节点</td>
</tr>
<tr>
<td><a href="5.1/API文档/SOPS/operate_task.md">operate_task</a></td>
<td>操作任务</td>
</tr>
<tr>
<td><a href="5.1/API文档/SOPS/query_task_count.md">query_task_count</a></td>
<td>查询任务分类统计总数</td>
</tr>
<tr>
<td><a href="5.1/API文档/SOPS/set_periodic_task_enabled.md">set_periodic_task_enabled</a></td>
<td>设置周期任务是否激活</td>
</tr>
<tr>
<td><a href="5.1/API文档/SOPS/start_task.md">start_task</a></td>
<td>开始执行任务</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/sops/create_periodic_task/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>创建周期任务</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>template_id</td>
<td>string</td>
<td>是</td>
<td>用于创建任务的模板ID</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>string</td>
<td>是</td>
<td>任务所属业务ID</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>是</td>
<td>要创建的周期任务名称</td>
</tr>
<tr>
<td>cron</td>
<td>dict</td>
<td>是</td>
<td>要创建的周期任务调度策略</td>
</tr>
<tr>
<td>constants</td>
<td>dict</td>
<td>否</td>
<td>任务全局参数，详细信息见下面说明</td>
</tr>
<tr>
<td>exclude_task_nodes_id</td>
<td>list</td>
<td>否</td>
<td>跳过执行的节点ID列表</td>
</tr>
</tbody>
</table>
<h4 id="constantskey">constants.KEY</h4>
<p>变量 KEY，${key} 格式</p>
<h4 id="constantsvalue">constants.VALUE</h4>
<p>变量值</p>
<h4 id="cron">cron</h4>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>参数类型</th>
<th>必须</th>
<th>参数说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>minute</td>
<td>string</td>
<td>否</td>
<td>分，默认为 *</td>
</tr>
<tr>
<td>hour</td>
<td>string</td>
<td>否</td>
<td>时，默认为 *</td>
</tr>
<tr>
<td>day_of_week</td>
<td>string</td>
<td>否</td>
<td>一周内的某些天，默认为 *</td>
</tr>
<tr>
<td>day_of_month</td>
<td>string</td>
<td>否</td>
<td>一个月中的某些天，默认为 *</td>
</tr>
<tr>
<td>month_of_year</td>
<td>string</td>
<td>否</td>
<td>一年中的某些月份，默认为 *</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span>{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;template_id&quot;: &quot;1&quot;,
    &quot;bk_biz_id&quot;: &quot;2&quot;,
    &quot;name&quot;: &quot;from api 3&quot;,
    &quot;cron&quot; : {&quot;minute&quot;: &quot;*/1&quot;, &quot;hour&quot;: &quot;15&quot;, &quot;day_of_week&quot;:&quot;*&quot;, &quot;day_of_month&quot;:&quot;*&quot;, &quot;month_of_year&quot;:&quot;*&quot;},
    &quot;constants&quot;: {&quot;<span class="cp">${</span><span class="n">bk_timing</span><span class="cp">}</span>&quot;: &quot;100&quot;},
    &quot;exclude_task_nodes_id&quot;: [&quot;nodea5c396a3ef0f9f3cd7d4d7695f78&quot;]
}
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span>{
    <span class="s2">&quot;</span><span class="s">message</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>,
    <span class="s2">&quot;</span><span class="s">data</span><span class="s2">&quot;</span>: {
        <span class="s2">&quot;</span><span class="s">cron</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">*/1 15 * * * (m/h/d/dM/MY)</span><span class="s2">&quot;</span>,
        <span class="s2">&quot;</span><span class="s">total_run_count</span><span class="s2">&quot;</span>: <span class="mi">0</span>,
        <span class="s2">&quot;</span><span class="s">name</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">from api 3</span><span class="s2">&quot;</span>,
        <span class="s2">&quot;</span><span class="s">form</span><span class="s2">&quot;</span>: {
            <span class="s2">&quot;</span><span class="s">${bk_timing}</span><span class="s2">&quot;</span>: {
                <span class="s2">&quot;</span><span class="s">source_tag</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">sleep_timer.bk_timing</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">source_info</span><span class="s2">&quot;</span>: {
                    <span class="s2">&quot;</span><span class="s">node76393dcfedcf73dbc726f1c4786d</span><span class="s2">&quot;</span>: [
                        <span class="s2">&quot;</span><span class="s">bk_timing</span><span class="s2">&quot;</span>
                    ]
                },
                <span class="s2">&quot;</span><span class="s">name</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">定时时间</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">index</span><span class="s2">&quot;</span>: <span class="mi">0</span>,
                <span class="s2">&quot;</span><span class="s">custom_type</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>,
                <span class="s2">&quot;</span><span class="s">value</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">100</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">show_type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">show</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">source_type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">component_inputs</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">key</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">${bk_timing}</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">validation</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>,
                <span class="s2">&quot;</span><span class="s">desc</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>
            }
        },
        <span class="s2">&quot;</span><span class="s">creator</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">admin</span><span class="s2">&quot;</span>,
        <span class="s2">&quot;</span><span class="s">pipeline_tree</span><span class="s2">&quot;</span>: {
            <span class="s2">&quot;</span><span class="s">activities</span><span class="s2">&quot;</span>: {
                <span class="s2">&quot;</span><span class="s">node76393dcfedcf73dbc726f1c4786d</span><span class="s2">&quot;</span>: {
                    <span class="s2">&quot;</span><span class="s">outgoing</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">linecf7b7f10c87187a88b72c5f91177</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">incoming</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">linecd597f19606c1455d661f71a582d</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">name</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">定时</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">error_ignorable</span><span class="s2">&quot;</span>: <span class="nv">false</span>,
                    <span class="s2">&quot;</span><span class="s">component</span><span class="s2">&quot;</span>: {
                        <span class="s2">&quot;</span><span class="s">code</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">sleep_timer</span><span class="s2">&quot;</span>,
                        <span class="s2">&quot;</span><span class="s">data</span><span class="s2">&quot;</span>: {
                            <span class="s2">&quot;</span><span class="s">bk_timing</span><span class="s2">&quot;</span>: {
                                <span class="s2">&quot;</span><span class="s">hook</span><span class="s2">&quot;</span>: <span class="nv">true</span>,
                                <span class="s2">&quot;</span><span class="s">value</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">${bk_timing}</span><span class="s2">&quot;</span>
                            }
                        }
                    },
                    <span class="s2">&quot;</span><span class="s">stage_name</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">步骤1</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">optional</span><span class="s2">&quot;</span>: <span class="nv">false</span>,
                    <span class="s2">&quot;</span><span class="s">type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">ServiceActivity</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node76393dcfedcf73dbc726f1c4786d</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">loop</span><span class="s2">&quot;</span>: {}
                }
            },
            <span class="s2">&quot;</span><span class="s">end_event</span><span class="s2">&quot;</span>: {
                <span class="s2">&quot;</span><span class="s">incoming</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">linecf7b7f10c87187a88b72c5f91177</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">outgoing</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>,
                <span class="s2">&quot;</span><span class="s">type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">EmptyEndEvent</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node375320830be9c46cd89f4069857d</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">name</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>
            },
            <span class="s2">&quot;</span><span class="s">outputs</span><span class="s2">&quot;</span>: [],
            <span class="s2">&quot;</span><span class="s">flows</span><span class="s2">&quot;</span>: {
                <span class="s2">&quot;</span><span class="s">linecd597f19606c1455d661f71a582d</span><span class="s2">&quot;</span>: {
                    <span class="s2">&quot;</span><span class="s">is_default</span><span class="s2">&quot;</span>: <span class="nv">false</span>,
                    <span class="s2">&quot;</span><span class="s">source</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node4e87796ddd76b0d59337b08f385d</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">linecd597f19606c1455d661f71a582d</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">target</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node76393dcfedcf73dbc726f1c4786d</span><span class="s2">&quot;</span>
                },
                <span class="s2">&quot;</span><span class="s">linecf7b7f10c87187a88b72c5f91177</span><span class="s2">&quot;</span>: {
                    <span class="s2">&quot;</span><span class="s">is_default</span><span class="s2">&quot;</span>: <span class="nv">false</span>,
                    <span class="s2">&quot;</span><span class="s">source</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node76393dcfedcf73dbc726f1c4786d</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">linecf7b7f10c87187a88b72c5f91177</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">target</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node375320830be9c46cd89f4069857d</span><span class="s2">&quot;</span>
                }
            },
            <span class="s2">&quot;</span><span class="s">gateways</span><span class="s2">&quot;</span>: {},
            <span class="s2">&quot;</span><span class="s">line</span><span class="s2">&quot;</span>: [
                {
                    <span class="s2">&quot;</span><span class="s">source</span><span class="s2">&quot;</span>: {
                        <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node4e87796ddd76b0d59337b08f385d</span><span class="s2">&quot;</span>,
                        <span class="s2">&quot;</span><span class="s">arrow</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">Right</span><span class="s2">&quot;</span>
                    },
                    <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">linecd597f19606c1455d661f71a582d</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">target</span><span class="s2">&quot;</span>: {
                        <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node76393dcfedcf73dbc726f1c4786d</span><span class="s2">&quot;</span>,
                        <span class="s2">&quot;</span><span class="s">arrow</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">Left</span><span class="s2">&quot;</span>
                    }
                },
                {
                    <span class="s2">&quot;</span><span class="s">source</span><span class="s2">&quot;</span>: {
                        <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node76393dcfedcf73dbc726f1c4786d</span><span class="s2">&quot;</span>,
                        <span class="s2">&quot;</span><span class="s">arrow</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">Right</span><span class="s2">&quot;</span>
                    },
                    <span class="s2">&quot;</span><span class="s">target</span><span class="s2">&quot;</span>: {
                        <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node375320830be9c46cd89f4069857d</span><span class="s2">&quot;</span>,
                        <span class="s2">&quot;</span><span class="s">arrow</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">Left</span><span class="s2">&quot;</span>
                    },
                    <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">linecf7b7f10c87187a88b72c5f91177</span><span class="s2">&quot;</span>
                }
            ],
            <span class="s2">&quot;</span><span class="s">start_event</span><span class="s2">&quot;</span>: {
                <span class="s2">&quot;</span><span class="s">incoming</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>,
                <span class="s2">&quot;</span><span class="s">outgoing</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">linecd597f19606c1455d661f71a582d</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">EmptyStartEvent</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node4e87796ddd76b0d59337b08f385d</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">name</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>
            },
            <span class="s2">&quot;</span><span class="s">constants</span><span class="s2">&quot;</span>: {
                <span class="s2">&quot;</span><span class="s">${bk_timing}</span><span class="s2">&quot;</span>: {
                    <span class="s2">&quot;</span><span class="s">source_tag</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">sleep_timer.bk_timing</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">source_info</span><span class="s2">&quot;</span>: {
                        <span class="s2">&quot;</span><span class="s">node76393dcfedcf73dbc726f1c4786d</span><span class="s2">&quot;</span>: [
                            <span class="s2">&quot;</span><span class="s">bk_timing</span><span class="s2">&quot;</span>
                        ]
                    },
                    <span class="s2">&quot;</span><span class="s">name</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">定时时间</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">index</span><span class="s2">&quot;</span>: <span class="mi">0</span>,
                    <span class="s2">&quot;</span><span class="s">custom_type</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">value</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">100</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">show_type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">show</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">source_type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">component_inputs</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">key</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">${bk_timing}</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">validation</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">desc</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>
                }
            },
            <span class="s2">&quot;</span><span class="s">location</span><span class="s2">&quot;</span>: [
                {
                    <span class="s2">&quot;</span><span class="s">y</span><span class="s2">&quot;</span>: <span class="mi">150</span>,
                    <span class="s2">&quot;</span><span class="s">x</span><span class="s2">&quot;</span>: <span class="mi">80</span>,
                    <span class="s2">&quot;</span><span class="s">type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">startpoint</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node4e87796ddd76b0d59337b08f385d</span><span class="s2">&quot;</span>
                },
                {
                    <span class="s2">&quot;</span><span class="s">y</span><span class="s2">&quot;</span>: <span class="mi">149</span>,
                    <span class="s2">&quot;</span><span class="s">x</span><span class="s2">&quot;</span>: <span class="mi">1092</span>,
                    <span class="s2">&quot;</span><span class="s">type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">endpoint</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node375320830be9c46cd89f4069857d</span><span class="s2">&quot;</span>
                },
                {
                    <span class="s2">&quot;</span><span class="s">stage_name</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">步骤1</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">name</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">定时</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">y</span><span class="s2">&quot;</span>: <span class="mi">133</span>,
                    <span class="s2">&quot;</span><span class="s">x</span><span class="s2">&quot;</span>: <span class="mi">300</span>,
                    <span class="s2">&quot;</span><span class="s">type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">tasknode</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node76393dcfedcf73dbc726f1c4786d</span><span class="s2">&quot;</span>
                }
            ]
        },
        <span class="s2">&quot;</span><span class="s">last_run_at</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>,
        <span class="s2">&quot;</span><span class="s">enabled</span><span class="s2">&quot;</span>: <span class="nv">false</span>,
        <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="mi">11</span>,
        <span class="s2">&quot;</span><span class="s">template_id</span><span class="s2">&quot;</span>: <span class="mi">2</span>
    },
    <span class="s2">&quot;</span><span class="s">result</span><span class="s2">&quot;</span>: <span class="nv">true</span>
}
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>true/false 操作是否成功</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>result=true 时成功数据，详细信息请见下面说明</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>result=false 时错误信息</td>
</tr>
</tbody>
</table>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>cron</td>
<td>string</td>
<td>周期调度表达式</td>
</tr>
<tr>
<td>total_run_count</td>
<td>int</td>
<td>周期任务运行次数</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>周期任务名</td>
</tr>
<tr>
<td>creator</td>
<td>string</td>
<td>创建者</td>
</tr>
<tr>
<td>last_run_at</td>
<td>string</td>
<td>上次运行时间</td>
</tr>
<tr>
<td>enabled</td>
<td>bool</td>
<td>是否激活</td>
</tr>
<tr>
<td>id</td>
<td>int</td>
<td>周期任务 ID</td>
</tr>
<tr>
<td>template_id</td>
<td>string</td>
<td>用于创建该任务的模板 ID</td>
</tr>
<tr>
<td>form</td>
<td>dict</td>
<td>该周期任务的参数表单对象</td>
</tr>
<tr>
<td>pipeline_tree</td>
<td>dict</td>
<td>该周期任务的实例树</td>
</tr>
</tbody>
</table>
<h4 id="datapipeline_tree">data.pipeline_tree</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>start_event</td>
<td>dict</td>
<td>开始节点信息</td>
</tr>
<tr>
<td>end_event</td>
<td>dict</td>
<td>结束节点信息</td>
</tr>
<tr>
<td>activities</td>
<td>dict</td>
<td>任务节点（原子和子流程）信息</td>
</tr>
<tr>
<td>gateways</td>
<td>dict</td>
<td>网关节点（并行网关、分支网关和汇聚网关）信息</td>
</tr>
<tr>
<td>flows</td>
<td>dict</td>
<td>顺序流（节点连线）信息</td>
</tr>
<tr>
<td>constants</td>
<td>dict</td>
<td>全局变量信息，详情见下面</td>
</tr>
<tr>
<td>outputs</td>
<td>list</td>
<td>模板输出信息，标记 constants 中的输出字段</td>
</tr>
</tbody>
</table>
<h4 id="dataformkey-datapipeline_treeconstantskey">data.form.KEY, data.pipeline_tree.constants.KEY</h4>
<p>全局变量 KEY，${key} 格式</p>
<h4 id="dataformvalue-datapipeline_treeconstantsvalue">data.form.VALUE, data.pipeline_tree.constants.VALUE</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>key</td>
<td>string</td>
<td>同 KEY</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>变量名字</td>
</tr>
<tr>
<td>index</td>
<td>int</td>
<td>变量在模板中的显示顺序</td>
</tr>
<tr>
<td>desc</td>
<td>string</td>
<td>变量说明</td>
</tr>
<tr>
<td>source_type</td>
<td>string</td>
<td>变量来源, 取值范围 custom: 自定义变量，component_inputs: 从原子输入参数勾选，component_outputs：从原子输出结果中勾选</td>
</tr>
<tr>
<td>custom_type</td>
<td>string</td>
<td>source_type=custom 时有效，自定义变量类型， 取值范围 input: 输入框，textarea: 文本框，datetime: 日期时间，int: 整数</td>
</tr>
<tr>
<td>source_tag</td>
<td>string</td>
<td>source_type=component_inputs/component_outputs 时有效，变量的来源原子</td>
</tr>
<tr>
<td>source_info</td>
<td>dict</td>
<td>source_type=component_inputs/component_outputs 时有效，变量的来源节点信息</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/sops/create_task/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>通过流程模板创建任务</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>string</td>
<td>是</td>
<td>模板所属业务ID</td>
</tr>
<tr>
<td>template_id</td>
<td>string</td>
<td>是</td>
<td>模板ID</td>
</tr>
<tr>
<td>template_source</td>
<td>string</td>
<td>否</td>
<td>流程模板来源，business:默认值，业务流程，common：公共流程</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>是</td>
<td>任务名称</td>
</tr>
<tr>
<td>flow_type</td>
<td>string</td>
<td>否</td>
<td>任务流程类型，common: 常规流程，common_func：职能化流程</td>
</tr>
<tr>
<td>constants</td>
<td>dict</td>
<td>否</td>
<td>任务全局参数，详细信息见下面说明</td>
</tr>
<tr>
<td>exclude_task_nodes_id</td>
<td>list</td>
<td>否</td>
<td>跳过执行的节点ID列表</td>
</tr>
</tbody>
</table>
<h4 id="constantskey">constants.KEY</h4>
<p>变量 KEY，${key} 格式</p>
<h4 id="constantsvalue">constants.VALUE</h4>
<p>变量值，value 的类型和从模板获取的全局变量中 value 类型保持一致</p>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span>{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;name&quot;: &quot;tasktest&quot;,
    &quot;flow_type&quot;: &quot;common&quot;,
    &quot;constants&quot;: {
        &quot;<span class="cp">${</span><span class="n">content</span><span class="cp">}</span>: &quot;echo 1&quot;,
        &quot;<span class="cp">${</span><span class="n">params</span><span class="cp">}</span>&quot;: &quot;&quot;,
        &quot;<span class="cp">${</span><span class="n">script_timeout</span><span class="cp">}</span>&quot;: 20
    }
}
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span>{
    <span class="s2">&quot;</span><span class="s">result</span><span class="s2">&quot;</span>: <span class="nv">true</span>,
    <span class="s2">&quot;</span><span class="s">data</span><span class="s2">&quot;</span>: {
        <span class="s2">&quot;</span><span class="s">task_id</span><span class="s2">&quot;</span>: <span class="mi">10</span>,
        <span class="s2">&quot;</span><span class="s">task_url</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">http://bk_sops_host/taskflow/execute/3/?instance_id=15364</span><span class="s2">&quot;</span>,
        <span class="s2">&quot;</span><span class="s">pipeline_tree</span><span class="s2">&quot;</span>: {
            <span class="s2">&quot;</span><span class="s">activities</span><span class="s2">&quot;</span>: {
                <span class="s2">&quot;</span><span class="s">node9b5ae13799d63e179f0ce3088b62</span><span class="s2">&quot;</span>: {
                    <span class="s2">&quot;</span><span class="s">outgoing</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">line27bc7b4ccbcf37ddb9d1f6572a04</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">incoming</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">line490caa49d2a03e64829693281032</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">name</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">timing</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">error_ignorable</span><span class="s2">&quot;</span>: <span class="nv">false</span>,
                    <span class="s2">&quot;</span><span class="s">component</span><span class="s2">&quot;</span>: {
                        <span class="s2">&quot;</span><span class="s">code</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">sleep_timer</span><span class="s2">&quot;</span>,
                        <span class="s2">&quot;</span><span class="s">data</span><span class="s2">&quot;</span>: {
                            <span class="s2">&quot;</span><span class="s">bk_timing</span><span class="s2">&quot;</span>: {
                                <span class="s2">&quot;</span><span class="s">hook</span><span class="s2">&quot;</span>: <span class="nv">false</span>,
                                <span class="s2">&quot;</span><span class="s">value</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">2</span><span class="s2">&quot;</span>
                            }
                        }
                    },
                    <span class="s2">&quot;</span><span class="s">stage_name</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">步骤1</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">can_retry</span><span class="s2">&quot;</span>: <span class="nv">true</span>,
                    <span class="s2">&quot;</span><span class="s">isSkipped</span><span class="s2">&quot;</span>: <span class="nv">true</span>,
                    <span class="s2">&quot;</span><span class="s">type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">ServiceActivity</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">optional</span><span class="s2">&quot;</span>: <span class="nv">false</span>,
                    <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node9b5ae13799d63e179f0ce3088b62</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">loop</span><span class="s2">&quot;</span>: <span class="nv">null</span>
                },
                <span class="s2">&quot;</span><span class="s">node880ded556c6c3c269be3cedc64b6</span><span class="s2">&quot;</span>: {
                    <span class="s2">&quot;</span><span class="s">outgoing</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">line490caa49d2a03e64829693281032</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">incoming</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">lineb83161d6e0593ad68d9ec73a961b</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">name</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">暂停</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">error_ignorable</span><span class="s2">&quot;</span>: <span class="nv">false</span>,
                    <span class="s2">&quot;</span><span class="s">component</span><span class="s2">&quot;</span>: {
                        <span class="s2">&quot;</span><span class="s">code</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">pause_node</span><span class="s2">&quot;</span>,
                        <span class="s2">&quot;</span><span class="s">data</span><span class="s2">&quot;</span>: {}
                    },
                    <span class="s2">&quot;</span><span class="s">stage_name</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">步骤1</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">can_retry</span><span class="s2">&quot;</span>: <span class="nv">true</span>,
                    <span class="s2">&quot;</span><span class="s">isSkipped</span><span class="s2">&quot;</span>: <span class="nv">true</span>,
                    <span class="s2">&quot;</span><span class="s">type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">ServiceActivity</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">optional</span><span class="s2">&quot;</span>: <span class="nv">true</span>,
                    <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node880ded556c6c3c269be3cedc64b6</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">loop</span><span class="s2">&quot;</span>: <span class="nv">null</span>
                }
            },
            <span class="s2">&quot;</span><span class="s">end_event</span><span class="s2">&quot;</span>: {
                <span class="s2">&quot;</span><span class="s">type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">EmptyEndEvent</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">outgoing</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>,
                <span class="s2">&quot;</span><span class="s">incoming</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">line27bc7b4ccbcf37ddb9d1f6572a04</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node5c48f37aa9f0351e8b43ab6a2295</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">name</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>
            },
            <span class="s2">&quot;</span><span class="s">outputs</span><span class="s2">&quot;</span>: [],
            <span class="s2">&quot;</span><span class="s">flows</span><span class="s2">&quot;</span>: {
                <span class="s2">&quot;</span><span class="s">line490caa49d2a03e64829693281032</span><span class="s2">&quot;</span>: {
                    <span class="s2">&quot;</span><span class="s">is_default</span><span class="s2">&quot;</span>: <span class="nv">false</span>,
                    <span class="s2">&quot;</span><span class="s">source</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node880ded556c6c3c269be3cedc64b6</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">line490caa49d2a03e64829693281032</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">target</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node9b5ae13799d63e179f0ce3088b62</span><span class="s2">&quot;</span>
                },
                <span class="s2">&quot;</span><span class="s">lineb83161d6e0593ad68d9ec73a961b</span><span class="s2">&quot;</span>: {
                    <span class="s2">&quot;</span><span class="s">is_default</span><span class="s2">&quot;</span>: <span class="nv">false</span>,
                    <span class="s2">&quot;</span><span class="s">source</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">noded383bc1d7387391f889c6bab18b8</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">lineb83161d6e0593ad68d9ec73a961b</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">target</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node880ded556c6c3c269be3cedc64b6</span><span class="s2">&quot;</span>
                },
                <span class="s2">&quot;</span><span class="s">line27bc7b4ccbcf37ddb9d1f6572a04</span><span class="s2">&quot;</span>: {
                    <span class="s2">&quot;</span><span class="s">is_default</span><span class="s2">&quot;</span>: <span class="nv">false</span>,
                    <span class="s2">&quot;</span><span class="s">source</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node9b5ae13799d63e179f0ce3088b62</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">line27bc7b4ccbcf37ddb9d1f6572a04</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">target</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node5c48f37aa9f0351e8b43ab6a2295</span><span class="s2">&quot;</span>
                }
            },
            <span class="s2">&quot;</span><span class="s">gateways</span><span class="s2">&quot;</span>: {},
            <span class="s2">&quot;</span><span class="s">line</span><span class="s2">&quot;</span>: [
                {
                    <span class="s2">&quot;</span><span class="s">source</span><span class="s2">&quot;</span>: {
                        <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node9b5ae13799d63e179f0ce3088b62</span><span class="s2">&quot;</span>,
                        <span class="s2">&quot;</span><span class="s">arrow</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">Right</span><span class="s2">&quot;</span>
                    },
                    <span class="s2">&quot;</span><span class="s">target</span><span class="s2">&quot;</span>: {
                        <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node5c48f37aa9f0351e8b43ab6a2295</span><span class="s2">&quot;</span>,
                        <span class="s2">&quot;</span><span class="s">arrow</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">Left</span><span class="s2">&quot;</span>
                    },
                    <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">line27bc7b4ccbcf37ddb9d1f6572a04</span><span class="s2">&quot;</span>
                },
                {
                    <span class="s2">&quot;</span><span class="s">source</span><span class="s2">&quot;</span>: {
                        <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node880ded556c6c3c269be3cedc64b6</span><span class="s2">&quot;</span>,
                        <span class="s2">&quot;</span><span class="s">arrow</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">Right</span><span class="s2">&quot;</span>
                    },
                    <span class="s2">&quot;</span><span class="s">target</span><span class="s2">&quot;</span>: {
                        <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node9b5ae13799d63e179f0ce3088b62</span><span class="s2">&quot;</span>,
                        <span class="s2">&quot;</span><span class="s">arrow</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">Left</span><span class="s2">&quot;</span>
                    },
                    <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">line490caa49d2a03e64829693281032</span><span class="s2">&quot;</span>
                },
                {
                    <span class="s2">&quot;</span><span class="s">source</span><span class="s2">&quot;</span>: {
                        <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">noded383bc1d7387391f889c6bab18b8</span><span class="s2">&quot;</span>,
                        <span class="s2">&quot;</span><span class="s">arrow</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">Right</span><span class="s2">&quot;</span>
                    },
                    <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">lineb83161d6e0593ad68d9ec73a961b</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">target</span><span class="s2">&quot;</span>: {
                        <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node880ded556c6c3c269be3cedc64b6</span><span class="s2">&quot;</span>,
                        <span class="s2">&quot;</span><span class="s">arrow</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">Left</span><span class="s2">&quot;</span>
                    }
                }
            ],
            <span class="s2">&quot;</span><span class="s">start_event</span><span class="s2">&quot;</span>: {
                <span class="s2">&quot;</span><span class="s">type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">EmptyStartEvent</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">outgoing</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">lineb83161d6e0593ad68d9ec73a961b</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">incoming</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>,
                <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">noded383bc1d7387391f889c6bab18b8</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">name</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>
            },
            <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node7ef6970d06ad3bc092594cb5ec5f</span><span class="s2">&quot;</span>,
            <span class="s2">&quot;</span><span class="s">constants</span><span class="s2">&quot;</span>: {},
            <span class="s2">&quot;</span><span class="s">location</span><span class="s2">&quot;</span>: [
                {
                    <span class="s2">&quot;</span><span class="s">stage_name</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">步骤1</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">name</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">暂停</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">y</span><span class="s2">&quot;</span>: <span class="mi">135</span>,
                    <span class="s2">&quot;</span><span class="s">x</span><span class="s2">&quot;</span>: <span class="mi">300</span>,
                    <span class="s2">&quot;</span><span class="s">type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">tasknode</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node880ded556c6c3c269be3cedc64b6</span><span class="s2">&quot;</span>
                },
                {
                    <span class="s2">&quot;</span><span class="s">y</span><span class="s2">&quot;</span>: <span class="mi">150</span>,
                    <span class="s2">&quot;</span><span class="s">x</span><span class="s2">&quot;</span>: <span class="mi">1000</span>,
                    <span class="s2">&quot;</span><span class="s">type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">endpoint</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node5c48f37aa9f0351e8b43ab6a2295</span><span class="s2">&quot;</span>
                },
                {
                    <span class="s2">&quot;</span><span class="s">stage_name</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">步骤1</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">name</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">timing</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">y</span><span class="s2">&quot;</span>: <span class="mi">135</span>,
                    <span class="s2">&quot;</span><span class="s">x</span><span class="s2">&quot;</span>: <span class="mi">595</span>,
                    <span class="s2">&quot;</span><span class="s">type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">tasknode</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node9b5ae13799d63e179f0ce3088b62</span><span class="s2">&quot;</span>
                },
                {
                    <span class="s2">&quot;</span><span class="s">y</span><span class="s2">&quot;</span>: <span class="mi">150</span>,
                    <span class="s2">&quot;</span><span class="s">x</span><span class="s2">&quot;</span>: <span class="mi">80</span>,
                    <span class="s2">&quot;</span><span class="s">type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">startpoint</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">noded383bc1d7387391f889c6bab18b8</span><span class="s2">&quot;</span>
                }
            ]
        }
    }
}
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>true/false 操作是否成功</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>result=true 时成功数据，详细信息请见下面说明</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>result=false 时错误信息</td>
</tr>
</tbody>
</table>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>task_id</td>
<td>int</td>
<td>任务实例ID</td>
</tr>
<tr>
<td>task_url</td>
<td>str</td>
<td>任务实例链接</td>
</tr>
<tr>
<td>pipeline_tree</td>
<td>dict</td>
<td>任务实例树</td>
</tr>
</tbody>
</table>
<h4 id="datapipeline_tree">data.pipeline_tree</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>start_event</td>
<td>dict</td>
<td>开始节点信息</td>
</tr>
<tr>
<td>end_event</td>
<td>dict</td>
<td>结束节点信息</td>
</tr>
<tr>
<td>activities</td>
<td>dict</td>
<td>任务节点（原子和子流程）信息</td>
</tr>
<tr>
<td>gateways</td>
<td>dict</td>
<td>网关节点（并行网关、分支网关和汇聚网关）信息</td>
</tr>
<tr>
<td>flows</td>
<td>dict</td>
<td>顺序流（节点连线）信息</td>
</tr>
<tr>
<td>constants</td>
<td>dict</td>
<td>全局变量信息，详情见下面</td>
</tr>
<tr>
<td>outputs</td>
<td>list</td>
<td>模板输出信息，标记 constants 中的输出字段</td>
</tr>
</tbody>
</table>
<h4 id="datapipeline_treeconstantskey">data.pipeline_tree.constants.KEY</h4>
<p>全局变量 KEY，${key} 格式</p>
<h4 id="datapipeline_treeconstantsvalue">data.pipeline_tree.constants.VALUE</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>key</td>
<td>string</td>
<td>同 KEY</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>变量名字</td>
</tr>
<tr>
<td>index</td>
<td>int</td>
<td>变量在模板中的显示顺序</td>
</tr>
<tr>
<td>desc</td>
<td>string</td>
<td>变量说明</td>
</tr>
<tr>
<td>source_type</td>
<td>string</td>
<td>变量来源, 取值范围 custom: 自定义变量，component_inputs: 从原子输入参数勾选，component_outputs：从原子输出结果中勾选</td>
</tr>
<tr>
<td>custom_type</td>
<td>string</td>
<td>source_type=custom 时有效，自定义变量类型， 取值范围 input: 输入框，textarea: 文本框，datetime: 日期时间，int: 整数</td>
</tr>
<tr>
<td>source_tag</td>
<td>string</td>
<td>source_type=component_inputs/component_outputs 时有效，变量的来源原子</td>
</tr>
<tr>
<td>source_info</td>
<td>dict</td>
<td>source_type=component_inputs/component_outputs 时有效，变量的来源节点信息</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/sops/get_periodic_task_info/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>查询某个周期任务的详情</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>task_id</td>
<td>string</td>
<td>是</td>
<td>周期任务ID</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>string</td>
<td>是</td>
<td>模板所属业务ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="err">{</span>
    <span class="ss">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="ss">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="ss">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="ss">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="ss">&quot;bk_token&quot;</span><span class="p">:</span> <span class="ss">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="ss">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="ss">&quot;2&quot;</span><span class="p">,</span>
    <span class="ss">&quot;task_id&quot;</span><span class="p">:</span> <span class="ss">&quot;8&quot;</span>
<span class="err">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span>{
    <span class="s2">&quot;</span><span class="s">message</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>,
    <span class="s2">&quot;</span><span class="s">data</span><span class="s2">&quot;</span>: {
        <span class="s2">&quot;</span><span class="s">cron</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">1,2,3-19/2 2 3 4 5 (m/h/d/dM/MY)</span><span class="s2">&quot;</span>,
        <span class="s2">&quot;</span><span class="s">total_run_count</span><span class="s2">&quot;</span>: <span class="mi">0</span>,
        <span class="s2">&quot;</span><span class="s">name</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">定时2</span><span class="s2">&quot;</span>,
        <span class="s2">&quot;</span><span class="s">form</span><span class="s2">&quot;</span>: {
            <span class="s2">&quot;</span><span class="s">${bk_timing}</span><span class="s2">&quot;</span>: {
                <span class="s2">&quot;</span><span class="s">source_tag</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">sleep_timer.bk_timing</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">source_info</span><span class="s2">&quot;</span>: {
                    <span class="s2">&quot;</span><span class="s">node76393dcfedcf73dbc726f1c4786d</span><span class="s2">&quot;</span>: [
                        <span class="s2">&quot;</span><span class="s">bk_timing</span><span class="s2">&quot;</span>
                    ]
                },
                <span class="s2">&quot;</span><span class="s">name</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">定时时间</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">index</span><span class="s2">&quot;</span>: <span class="mi">0</span>,
                <span class="s2">&quot;</span><span class="s">custom_type</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>,
                <span class="s2">&quot;</span><span class="s">value</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">2</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">show_type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">show</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">source_type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">component_inputs</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">key</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">${bk_timing}</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">validation</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>,
                <span class="s2">&quot;</span><span class="s">desc</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>
            }
        },
        <span class="s2">&quot;</span><span class="s">creator</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">admin</span><span class="s2">&quot;</span>,
        <span class="s2">&quot;</span><span class="s">pipeline_tree</span><span class="s2">&quot;</span>: {
            <span class="s2">&quot;</span><span class="s">activities</span><span class="s2">&quot;</span>: {
                <span class="s2">&quot;</span><span class="s">nodea5c396a3ef0f9f3cd7d4d7695f78</span><span class="s2">&quot;</span>: {
                    <span class="s2">&quot;</span><span class="s">outgoing</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">linef69b59d165fb8c0061b46588c515</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">incoming</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">linecf7b7f10c87187a88b72c5f91177</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">name</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">暂停</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">error_ignorable</span><span class="s2">&quot;</span>: <span class="nv">false</span>,
                    <span class="s2">&quot;</span><span class="s">component</span><span class="s2">&quot;</span>: {
                        <span class="s2">&quot;</span><span class="s">code</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">pause_node</span><span class="s2">&quot;</span>,
                        <span class="s2">&quot;</span><span class="s">data</span><span class="s2">&quot;</span>: {}
                    },
                    <span class="s2">&quot;</span><span class="s">stage_name</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">步骤1</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">optional</span><span class="s2">&quot;</span>: <span class="nv">false</span>,
                    <span class="s2">&quot;</span><span class="s">type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">ServiceActivity</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">nodea5c396a3ef0f9f3cd7d4d7695f78</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">loop</span><span class="s2">&quot;</span>: {}
                },
                <span class="s2">&quot;</span><span class="s">node76393dcfedcf73dbc726f1c4786d</span><span class="s2">&quot;</span>: {
                    <span class="s2">&quot;</span><span class="s">outgoing</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">linecf7b7f10c87187a88b72c5f91177</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">incoming</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">linecd597f19606c1455d661f71a582d</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">name</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">定时</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">error_ignorable</span><span class="s2">&quot;</span>: <span class="nv">false</span>,
                    <span class="s2">&quot;</span><span class="s">component</span><span class="s2">&quot;</span>: {
                        <span class="s2">&quot;</span><span class="s">code</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">sleep_timer</span><span class="s2">&quot;</span>,
                        <span class="s2">&quot;</span><span class="s">data</span><span class="s2">&quot;</span>: {
                            <span class="s2">&quot;</span><span class="s">bk_timing</span><span class="s2">&quot;</span>: {
                                <span class="s2">&quot;</span><span class="s">hook</span><span class="s2">&quot;</span>: <span class="nv">true</span>,
                                <span class="s2">&quot;</span><span class="s">value</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">${bk_timing}</span><span class="s2">&quot;</span>
                            }
                        }
                    },
                    <span class="s2">&quot;</span><span class="s">stage_name</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">步骤1</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">optional</span><span class="s2">&quot;</span>: <span class="nv">false</span>,
                    <span class="s2">&quot;</span><span class="s">type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">ServiceActivity</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node76393dcfedcf73dbc726f1c4786d</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">loop</span><span class="s2">&quot;</span>: {}
                }
            },
            <span class="s2">&quot;</span><span class="s">end_event</span><span class="s2">&quot;</span>: {
                <span class="s2">&quot;</span><span class="s">incoming</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">linef69b59d165fb8c0061b46588c515</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">outgoing</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>,
                <span class="s2">&quot;</span><span class="s">type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">EmptyEndEvent</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node375320830be9c46cd89f4069857d</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">name</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>
            },
            <span class="s2">&quot;</span><span class="s">outputs</span><span class="s2">&quot;</span>: [],
            <span class="s2">&quot;</span><span class="s">flows</span><span class="s2">&quot;</span>: {
                <span class="s2">&quot;</span><span class="s">linef69b59d165fb8c0061b46588c515</span><span class="s2">&quot;</span>: {
                    <span class="s2">&quot;</span><span class="s">is_default</span><span class="s2">&quot;</span>: <span class="nv">false</span>,
                    <span class="s2">&quot;</span><span class="s">source</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">nodea5c396a3ef0f9f3cd7d4d7695f78</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">linef69b59d165fb8c0061b46588c515</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">target</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node375320830be9c46cd89f4069857d</span><span class="s2">&quot;</span>
                },
                <span class="s2">&quot;</span><span class="s">linecd597f19606c1455d661f71a582d</span><span class="s2">&quot;</span>: {
                    <span class="s2">&quot;</span><span class="s">is_default</span><span class="s2">&quot;</span>: <span class="nv">false</span>,
                    <span class="s2">&quot;</span><span class="s">source</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node4e87796ddd76b0d59337b08f385d</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">linecd597f19606c1455d661f71a582d</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">target</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node76393dcfedcf73dbc726f1c4786d</span><span class="s2">&quot;</span>
                },
                <span class="s2">&quot;</span><span class="s">linecf7b7f10c87187a88b72c5f91177</span><span class="s2">&quot;</span>: {
                    <span class="s2">&quot;</span><span class="s">is_default</span><span class="s2">&quot;</span>: <span class="nv">false</span>,
                    <span class="s2">&quot;</span><span class="s">source</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node76393dcfedcf73dbc726f1c4786d</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">linecf7b7f10c87187a88b72c5f91177</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">target</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">nodea5c396a3ef0f9f3cd7d4d7695f78</span><span class="s2">&quot;</span>
                }
            },
            <span class="s2">&quot;</span><span class="s">gateways</span><span class="s2">&quot;</span>: {},
            <span class="s2">&quot;</span><span class="s">line</span><span class="s2">&quot;</span>: [
                {
                    <span class="s2">&quot;</span><span class="s">source</span><span class="s2">&quot;</span>: {
                        <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">nodea5c396a3ef0f9f3cd7d4d7695f78</span><span class="s2">&quot;</span>,
                        <span class="s2">&quot;</span><span class="s">arrow</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">Right</span><span class="s2">&quot;</span>
                    },
                    <span class="s2">&quot;</span><span class="s">target</span><span class="s2">&quot;</span>: {
                        <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node375320830be9c46cd89f4069857d</span><span class="s2">&quot;</span>,
                        <span class="s2">&quot;</span><span class="s">arrow</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">Left</span><span class="s2">&quot;</span>
                    },
                    <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">linef69b59d165fb8c0061b46588c515</span><span class="s2">&quot;</span>
                },
                {
                    <span class="s2">&quot;</span><span class="s">source</span><span class="s2">&quot;</span>: {
                        <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node4e87796ddd76b0d59337b08f385d</span><span class="s2">&quot;</span>,
                        <span class="s2">&quot;</span><span class="s">arrow</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">Right</span><span class="s2">&quot;</span>
                    },
                    <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">linecd597f19606c1455d661f71a582d</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">target</span><span class="s2">&quot;</span>: {
                        <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node76393dcfedcf73dbc726f1c4786d</span><span class="s2">&quot;</span>,
                        <span class="s2">&quot;</span><span class="s">arrow</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">Left</span><span class="s2">&quot;</span>
                    }
                },
                {
                    <span class="s2">&quot;</span><span class="s">source</span><span class="s2">&quot;</span>: {
                        <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node76393dcfedcf73dbc726f1c4786d</span><span class="s2">&quot;</span>,
                        <span class="s2">&quot;</span><span class="s">arrow</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">Right</span><span class="s2">&quot;</span>
                    },
                    <span class="s2">&quot;</span><span class="s">target</span><span class="s2">&quot;</span>: {
                        <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">nodea5c396a3ef0f9f3cd7d4d7695f78</span><span class="s2">&quot;</span>,
                        <span class="s2">&quot;</span><span class="s">arrow</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">Left</span><span class="s2">&quot;</span>
                    },
                    <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">linecf7b7f10c87187a88b72c5f91177</span><span class="s2">&quot;</span>
                }
            ],
            <span class="s2">&quot;</span><span class="s">start_event</span><span class="s2">&quot;</span>: {
                <span class="s2">&quot;</span><span class="s">incoming</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>,
                <span class="s2">&quot;</span><span class="s">outgoing</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">linecd597f19606c1455d661f71a582d</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">EmptyStartEvent</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node4e87796ddd76b0d59337b08f385d</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">name</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>
            },
            <span class="s2">&quot;</span><span class="s">constants</span><span class="s2">&quot;</span>: {
                <span class="s2">&quot;</span><span class="s">${bk_timing}</span><span class="s2">&quot;</span>: {
                    <span class="s2">&quot;</span><span class="s">source_tag</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">sleep_timer.bk_timing</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">source_info</span><span class="s2">&quot;</span>: {
                        <span class="s2">&quot;</span><span class="s">node76393dcfedcf73dbc726f1c4786d</span><span class="s2">&quot;</span>: [
                            <span class="s2">&quot;</span><span class="s">bk_timing</span><span class="s2">&quot;</span>
                        ]
                    },
                    <span class="s2">&quot;</span><span class="s">name</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">定时时间</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">index</span><span class="s2">&quot;</span>: <span class="mi">0</span>,
                    <span class="s2">&quot;</span><span class="s">custom_type</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">value</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">2</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">show_type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">show</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">source_type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">component_inputs</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">key</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">${bk_timing}</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">validation</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">desc</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>
                }
            },
            <span class="s2">&quot;</span><span class="s">location</span><span class="s2">&quot;</span>: [
                {
                    <span class="s2">&quot;</span><span class="s">stage_name</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">步骤1</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">name</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">暂停</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">y</span><span class="s2">&quot;</span>: <span class="mi">133</span>,
                    <span class="s2">&quot;</span><span class="s">x</span><span class="s2">&quot;</span>: <span class="mi">631</span>,
                    <span class="s2">&quot;</span><span class="s">type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">tasknode</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">nodea5c396a3ef0f9f3cd7d4d7695f78</span><span class="s2">&quot;</span>
                },
                {
                    <span class="s2">&quot;</span><span class="s">y</span><span class="s2">&quot;</span>: <span class="mi">150</span>,
                    <span class="s2">&quot;</span><span class="s">x</span><span class="s2">&quot;</span>: <span class="mi">80</span>,
                    <span class="s2">&quot;</span><span class="s">type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">startpoint</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node4e87796ddd76b0d59337b08f385d</span><span class="s2">&quot;</span>
                },
                {
                    <span class="s2">&quot;</span><span class="s">y</span><span class="s2">&quot;</span>: <span class="mi">149</span>,
                    <span class="s2">&quot;</span><span class="s">x</span><span class="s2">&quot;</span>: <span class="mi">1092</span>,
                    <span class="s2">&quot;</span><span class="s">type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">endpoint</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node375320830be9c46cd89f4069857d</span><span class="s2">&quot;</span>
                },
                {
                    <span class="s2">&quot;</span><span class="s">stage_name</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">步骤1</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">name</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">定时</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">y</span><span class="s2">&quot;</span>: <span class="mi">133</span>,
                    <span class="s2">&quot;</span><span class="s">x</span><span class="s2">&quot;</span>: <span class="mi">300</span>,
                    <span class="s2">&quot;</span><span class="s">type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">tasknode</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node76393dcfedcf73dbc726f1c4786d</span><span class="s2">&quot;</span>
                }
            ]
        },
        <span class="s2">&quot;</span><span class="s">last_run_at</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>,
        <span class="s2">&quot;</span><span class="s">enabled</span><span class="s2">&quot;</span>: <span class="nv">true</span>,
        <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="mi">5</span>,
        <span class="s2">&quot;</span><span class="s">template_id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">2</span><span class="s2">&quot;</span>
    },
    <span class="s2">&quot;</span><span class="s">result</span><span class="s2">&quot;</span>: <span class="nv">true</span>
}
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>true/false 操作是否成功</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>result=true 时成功数据，详细信息请见下面说明</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>result=false 时错误信息</td>
</tr>
</tbody>
</table>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>cron</td>
<td>string</td>
<td>周期调度表达式</td>
</tr>
<tr>
<td>total_run_count</td>
<td>int</td>
<td>周期任务运行次数</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>周期任务名</td>
</tr>
<tr>
<td>creator</td>
<td>string</td>
<td>创建者</td>
</tr>
<tr>
<td>last_run_at</td>
<td>string</td>
<td>上次运行时间</td>
</tr>
<tr>
<td>enabled</td>
<td>bool</td>
<td>是否激活</td>
</tr>
<tr>
<td>id</td>
<td>int</td>
<td>周期任务 ID</td>
</tr>
<tr>
<td>template_id</td>
<td>string</td>
<td>用于创建该任务的模板 ID</td>
</tr>
<tr>
<td>form</td>
<td>dict</td>
<td>该周期任务的参数表单对象</td>
</tr>
<tr>
<td>pipeline_tree</td>
<td>dict</td>
<td>该周期任务的实例树</td>
</tr>
</tbody>
</table>
<h4 id="datapipeline_tree">data.pipeline_tree</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>start_event</td>
<td>dict</td>
<td>开始节点信息</td>
</tr>
<tr>
<td>end_event</td>
<td>dict</td>
<td>结束节点信息</td>
</tr>
<tr>
<td>activities</td>
<td>dict</td>
<td>任务节点（原子和子流程）信息</td>
</tr>
<tr>
<td>gateways</td>
<td>dict</td>
<td>网关节点（并行网关、分支网关和汇聚网关）信息</td>
</tr>
<tr>
<td>flows</td>
<td>dict</td>
<td>顺序流（节点连线）信息</td>
</tr>
<tr>
<td>constants</td>
<td>dict</td>
<td>全局变量信息，详情见下面</td>
</tr>
<tr>
<td>outputs</td>
<td>list</td>
<td>模板输出信息，标记 constants 中的输出字段</td>
</tr>
</tbody>
</table>
<h4 id="dataformkey-datapipeline_treeconstantskey">data.form.KEY, data.pipeline_tree.constants.KEY</h4>
<p>全局变量 KEY，${key} 格式</p>
<h4 id="dataformvalue-datapipeline_treeconstantsvalue">data.form.VALUE, data.pipeline_tree.constants.VALUE</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>key</td>
<td>string</td>
<td>同 KEY</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>变量名字</td>
</tr>
<tr>
<td>index</td>
<td>int</td>
<td>变量在模板中的显示顺序</td>
</tr>
<tr>
<td>desc</td>
<td>string</td>
<td>变量说明</td>
</tr>
<tr>
<td>source_type</td>
<td>string</td>
<td>变量来源, 取值范围 custom: 自定义变量，component_inputs: 从原子输入参数勾选，component_outputs：从原子输出结果中勾选</td>
</tr>
<tr>
<td>custom_type</td>
<td>string</td>
<td>source_type=custom 时有效，自定义变量类型， 取值范围 input: 输入框，textarea: 文本框，datetime: 日期时间，int: 整数</td>
</tr>
<tr>
<td>source_tag</td>
<td>string</td>
<td>source_type=component_inputs/component_outputs 时有效，变量的来源原子</td>
</tr>
<tr>
<td>source_info</td>
<td>dict</td>
<td>source_type=component_inputs/component_outputs 时有效，变量的来源节点信息</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/sops/get_periodic_task_list/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>查询某个业务下所有的周期任务</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>string</td>
<td>是</td>
<td>任务所属业务ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="err">{</span>
    <span class="ss">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="ss">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="ss">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="ss">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="ss">&quot;bk_token&quot;</span><span class="p">:</span> <span class="ss">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="ss">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="ss">&quot;2&quot;</span>
<span class="err">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="err">{</span>
    <span class="ss">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="err">{</span>
            <span class="ss">&quot;cron&quot;</span><span class="p">:</span> <span class="ss">&quot;*/1 15 * * * (m/h/d/dM/MY)&quot;</span><span class="p">,</span>
            <span class="ss">&quot;total_run_count&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="ss">&quot;name&quot;</span><span class="p">:</span> <span class="ss">&quot;from api 3&quot;</span><span class="p">,</span>
            <span class="ss">&quot;creator&quot;</span><span class="p">:</span> <span class="ss">&quot;admin&quot;</span><span class="p">,</span>
            <span class="ss">&quot;last_run_at&quot;</span><span class="p">:</span> <span class="ss">&quot;2018-11-28 15:57:01 +0900&quot;</span><span class="p">,</span>
            <span class="ss">&quot;enabled&quot;</span><span class="p">:</span> <span class="k">false</span><span class="p">,</span>
            <span class="ss">&quot;id&quot;</span><span class="p">:</span> <span class="mi">11</span><span class="p">,</span>
            <span class="ss">&quot;template_id&quot;</span><span class="p">:</span> <span class="ss">&quot;2&quot;</span>
        <span class="err">}</span><span class="p">,</span>
        <span class="err">{</span>
            <span class="ss">&quot;cron&quot;</span><span class="p">:</span> <span class="ss">&quot;1,2,3-19/2 2 3 4 5 (m/h/d/dM/MY)&quot;</span><span class="p">,</span>
            <span class="ss">&quot;total_run_count&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="ss">&quot;name&quot;</span><span class="p">:</span> <span class="ss">&quot;from api 1&quot;</span><span class="p">,</span>
            <span class="ss">&quot;creator&quot;</span><span class="p">:</span> <span class="ss">&quot;admin&quot;</span><span class="p">,</span>
            <span class="ss">&quot;last_run_at&quot;</span><span class="p">:</span> <span class="ss">&quot;&quot;</span><span class="p">,</span>
            <span class="ss">&quot;enabled&quot;</span><span class="p">:</span> <span class="k">false</span><span class="p">,</span>
            <span class="ss">&quot;id&quot;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
            <span class="ss">&quot;template_id&quot;</span><span class="p">:</span> <span class="ss">&quot;2&quot;</span>
        <span class="err">}</span><span class="p">,</span>
        <span class="err">{</span>
            <span class="ss">&quot;cron&quot;</span><span class="p">:</span> <span class="ss">&quot;*/5 * * * * (m/h/d/dM/MY)&quot;</span><span class="p">,</span>
            <span class="ss">&quot;total_run_count&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="ss">&quot;name&quot;</span><span class="p">:</span> <span class="ss">&quot;定时&quot;</span><span class="p">,</span>
            <span class="ss">&quot;creator&quot;</span><span class="p">:</span> <span class="ss">&quot;admin&quot;</span><span class="p">,</span>
            <span class="ss">&quot;last_run_at&quot;</span><span class="p">:</span> <span class="ss">&quot;&quot;</span><span class="p">,</span>
            <span class="ss">&quot;enabled&quot;</span><span class="p">:</span> <span class="k">false</span><span class="p">,</span>
            <span class="ss">&quot;id&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
            <span class="ss">&quot;template_id&quot;</span><span class="p">:</span> <span class="ss">&quot;2&quot;</span>
        <span class="err">}</span>
    <span class="p">],</span>
    <span class="ss">&quot;result&quot;</span><span class="p">:</span> <span class="k">true</span>
<span class="err">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>true/false 操作是否成功</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>result=true 时成功数据，详细信息请见下面说明</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>result=false 时错误信息</td>
</tr>
</tbody>
</table>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>cron</td>
<td>string</td>
<td>周期调度表达式</td>
</tr>
<tr>
<td>total_run_count</td>
<td>int</td>
<td>周期任务运行次数</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>周期任务名</td>
</tr>
<tr>
<td>creator</td>
<td>string</td>
<td>创建者</td>
</tr>
<tr>
<td>last_run_at</td>
<td>string</td>
<td>上次运行时间</td>
</tr>
<tr>
<td>enabled</td>
<td>bool</td>
<td>是否激活</td>
</tr>
<tr>
<td>id</td>
<td>int</td>
<td>周期任务ID</td>
</tr>
<tr>
<td>template_id</td>
<td>string</td>
<td>用于创建该任务的模板ID</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/sops/get_task_detail/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>查询任务执行详情</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>string</td>
<td>是</td>
<td>所属业务ID</td>
</tr>
<tr>
<td>task_id</td>
<td>string</td>
<td>是</td>
<td>任务ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="err">{</span>
    <span class="ss">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="ss">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="ss">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="ss">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="ss">&quot;bk_token&quot;</span><span class="p">:</span> <span class="ss">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="ss">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="ss">&quot;2&quot;</span><span class="p">,</span>
    <span class="ss">&quot;task_id&quot;</span><span class="p">:</span> <span class="ss">&quot;10&quot;</span>
<span class="err">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span>{
    <span class="s2">&quot;</span><span class="s">data</span><span class="s2">&quot;</span>: {
        <span class="s2">&quot;</span><span class="s">creator</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">admin</span><span class="s2">&quot;</span>,
        <span class="s2">&quot;</span><span class="s">outputs</span><span class="s2">&quot;</span>: [
            {
                <span class="s2">&quot;</span><span class="s">value</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">1</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">key</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">${job_script_type}</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">name</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">脚本类型</span><span class="s2">&quot;</span>
            },
            {
                <span class="s2">&quot;</span><span class="s">value</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">127.0.0.1</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">key</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">${IP}</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">name</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">IP</span><span class="s2">&quot;</span>
            },
            {
                <span class="s2">&quot;</span><span class="s">value</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">0</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">key</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">${EXIT}</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">name</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">EXIT</span><span class="s2">&quot;</span>
            }
        ],
        <span class="s2">&quot;</span><span class="s">start_time</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">2019-01-17 04:13:08</span><span class="s2">&quot;</span>,
        <span class="s2">&quot;</span><span class="s">business_id</span><span class="s2">&quot;</span>: <span class="mi">2</span>,
        <span class="s2">&quot;</span><span class="s">create_time</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">2019-01-17 04:13:03</span><span class="s2">&quot;</span>,
        <span class="s2">&quot;</span><span class="s">business_name</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">蓝鲸</span><span class="s2">&quot;</span>,
        <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="mi">10</span>,
        <span class="s2">&quot;</span><span class="s">constants</span><span class="s2">&quot;</span>: {
            <span class="s2">&quot;</span><span class="s">${IP}</span><span class="s2">&quot;</span>: {
                <span class="s2">&quot;</span><span class="s">source_tag</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">var_ip_picker.ip_picker</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">source_info</span><span class="s2">&quot;</span>: {},
                <span class="s2">&quot;</span><span class="s">name</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">IP</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">index</span><span class="s2">&quot;</span>: <span class="mi">2</span>,
                <span class="s2">&quot;</span><span class="s">custom_type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">ip</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">value</span><span class="s2">&quot;</span>: {
                    <span class="s2">&quot;</span><span class="s">var_ip_custom_value</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">127.0.0.1</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">var_ip_method</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">custom</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">var_ip_tree</span><span class="s2">&quot;</span>: []
                },
                <span class="s2">&quot;</span><span class="s">show_type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">show</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">source_type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">custom</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">validator</span><span class="s2">&quot;</span>: [],
                <span class="s2">&quot;</span><span class="s">key</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">${IP}</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">desc</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>,
                <span class="s2">&quot;</span><span class="s">validation</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>,
                <span class="s2">&quot;</span><span class="s">is_meta</span><span class="s2">&quot;</span>: <span class="nv">false</span>
            },
            <span class="s2">&quot;</span><span class="s">${job_script_type}</span><span class="s2">&quot;</span>: {
                <span class="s2">&quot;</span><span class="s">source_tag</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">job_fast_execute_script.job_script_type</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">source_info</span><span class="s2">&quot;</span>: {
                    <span class="s2">&quot;</span><span class="s">node554316ea019a341f8c28cc6a7da9</span><span class="s2">&quot;</span>: [
                        <span class="s2">&quot;</span><span class="s">job_script_type</span><span class="s2">&quot;</span>
                    ]
                },
                <span class="s2">&quot;</span><span class="s">name</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">脚本类型</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">index</span><span class="s2">&quot;</span>: <span class="mi">0</span>,
                <span class="s2">&quot;</span><span class="s">custom_type</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>,
                <span class="s2">&quot;</span><span class="s">value</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">1</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">show_type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">show</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">source_type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">component_inputs</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">key</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">${job_script_type}</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">validation</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>,
                <span class="s2">&quot;</span><span class="s">desc</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>
            },
            <span class="s2">&quot;</span><span class="s">${EXIT}</span><span class="s2">&quot;</span>: {
                <span class="s2">&quot;</span><span class="s">source_tag</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>,
                <span class="s2">&quot;</span><span class="s">source_info</span><span class="s2">&quot;</span>: {},
                <span class="s2">&quot;</span><span class="s">name</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">EXIT</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">index</span><span class="s2">&quot;</span>: <span class="mi">1</span>,
                <span class="s2">&quot;</span><span class="s">custom_type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">input</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">value</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">0</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">show_type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">show</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">source_type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">custom</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">validator</span><span class="s2">&quot;</span>: [],
                <span class="s2">&quot;</span><span class="s">key</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">${EXIT}</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">validation</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">^.+$</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">desc</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>
            }
        },
        <span class="s2">&quot;</span><span class="s">create_method</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">app</span><span class="s2">&quot;</span>,
        <span class="s2">&quot;</span><span class="s">elapsed_time</span><span class="s2">&quot;</span>: <span class="mi">7</span>,
        <span class="s2">&quot;</span><span class="s">ex_data</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>,
        <span class="s2">&quot;</span><span class="s">instance_name</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">job输出变量测试_20190117121300</span><span class="s2">&quot;</span>,
        <span class="s2">&quot;</span><span class="s">end_time</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">2019-01-17 04:13:15</span><span class="s2">&quot;</span>,
        <span class="s2">&quot;</span><span class="s">executor</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">admin</span><span class="s2">&quot;</span>,
        <span class="s2">&quot;</span><span class="s">template_id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">266</span><span class="s2">&quot;</span>,
        <span class="s2">&quot;</span><span class="s">task_url</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">http://bk_sops_host/taskflow/execute/3/?instance_id=15364</span><span class="s2">&quot;</span>,
        <span class="s2">&quot;</span><span class="s">pipeline_tree</span><span class="s2">&quot;</span>: {
            <span class="s2">&quot;</span><span class="s">activities</span><span class="s2">&quot;</span>: {
                <span class="s2">&quot;</span><span class="s">node9b5ae13799d63e179f0ce3088b62</span><span class="s2">&quot;</span>: {
                    <span class="s2">&quot;</span><span class="s">outgoing</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">line27bc7b4ccbcf37ddb9d1f6572a04</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">incoming</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">line490caa49d2a03e64829693281032</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">name</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">timing</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">error_ignorable</span><span class="s2">&quot;</span>: <span class="nv">false</span>,
                    <span class="s2">&quot;</span><span class="s">component</span><span class="s2">&quot;</span>: {
                        <span class="s2">&quot;</span><span class="s">code</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">sleep_timer</span><span class="s2">&quot;</span>,
                        <span class="s2">&quot;</span><span class="s">data</span><span class="s2">&quot;</span>: {
                            <span class="s2">&quot;</span><span class="s">bk_timing</span><span class="s2">&quot;</span>: {
                                <span class="s2">&quot;</span><span class="s">hook</span><span class="s2">&quot;</span>: <span class="nv">false</span>,
                                <span class="s2">&quot;</span><span class="s">value</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">2</span><span class="s2">&quot;</span>
                            }
                        }
                    },
                    <span class="s2">&quot;</span><span class="s">stage_name</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">步骤1</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">can_retry</span><span class="s2">&quot;</span>: <span class="nv">true</span>,
                    <span class="s2">&quot;</span><span class="s">isSkipped</span><span class="s2">&quot;</span>: <span class="nv">true</span>,
                    <span class="s2">&quot;</span><span class="s">type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">ServiceActivity</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">optional</span><span class="s2">&quot;</span>: <span class="nv">false</span>,
                    <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node9b5ae13799d63e179f0ce3088b62</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">loop</span><span class="s2">&quot;</span>: <span class="nv">null</span>
                },
                <span class="s2">&quot;</span><span class="s">node880ded556c6c3c269be3cedc64b6</span><span class="s2">&quot;</span>: {
                    <span class="s2">&quot;</span><span class="s">outgoing</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">line490caa49d2a03e64829693281032</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">incoming</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">lineb83161d6e0593ad68d9ec73a961b</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">name</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">暂停</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">error_ignorable</span><span class="s2">&quot;</span>: <span class="nv">false</span>,
                    <span class="s2">&quot;</span><span class="s">component</span><span class="s2">&quot;</span>: {
                        <span class="s2">&quot;</span><span class="s">code</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">pause_node</span><span class="s2">&quot;</span>,
                        <span class="s2">&quot;</span><span class="s">data</span><span class="s2">&quot;</span>: {}
                    },
                    <span class="s2">&quot;</span><span class="s">stage_name</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">步骤1</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">can_retry</span><span class="s2">&quot;</span>: <span class="nv">true</span>,
                    <span class="s2">&quot;</span><span class="s">isSkipped</span><span class="s2">&quot;</span>: <span class="nv">true</span>,
                    <span class="s2">&quot;</span><span class="s">type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">ServiceActivity</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">optional</span><span class="s2">&quot;</span>: <span class="nv">true</span>,
                    <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node880ded556c6c3c269be3cedc64b6</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">loop</span><span class="s2">&quot;</span>: <span class="nv">null</span>
                }
            },
            <span class="s2">&quot;</span><span class="s">end_event</span><span class="s2">&quot;</span>: {
                <span class="s2">&quot;</span><span class="s">type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">EmptyEndEvent</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">outgoing</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>,
                <span class="s2">&quot;</span><span class="s">incoming</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">line27bc7b4ccbcf37ddb9d1f6572a04</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node5c48f37aa9f0351e8b43ab6a2295</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">name</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>
            },
            <span class="s2">&quot;</span><span class="s">outputs</span><span class="s2">&quot;</span>: [],
            <span class="s2">&quot;</span><span class="s">flows</span><span class="s2">&quot;</span>: {
                <span class="s2">&quot;</span><span class="s">line490caa49d2a03e64829693281032</span><span class="s2">&quot;</span>: {
                    <span class="s2">&quot;</span><span class="s">is_default</span><span class="s2">&quot;</span>: <span class="nv">false</span>,
                    <span class="s2">&quot;</span><span class="s">source</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node880ded556c6c3c269be3cedc64b6</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">line490caa49d2a03e64829693281032</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">target</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node9b5ae13799d63e179f0ce3088b62</span><span class="s2">&quot;</span>
                },
                <span class="s2">&quot;</span><span class="s">lineb83161d6e0593ad68d9ec73a961b</span><span class="s2">&quot;</span>: {
                    <span class="s2">&quot;</span><span class="s">is_default</span><span class="s2">&quot;</span>: <span class="nv">false</span>,
                    <span class="s2">&quot;</span><span class="s">source</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">noded383bc1d7387391f889c6bab18b8</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">lineb83161d6e0593ad68d9ec73a961b</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">target</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node880ded556c6c3c269be3cedc64b6</span><span class="s2">&quot;</span>
                },
                <span class="s2">&quot;</span><span class="s">line27bc7b4ccbcf37ddb9d1f6572a04</span><span class="s2">&quot;</span>: {
                    <span class="s2">&quot;</span><span class="s">is_default</span><span class="s2">&quot;</span>: <span class="nv">false</span>,
                    <span class="s2">&quot;</span><span class="s">source</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node9b5ae13799d63e179f0ce3088b62</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">line27bc7b4ccbcf37ddb9d1f6572a04</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">target</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node5c48f37aa9f0351e8b43ab6a2295</span><span class="s2">&quot;</span>
                }
            },
            <span class="s2">&quot;</span><span class="s">gateways</span><span class="s2">&quot;</span>: {},
            <span class="s2">&quot;</span><span class="s">line</span><span class="s2">&quot;</span>: [
                {
                    <span class="s2">&quot;</span><span class="s">source</span><span class="s2">&quot;</span>: {
                        <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node9b5ae13799d63e179f0ce3088b62</span><span class="s2">&quot;</span>,
                        <span class="s2">&quot;</span><span class="s">arrow</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">Right</span><span class="s2">&quot;</span>
                    },
                    <span class="s2">&quot;</span><span class="s">target</span><span class="s2">&quot;</span>: {
                        <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node5c48f37aa9f0351e8b43ab6a2295</span><span class="s2">&quot;</span>,
                        <span class="s2">&quot;</span><span class="s">arrow</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">Left</span><span class="s2">&quot;</span>
                    },
                    <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">line27bc7b4ccbcf37ddb9d1f6572a04</span><span class="s2">&quot;</span>
                },
                {
                    <span class="s2">&quot;</span><span class="s">source</span><span class="s2">&quot;</span>: {
                        <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node880ded556c6c3c269be3cedc64b6</span><span class="s2">&quot;</span>,
                        <span class="s2">&quot;</span><span class="s">arrow</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">Right</span><span class="s2">&quot;</span>
                    },
                    <span class="s2">&quot;</span><span class="s">target</span><span class="s2">&quot;</span>: {
                        <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node9b5ae13799d63e179f0ce3088b62</span><span class="s2">&quot;</span>,
                        <span class="s2">&quot;</span><span class="s">arrow</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">Left</span><span class="s2">&quot;</span>
                    },
                    <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">line490caa49d2a03e64829693281032</span><span class="s2">&quot;</span>
                },
                {
                    <span class="s2">&quot;</span><span class="s">source</span><span class="s2">&quot;</span>: {
                        <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">noded383bc1d7387391f889c6bab18b8</span><span class="s2">&quot;</span>,
                        <span class="s2">&quot;</span><span class="s">arrow</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">Right</span><span class="s2">&quot;</span>
                    },
                    <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">lineb83161d6e0593ad68d9ec73a961b</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">target</span><span class="s2">&quot;</span>: {
                        <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node880ded556c6c3c269be3cedc64b6</span><span class="s2">&quot;</span>,
                        <span class="s2">&quot;</span><span class="s">arrow</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">Left</span><span class="s2">&quot;</span>
                    }
                }
            ],
            <span class="s2">&quot;</span><span class="s">start_event</span><span class="s2">&quot;</span>: {
                <span class="s2">&quot;</span><span class="s">type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">EmptyStartEvent</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">outgoing</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">lineb83161d6e0593ad68d9ec73a961b</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">incoming</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>,
                <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">noded383bc1d7387391f889c6bab18b8</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">name</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>
            },
            <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node7ef6970d06ad3bc092594cb5ec5f</span><span class="s2">&quot;</span>,
            <span class="s2">&quot;</span><span class="s">constants</span><span class="s2">&quot;</span>: {},
            <span class="s2">&quot;</span><span class="s">location</span><span class="s2">&quot;</span>: [
                {
                    <span class="s2">&quot;</span><span class="s">stage_name</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">步骤1</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">name</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">暂停</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">y</span><span class="s2">&quot;</span>: <span class="mi">135</span>,
                    <span class="s2">&quot;</span><span class="s">x</span><span class="s2">&quot;</span>: <span class="mi">300</span>,
                    <span class="s2">&quot;</span><span class="s">type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">tasknode</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node880ded556c6c3c269be3cedc64b6</span><span class="s2">&quot;</span>
                },
                {
                    <span class="s2">&quot;</span><span class="s">y</span><span class="s2">&quot;</span>: <span class="mi">150</span>,
                    <span class="s2">&quot;</span><span class="s">x</span><span class="s2">&quot;</span>: <span class="mi">1000</span>,
                    <span class="s2">&quot;</span><span class="s">type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">endpoint</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node5c48f37aa9f0351e8b43ab6a2295</span><span class="s2">&quot;</span>
                },
                {
                    <span class="s2">&quot;</span><span class="s">stage_name</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">步骤1</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">name</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">timing</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">y</span><span class="s2">&quot;</span>: <span class="mi">135</span>,
                    <span class="s2">&quot;</span><span class="s">x</span><span class="s2">&quot;</span>: <span class="mi">595</span>,
                    <span class="s2">&quot;</span><span class="s">type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">tasknode</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node9b5ae13799d63e179f0ce3088b62</span><span class="s2">&quot;</span>
                },
                {
                    <span class="s2">&quot;</span><span class="s">y</span><span class="s2">&quot;</span>: <span class="mi">150</span>,
                    <span class="s2">&quot;</span><span class="s">x</span><span class="s2">&quot;</span>: <span class="mi">80</span>,
                    <span class="s2">&quot;</span><span class="s">type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">startpoint</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">noded383bc1d7387391f889c6bab18b8</span><span class="s2">&quot;</span>
                }
            ]
        }
    },
    <span class="s2">&quot;</span><span class="s">result</span><span class="s2">&quot;</span>: <span class="nv">true</span>
}
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>true/false 查询成功与否</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>result=true 时返回数据，详细信息见下面说明</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>result=false 时错误信息</td>
</tr>
</tbody>
</table>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>int</td>
<td>任务 ID，即 task_id</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>任务名称</td>
</tr>
<tr>
<td>business_id</td>
<td>int</td>
<td>所属业务 ID</td>
</tr>
<tr>
<td>business_name</td>
<td>string</td>
<td>所属业务名称</td>
</tr>
<tr>
<td>template_id</td>
<td>int</td>
<td>创建任务所用的流程模板 ID</td>
</tr>
<tr>
<td>create_time</td>
<td>string</td>
<td>任务创建时间</td>
</tr>
<tr>
<td>create_method</td>
<td>string</td>
<td>任务创建方式</td>
</tr>
<tr>
<td>start_time</td>
<td>string</td>
<td>任务执行时间</td>
</tr>
<tr>
<td>finish_time</td>
<td>string</td>
<td>任务完成时间</td>
</tr>
<tr>
<td>elapsed_time</td>
<td>int</td>
<td>任务执行耗时(秒）</td>
</tr>
<tr>
<td>creator</td>
<td>string</td>
<td>任务创建人</td>
</tr>
<tr>
<td>executor</td>
<td>string</td>
<td>任务执行人</td>
</tr>
<tr>
<td>constants</td>
<td>dict</td>
<td>输入的全局变量，详情见下面说明</td>
</tr>
<tr>
<td>outputs</td>
<td>list</td>
<td>任务输出参数，详情见下面说明</td>
</tr>
<tr>
<td>task_url</td>
<td>str</td>
<td>任务实例链接</td>
</tr>
<tr>
<td>pipeline_tree</td>
<td>dict</td>
<td>任务实例树</td>
</tr>
</tbody>
</table>
<h4 id="dataconstantskey">data.constants.KEY</h4>
<p>全局变量 KEY，${key} 格式</p>
<h4 id="dataconstantsvalue">data.constants.VALUE</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>key</td>
<td>string</td>
<td>同 KEY</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>变量名字</td>
</tr>
<tr>
<td>index</td>
<td>int</td>
<td>变量在模板中的显示顺序</td>
</tr>
<tr>
<td>desc</td>
<td>string</td>
<td>变量说明</td>
</tr>
<tr>
<td>source_type</td>
<td>string</td>
<td>变量来源, 取值范围 custom: 自定义变量，component_inputs: 从标准插件输入参数勾选，component_outputs：从标准插件输出结果中勾选</td>
</tr>
<tr>
<td>custom_type</td>
<td>string</td>
<td>source_type=custom 时有效，自定义变量类型， 取值范围 input: 输入框，textarea: 文本框，datetime: 日期时间，int: 整数</td>
</tr>
<tr>
<td>source_tag</td>
<td>string</td>
<td>source_type=component_inputs/component_outputs 时有效，变量的来源标准插件</td>
</tr>
<tr>
<td>source_info</td>
<td>dict</td>
<td>source_type=component_inputs/component_outputs 时有效，变量的来源节点信息</td>
</tr>
</tbody>
</table>
<h4 id="dataoutputs">data.outputs[]</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>string</td>
<td>输出参数名称</td>
</tr>
<tr>
<td>value</td>
<td>string、int、bool、dict、list</td>
<td>输出参数值</td>
</tr>
<tr>
<td>key</td>
<td>string</td>
<td>输出参数 KEY</td>
</tr>
<tr>
<td>preset</td>
<td>bool</td>
<td>是否是标准插件定义中预设输出变量</td>
</tr>
</tbody>
</table>
<h4 id="datapipeline_tree">data.pipeline_tree</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>start_event</td>
<td>dict</td>
<td>开始节点信息</td>
</tr>
<tr>
<td>end_event</td>
<td>dict</td>
<td>结束节点信息</td>
</tr>
<tr>
<td>activities</td>
<td>dict</td>
<td>任务节点（原子和子流程）信息</td>
</tr>
<tr>
<td>gateways</td>
<td>dict</td>
<td>网关节点（并行网关、分支网关和汇聚网关）信息</td>
</tr>
<tr>
<td>flows</td>
<td>dict</td>
<td>顺序流（节点连线）信息</td>
</tr>
<tr>
<td>constants</td>
<td>dict</td>
<td>全局变量信息，详情见下面</td>
</tr>
<tr>
<td>outputs</td>
<td>list</td>
<td>模板输出信息，标记 constants 中的输出字段</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/sops/get_task_node_detail/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>查询任务节点执行详情</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>string</td>
<td>是</td>
<td>所属业务ID</td>
</tr>
<tr>
<td>task_id</td>
<td>string</td>
<td>是</td>
<td>任务ID</td>
</tr>
<tr>
<td>node_id</td>
<td>string</td>
<td>是</td>
<td>节点 ID</td>
</tr>
<tr>
<td>component_code</td>
<td>string</td>
<td>否</td>
<td>标准插件编码，请求标准插件执行详情必填</td>
</tr>
<tr>
<td>subprocess_stack</td>
<td>string</td>
<td>否</td>
<td>子流程堆栈，json 格式的列表</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="err">{</span>
    <span class="ss">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="ss">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="ss">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="ss">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="ss">&quot;bk_token&quot;</span><span class="p">:</span> <span class="ss">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="ss">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="ss">&quot;2&quot;</span><span class="p">,</span>
    <span class="ss">&quot;task_id&quot;</span><span class="p">:</span> <span class="ss">&quot;10&quot;</span><span class="p">,</span>
    <span class="ss">&quot;node_id&quot;</span><span class="p">:</span> <span class="ss">&quot;node0df0431f8f553925af01a94854bd&quot;</span>
    <span class="ss">&quot;subprocess_stack&quot;</span><span class="p">:</span> <span class="ss">&quot;[\&quot;</span><span class="n">nodeaaa0ce51d2143aa9b0dbc27cb7df</span><span class="err">\</span><span class="ss">&quot;]&quot;</span><span class="p">,</span>
    <span class="ss">&quot;component_code&quot;</span><span class="p">:</span> <span class="ss">&quot;job_fast_execute_script&quot;</span><span class="p">,</span>
<span class="err">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span>{
    <span class="s2">&quot;</span><span class="s">message</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>,
    <span class="s2">&quot;</span><span class="s">data</span><span class="s2">&quot;</span>: {
        <span class="s2">&quot;</span><span class="s">inputs</span><span class="s2">&quot;</span>: {
            <span class="s2">&quot;</span><span class="s">job_account</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">root</span><span class="s2">&quot;</span>,
            <span class="s2">&quot;</span><span class="s">job_script_timeout</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>,
            <span class="s2">&quot;</span><span class="s">job_script_source</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">manual</span><span class="s2">&quot;</span>,
            <span class="s2">&quot;</span><span class="s">job_script_list_public</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>,
            <span class="s2">&quot;</span><span class="s">job_content</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">echo 0</span><span class="se">\n</span><span class="s">exit 0</span><span class="s2">&quot;</span>,
            <span class="s2">&quot;</span><span class="s">job_script_type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">1</span><span class="s2">&quot;</span>,
            <span class="s2">&quot;</span><span class="s">job_script_param</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>,
            <span class="s2">&quot;</span><span class="s">job_script_list_general</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>,
            <span class="s2">&quot;</span><span class="s">job_ip_list</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">127.0.0.1</span><span class="s2">&quot;</span>
        },
        <span class="s2">&quot;</span><span class="s">retry</span><span class="s2">&quot;</span>: <span class="mi">0</span>,
        <span class="s2">&quot;</span><span class="s">name</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">&lt;class </span><span class="s2">&quot;</span><span class="nv">pipeline</span>.<span class="nv">core</span>.<span class="nv">flow</span>.<span class="nv">activity</span>.<span class="nv">ServiceActivity</span><span class="s2">&quot;</span><span class="s">&gt;</span><span class="s2">&quot;</span>,
        <span class="s2">&quot;</span><span class="s">finish_time</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">2019-01-17 22:02:46 +0800</span><span class="s2">&quot;</span>,
        <span class="s2">&quot;</span><span class="s">skip</span><span class="s2">&quot;</span>: <span class="nv">false</span>,
        <span class="s2">&quot;</span><span class="s">start_time</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">2019-01-17 22:02:37 +0800</span><span class="s2">&quot;</span>,
        <span class="s2">&quot;</span><span class="s">children</span><span class="s2">&quot;</span>: {},
        <span class="s2">&quot;</span><span class="s">histories</span><span class="s2">&quot;</span>: [],
        <span class="s2">&quot;</span><span class="s">ex_data</span><span class="s2">&quot;</span>: <span class="nv">null</span>,
        <span class="s2">&quot;</span><span class="s">elapsed_time</span><span class="s2">&quot;</span>: <span class="mi">9</span>,
        <span class="s2">&quot;</span><span class="s">outputs</span><span class="s2">&quot;</span>: [
            {
                <span class="s2">&quot;</span><span class="s">value</span><span class="s2">&quot;</span>: <span class="mi">407584</span>,
                <span class="s2">&quot;</span><span class="s">name</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">JOB任务ID</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">key</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">job_inst_id</span><span class="s2">&quot;</span>
            },
            {
                <span class="s2">&quot;</span><span class="s">value</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>,
                <span class="s2">&quot;</span><span class="s">name</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">JOB任务链接</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">key</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">job_inst_url</span><span class="s2">&quot;</span>
            },
            {
                <span class="s2">&quot;</span><span class="s">value</span><span class="s2">&quot;</span>: <span class="nv">true</span>,
                <span class="s2">&quot;</span><span class="s">name</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">执行结果</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">key</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">_result</span><span class="s2">&quot;</span>
            }
        ],
        <span class="s2">&quot;</span><span class="s">state</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">FINISHED</span><span class="s2">&quot;</span>,
        <span class="s2">&quot;</span><span class="s">version</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">23ac8c29f62b3337aafcf1f538d277f8</span><span class="s2">&quot;</span>,
        <span class="s2">&quot;</span><span class="s">error_ignorable</span><span class="s2">&quot;</span>: <span class="nv">false</span>,
        <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">node0df0431f8f553925af01a94854bd</span><span class="s2">&quot;</span>,
        <span class="s2">&quot;</span><span class="s">loop</span><span class="s2">&quot;</span>: <span class="mi">1</span>
    },
    <span class="s2">&quot;</span><span class="s">result</span><span class="s2">&quot;</span>: <span class="nv">true</span>
}
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>true/false 查询成功与否</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>result=true 时返回数据，详细信息见下面说明</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>result=false 时错误信息</td>
</tr>
</tbody>
</table>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>string</td>
<td>节点 ID</td>
</tr>
<tr>
<td>start_time</td>
<td>string</td>
<td>最后一次执行开始时间</td>
</tr>
<tr>
<td>finish_time</td>
<td>string</td>
<td>最后一次执行结束时间</td>
</tr>
<tr>
<td>elapsed_time</td>
<td>int</td>
<td>最后一次执行耗时，单位秒</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>最后一次执行状态，CREATED：未执行，RUNNING：执行中，FAILED：失败，NODE_SUSPENDED：暂停，SUSPENDED：成功</td>
</tr>
<tr>
<td>skip</td>
<td>bool</td>
<td>是否手动跳过</td>
</tr>
<tr>
<td>retry</td>
<td>int</td>
<td>重试次数</td>
</tr>
<tr>
<td>inputs</td>
<td>dict</td>
<td>输入参数，key：value格式</td>
</tr>
<tr>
<td>outputs</td>
<td>list</td>
<td>输出参数，详情见下面说明</td>
</tr>
<tr>
<td>ex_data</td>
<td>string</td>
<td>节点执行失败详情，json字符串或者HTML字符串、普通字符串</td>
</tr>
<tr>
<td>histories</td>
<td>list</td>
<td>重试记录详情，详情见下面说明</td>
</tr>
</tbody>
</table>
<h4 id="outputs">outputs[]</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>string</td>
<td>输出字段</td>
</tr>
<tr>
<td>value</td>
<td>string、int、bool、dict、list</td>
<td>输出参数值</td>
</tr>
<tr>
<td>key</td>
<td>string</td>
<td>输出参数 KEY</td>
</tr>
<tr>
<td>preset</td>
<td>bool</td>
<td>是否是标准插件定义中预设输出变量</td>
</tr>
</tbody>
</table>
<h4 id="histories">histories[]</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>start_time</td>
<td>string</td>
<td>执行开始时间</td>
</tr>
<tr>
<td>finish_time</td>
<td>string</td>
<td>执行结束时间</td>
</tr>
<tr>
<td>elapsed_time</td>
<td>int</td>
<td>执行耗时</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>执行状态，CREATED：未执行，RUNNING：执行中，FAILED：失败，NODE_SUSPENDED：暂停，SUSPENDED：成功</td>
</tr>
<tr>
<td>skip</td>
<td>bool</td>
<td>是否手动跳过</td>
</tr>
<tr>
<td>retry</td>
<td>int</td>
<td>重试次数</td>
</tr>
<tr>
<td>histories</td>
<td>list</td>
<td>重试记录详情，详情见下面说明</td>
</tr>
<tr>
<td>inputs</td>
<td>dict</td>
<td>输入参数，key：value格式</td>
</tr>
<tr>
<td>outputs</td>
<td>dict</td>
<td>输出参数，key：value格式</td>
</tr>
<tr>
<td>ex_data</td>
<td>string</td>
<td>节点执行失败详情，json字符串或者HTML字符串、普通字符串</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/sops/get_task_status/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>查询任务或任务节点执行状态</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>string</td>
<td>是</td>
<td>模板所属业务ID</td>
</tr>
<tr>
<td>task_id</td>
<td>string</td>
<td>是</td>
<td>任务或节点ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="err">{</span>
    <span class="ss">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="ss">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="ss">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="ss">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="ss">&quot;bk_token&quot;</span><span class="p">:</span> <span class="ss">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="ss">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="ss">&quot;2&quot;</span><span class="p">,</span>
    <span class="ss">&quot;task_id&quot;</span><span class="p">:</span> <span class="ss">&quot;10&quot;</span>
<span class="err">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span>{
    <span class="s2">&quot;</span><span class="s">result</span><span class="s2">&quot;</span>: <span class="nv">true</span>,
    <span class="s2">&quot;</span><span class="s">data</span><span class="s2">&quot;</span>: {
        <span class="s2">&quot;</span><span class="s">retry</span><span class="s2">&quot;</span>: <span class="mi">0</span>,
        <span class="s2">&quot;</span><span class="s">name</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">&lt;class &#39;pipeline.core.pipeline.Pipeline&#39;&gt;</span><span class="s2">&quot;</span>,
        <span class="s2">&quot;</span><span class="s">finish_time</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>,
        <span class="s2">&quot;</span><span class="s">skip</span><span class="s2">&quot;</span>: <span class="nv">false</span>,
        <span class="s2">&quot;</span><span class="s">start_time</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">2018-04-26 16:08:34 +0800</span><span class="s2">&quot;</span>,
        <span class="s2">&quot;</span><span class="s">children</span><span class="s2">&quot;</span>: {
            <span class="s2">&quot;</span><span class="s">62d4784e20483f1585149ce90ed954c9</span><span class="s2">&quot;</span>: {
                <span class="s2">&quot;</span><span class="s">retry</span><span class="s2">&quot;</span>: <span class="mi">0</span>,
                <span class="s2">&quot;</span><span class="s">name</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">&lt;class &#39;pipeline.core.flow.event.EmptyStartEvent&#39;&gt;</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">finish_time</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">2018-04-26 16:08:34 +0800</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">skip</span><span class="s2">&quot;</span>: <span class="nv">false</span>,
                <span class="s2">&quot;</span><span class="s">start_time</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">2018-04-26 16:08:34 +0800</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">children</span><span class="s2">&quot;</span>: {},
                <span class="s2">&quot;</span><span class="s">state</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">FINISHED</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">version</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">7447cc2801b630f497768493c02fb488</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">62d4784e20483f1585149ce90ed954c9</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">loop</span><span class="s2">&quot;</span>: <span class="mi">1</span>
            },
            <span class="s2">&quot;</span><span class="s">e8b128dff46637368b9b1bd921abc14e</span><span class="s2">&quot;</span>: {
                <span class="s2">&quot;</span><span class="s">retry</span><span class="s2">&quot;</span>: <span class="mi">0</span>,
                <span class="s2">&quot;</span><span class="s">name</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">&lt;class &#39;pipeline.core.flow.activity.ServiceActivity&#39;&gt;</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">finish_time</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">2018-04-26 16:08:46 +0800</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">skip</span><span class="s2">&quot;</span>: <span class="nv">false</span>,
                <span class="s2">&quot;</span><span class="s">start_time</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">2018-04-26 16:08:34 +0800</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">children</span><span class="s2">&quot;</span>: {},
                <span class="s2">&quot;</span><span class="s">state</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">FAILED</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">version</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">914d35fe7d143c2186e6d3532870b37d</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">e8b128dff46637368b9b1bd921abc14e</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">loop</span><span class="s2">&quot;</span>: <span class="mi">1</span>
            }
        },
        <span class="s2">&quot;</span><span class="s">state</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">FAILED</span><span class="s2">&quot;</span>,
        <span class="s2">&quot;</span><span class="s">version</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>,
        <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">5a1622f9f43e3429acb604e18dbd100a</span><span class="s2">&quot;</span>,
        <span class="s2">&quot;</span><span class="s">loop</span><span class="s2">&quot;</span>: <span class="mi">1</span>
    }
}
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>true/false 查询成功与否</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>result=true 时返回数据，详细信息见下面说明</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>result=false 时错误信息</td>
</tr>
</tbody>
</table>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>state</td>
<td>string</td>
<td>任务或节点状态，详细信息见下面说明</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>任务或节点执行态ID，不等于 task_id</td>
</tr>
<tr>
<td>skip</td>
<td>bool</td>
<td>是否跳过执行</td>
</tr>
<tr>
<td>retry</td>
<td>int</td>
<td>重试和跳过总次数</td>
</tr>
<tr>
<td>start_time</td>
<td>string</td>
<td>任务或节点执行开始时间</td>
</tr>
<tr>
<td>finish_time</td>
<td>string</td>
<td>任务或节点执行结束时间</td>
</tr>
<tr>
<td>children</td>
<td>dict</td>
<td>任务节点执行详情，详细信息见下面说明</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>节点名称</td>
</tr>
</tbody>
</table>
<h4 id="datastate">data.state</h4>
<table>
<thead>
<tr>
<th>返回值</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>CREATED</td>
<td>未执行</td>
</tr>
<tr>
<td>RUNNING</td>
<td>执行中</td>
</tr>
<tr>
<td>FAILED</td>
<td>失败</td>
</tr>
<tr>
<td>SUSPENDED</td>
<td>暂停</td>
</tr>
<tr>
<td>REVOKED</td>
<td>已终止</td>
</tr>
<tr>
<td>FINISHED</td>
<td>已完成</td>
</tr>
</tbody>
</table>
<h4 id="datachildrenkey">data.children.KEY</h4>
<p>任务节点执行态ID</p>
<h4 id="datachildrenvalue">data.children.VALUE</h4>
<p>同 data 格式</p><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/sops/get_template_info/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>查询业务下的单个模板详情</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>string</td>
<td>是</td>
<td>模板所属业务ID</td>
</tr>
<tr>
<td>template_id</td>
<td>string</td>
<td>是</td>
<td>模板ID</td>
</tr>
<tr>
<td>template_source</td>
<td>string</td>
<td>否</td>
<td>流程模板来源，business:默认值，业务流程，common：公共流程</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="err">{</span>
    <span class="ss">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="ss">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="ss">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="ss">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="ss">&quot;bk_token&quot;</span><span class="p">:</span> <span class="ss">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="ss">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="ss">&quot;1&quot;</span><span class="p">,</span>
    <span class="ss">&quot;template_id&quot;</span><span class="p">:</span> <span class="ss">&quot;30&quot;</span><span class="p">,</span>
    <span class="ss">&quot;template_source&quot;</span><span class="p">:</span> <span class="ss">&quot;business&quot;</span><span class="p">,</span>
<span class="err">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span>{
    <span class="s2">&quot;</span><span class="s">result</span><span class="s2">&quot;</span>: <span class="nv">true</span>,
    <span class="s2">&quot;</span><span class="s">data</span><span class="s2">&quot;</span>: {
        <span class="s2">&quot;</span><span class="s">category</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">Other</span><span class="s2">&quot;</span>,
        <span class="s2">&quot;</span><span class="s">edit_time</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">2018-04-27 16:24:24 +0800</span><span class="s2">&quot;</span>,
        <span class="s2">&quot;</span><span class="s">create_time</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">2018-04-16 21:43:15 +0800</span><span class="s2">&quot;</span>,
        <span class="s2">&quot;</span><span class="s">name</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">new20180416213944</span><span class="s2">&quot;</span>,
        <span class="s2">&quot;</span><span class="s">bk_biz_id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">2</span><span class="s2">&quot;</span>,
        <span class="s2">&quot;</span><span class="s">creator</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">admin</span><span class="s2">&quot;</span>,
        <span class="s2">&quot;</span><span class="s">pipeline_tree</span><span class="s2">&quot;</span>: {
            <span class="s2">&quot;</span><span class="s">activities</span><span class="s2">&quot;</span>: {
                <span class="s2">&quot;</span><span class="s">631b6576cc5dfbdcaa4f510ce88a7e67</span><span class="s2">&quot;</span>: {
                    <span class="s2">&quot;</span><span class="s">outgoing</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">44ab36ebf4cf119edaf2d20401da87e4</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">incoming</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">fb2f3a8b533ca5c67e2440b4164f7632</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">name</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">节点_1</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">error_ignorable</span><span class="s2">&quot;</span>: <span class="nv">false</span>,
                    <span class="s2">&quot;</span><span class="s">component</span><span class="s2">&quot;</span>: {
                        <span class="s2">&quot;</span><span class="s">code</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">job_fast_execute_script</span><span class="s2">&quot;</span>,
                        <span class="s2">&quot;</span><span class="s">data</span><span class="s2">&quot;</span>: {
                            <span class="s2">&quot;</span><span class="s">account</span><span class="s2">&quot;</span>: {
                                <span class="s2">&quot;</span><span class="s">hook</span><span class="s2">&quot;</span>: <span class="nv">false</span>,
                                <span class="s2">&quot;</span><span class="s">value</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">root</span><span class="s2">&quot;</span>
                            },
                            <span class="s2">&quot;</span><span class="s">ip_list</span><span class="s2">&quot;</span>: {
                                <span class="s2">&quot;</span><span class="s">hook</span><span class="s2">&quot;</span>: <span class="nv">false</span>,
                                <span class="s2">&quot;</span><span class="s">value</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">127.0.0.1</span><span class="s2">&quot;</span>
                            },
                            <span class="s2">&quot;</span><span class="s">script_timeout</span><span class="s2">&quot;</span>: {
                                <span class="s2">&quot;</span><span class="s">hook</span><span class="s2">&quot;</span>: <span class="nv">true</span>,
                                <span class="s2">&quot;</span><span class="s">value</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">${script_timeout}</span><span class="s2">&quot;</span>
                            },
                            <span class="s2">&quot;</span><span class="s">content</span><span class="s2">&quot;</span>: {
                                <span class="s2">&quot;</span><span class="s">hook</span><span class="s2">&quot;</span>: <span class="nv">false</span>,
                                <span class="s2">&quot;</span><span class="s">value</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">${content}</span><span class="s2">&quot;</span>
                            },
                            <span class="s2">&quot;</span><span class="s">script_param</span><span class="s2">&quot;</span>: {
                                <span class="s2">&quot;</span><span class="s">hook</span><span class="s2">&quot;</span>: <span class="nv">false</span>,
                                <span class="s2">&quot;</span><span class="s">value</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">${params}</span><span class="s2">&quot;</span>
                            },
                            <span class="s2">&quot;</span><span class="s">script_type</span><span class="s2">&quot;</span>: {
                                <span class="s2">&quot;</span><span class="s">hook</span><span class="s2">&quot;</span>: <span class="nv">true</span>,
                                <span class="s2">&quot;</span><span class="s">value</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">${script_type}</span><span class="s2">&quot;</span>
                            }
                        }
                    },
                    <span class="s2">&quot;</span><span class="s">optional</span><span class="s2">&quot;</span>: <span class="nv">false</span>,
                    <span class="s2">&quot;</span><span class="s">type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">ServiceActivity</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">631b6576cc5dfbdcaa4f510ce88a7e67</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">loop</span><span class="s2">&quot;</span>: <span class="nv">null</span>
                }
            },
            <span class="s2">&quot;</span><span class="s">end_event</span><span class="s2">&quot;</span>: {
                <span class="s2">&quot;</span><span class="s">type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">EmptyEndEvent</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">outgoing</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>,
                <span class="s2">&quot;</span><span class="s">incoming</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">44ab36ebf4cf119edaf2d20401da87e4</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">60c81e383d048d8a3c574d3436e1b82c</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">name</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>
            },
            <span class="s2">&quot;</span><span class="s">outputs</span><span class="s2">&quot;</span>: [],
            <span class="s2">&quot;</span><span class="s">flows</span><span class="s2">&quot;</span>: {
                <span class="s2">&quot;</span><span class="s">fb2f3a8b533ca5c67e2440b4164f7632</span><span class="s2">&quot;</span>: {
                    <span class="s2">&quot;</span><span class="s">is_default</span><span class="s2">&quot;</span>: <span class="nv">false</span>,
                    <span class="s2">&quot;</span><span class="s">source</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">48afea1016ab70ee37179fa0eb1e1a14</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">fb2f3a8b533ca5c67e2440b4164f7632</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">target</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">631b6576cc5dfbdcaa4f510ce88a7e67</span><span class="s2">&quot;</span>
                },
                <span class="s2">&quot;</span><span class="s">44ab36ebf4cf119edaf2d20401da87e4</span><span class="s2">&quot;</span>: {
                    <span class="s2">&quot;</span><span class="s">is_default</span><span class="s2">&quot;</span>: <span class="nv">false</span>,
                    <span class="s2">&quot;</span><span class="s">source</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">631b6576cc5dfbdcaa4f510ce88a7e67</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">44ab36ebf4cf119edaf2d20401da87e4</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">target</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">60c81e383d048d8a3c574d3436e1b82c</span><span class="s2">&quot;</span>
                }
            },
            <span class="s2">&quot;</span><span class="s">start_event</span><span class="s2">&quot;</span>: {
                <span class="s2">&quot;</span><span class="s">type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">EmptyStartEvent</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">outgoing</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">fb2f3a8b533ca5c67e2440b4164f7632</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">incoming</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>,
                <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">48afea1016ab70ee37179fa0eb1e1a14</span><span class="s2">&quot;</span>,
                <span class="s2">&quot;</span><span class="s">name</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>
            },
            <span class="s2">&quot;</span><span class="s">constants</span><span class="s2">&quot;</span>: {
                <span class="s2">&quot;</span><span class="s">${script_type}</span><span class="s2">&quot;</span>: {
                    <span class="s2">&quot;</span><span class="s">source_tag</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">job_fast_execute_script.script_type</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">source_info</span><span class="s2">&quot;</span>: {
                        <span class="s2">&quot;</span><span class="s">631b6576cc5dfbdcaa4f510ce88a7e67</span><span class="s2">&quot;</span>: [
                            <span class="s2">&quot;</span><span class="s">script_type</span><span class="s2">&quot;</span>
                        ]
                    },
                    <span class="s2">&quot;</span><span class="s">name</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">脚本类型</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">index</span><span class="s2">&quot;</span>: <span class="mi">0</span>,
                    <span class="s2">&quot;</span><span class="s">custom_type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">radio</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">value</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">4</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">show_type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">show</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">source_type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">component_inputs</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">key</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">${script_type}</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">validation</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">^.*$</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">desc</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>
                },
                <span class="s2">&quot;</span><span class="s">${content}</span><span class="s2">&quot;</span>: {
                    <span class="s2">&quot;</span><span class="s">source_tag</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">source_info</span><span class="s2">&quot;</span>: {},
                    <span class="s2">&quot;</span><span class="s">name</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">内容</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">index</span><span class="s2">&quot;</span>: <span class="mi">2</span>,
                    <span class="s2">&quot;</span><span class="s">custom_type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">textarea</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">value</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">show_type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">show</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">source_type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">custom</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">key</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">${content}</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">desc</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>
                },
                <span class="s2">&quot;</span><span class="s">${script_timeout}</span><span class="s2">&quot;</span>: {
                    <span class="s2">&quot;</span><span class="s">source_tag</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">job_fast_execute_script.script_timeout</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">source_info</span><span class="s2">&quot;</span>: {
                        <span class="s2">&quot;</span><span class="s">631b6576cc5dfbdcaa4f510ce88a7e67</span><span class="s2">&quot;</span>: [
                            <span class="s2">&quot;</span><span class="s">script_timeout</span><span class="s2">&quot;</span>
                        ]
                    },
                    <span class="s2">&quot;</span><span class="s">name</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">超时时间</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">index</span><span class="s2">&quot;</span>: <span class="mi">1</span>,
                    <span class="s2">&quot;</span><span class="s">custom_type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">input</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">value</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">show_type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">show</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">source_type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">component_inputs</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">key</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">${script_timeout}</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">validation</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">^.*$</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">desc</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>
                },
                <span class="s2">&quot;</span><span class="s">${params}</span><span class="s2">&quot;</span>: {
                    <span class="s2">&quot;</span><span class="s">source_tag</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">source_info</span><span class="s2">&quot;</span>: {},
                    <span class="s2">&quot;</span><span class="s">name</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">参数</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">index</span><span class="s2">&quot;</span>: <span class="mi">3</span>,
                    <span class="s2">&quot;</span><span class="s">custom_type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">input</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">value</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">show_type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">show</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">source_type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">custom</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">key</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">${params}</span><span class="s2">&quot;</span>,
                    <span class="s2">&quot;</span><span class="s">desc</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>
                }
            },
            <span class="s2">&quot;</span><span class="s">gateways</span><span class="s2">&quot;</span>: {}
        },
        <span class="s2">&quot;</span><span class="s">bk_biz_name</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">蓝鲸</span><span class="s2">&quot;</span>,
        <span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="mi">30</span>,
        <span class="s2">&quot;</span><span class="s">editor</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">admin</span><span class="s2">&quot;</span>
    },
}
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>true/false 查询成功与否</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>result=true 时模板详情，详细信息见下面说明</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>result=false 时错误信息</td>
</tr>
</tbody>
</table>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>string</td>
<td>模板所属业务ID</td>
</tr>
<tr>
<td>bk_biz_name</td>
<td>string</td>
<td>模板所属业务名称</td>
</tr>
<tr>
<td>id</td>
<td>int</td>
<td>模板ID</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>模板名称</td>
</tr>
<tr>
<td>category</td>
<td>string</td>
<td>模板分类，分类信息见下面说明</td>
</tr>
<tr>
<td>creator</td>
<td>string</td>
<td>模板创建人</td>
</tr>
<tr>
<td>create_time</td>
<td>string</td>
<td>模板创建时间</td>
</tr>
<tr>
<td>editor</td>
<td>string 或者 null</td>
<td>模板编辑人</td>
</tr>
<tr>
<td>edit_time</td>
<td>string</td>
<td>模板最新编辑时间</td>
</tr>
<tr>
<td>pipeline_tree</td>
<td>dict</td>
<td>模板任务树信息，详细信息见下面说明</td>
</tr>
</tbody>
</table>
<h4 id="datacategory">data.category</h4>
<table>
<thead>
<tr>
<th>返回值</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>OpsTools</td>
<td>运维工具</td>
</tr>
<tr>
<td>MonitorAlarm</td>
<td>监控告警</td>
</tr>
<tr>
<td>ConfManage</td>
<td>配置管理</td>
</tr>
<tr>
<td>DevTools</td>
<td>开发工具</td>
</tr>
<tr>
<td>EnterpriseIT</td>
<td>企业IT</td>
</tr>
<tr>
<td>OfficeApp</td>
<td>办公应用</td>
</tr>
<tr>
<td>Other</td>
<td>其它</td>
</tr>
</tbody>
</table>
<h4 id="datapipeline_tree">data.pipeline_tree</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>start_event</td>
<td>dict</td>
<td>开始节点信息</td>
</tr>
<tr>
<td>end_event</td>
<td>dict</td>
<td>结束节点信息</td>
</tr>
<tr>
<td>activities</td>
<td>dict</td>
<td>任务节点（原子和子流程）信息</td>
</tr>
<tr>
<td>gateways</td>
<td>dict</td>
<td>网关节点（并行网关、分支网关和汇聚网关）信息</td>
</tr>
<tr>
<td>flows</td>
<td>dict</td>
<td>顺序流（节点连线）信息</td>
</tr>
<tr>
<td>constants</td>
<td>dict</td>
<td>全局变量信息，详情见下面</td>
</tr>
<tr>
<td>outputs</td>
<td>list</td>
<td>模板输出信息，标记 constants 中的输出字段</td>
</tr>
</tbody>
</table>
<h4 id="datapipeline_treeconstantskey">data.pipeline_tree.constants.KEY</h4>
<p>全局变量 KEY，${key} 格式</p>
<h4 id="datapipeline_treeconstantsvalue">data.pipeline_tree.constants.VALUE</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>key</td>
<td>string</td>
<td>同 KEY</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>变量名字</td>
</tr>
<tr>
<td>index</td>
<td>int</td>
<td>变量在模板中的显示顺序</td>
</tr>
<tr>
<td>desc</td>
<td>string</td>
<td>变量说明</td>
</tr>
<tr>
<td>source_type</td>
<td>string</td>
<td>变量来源, 取值范围 custom: 自定义变量，component_inputs: 从原子输入参数勾选，component_outputs：从原子输出结果中勾选</td>
</tr>
<tr>
<td>custom_type</td>
<td>string</td>
<td>source_type=custom 时有效，自定义变量类型， 取值范围 input: 输入框，textarea: 文本框，datetime: 日期时间，int: 整数</td>
</tr>
<tr>
<td>source_tag</td>
<td>string</td>
<td>source_type=component_inputs或component_outputs 时有效，变量的来源原子</td>
</tr>
<tr>
<td>source_info</td>
<td>dict</td>
<td>source_type=component_inputs或component_outputs 时有效，变量的来源节点信息</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/sops/get_template_list/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>查询业务下的模板列表</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>string</td>
<td>是</td>
<td>模板所属业务ID</td>
</tr>
<tr>
<td>template_source</td>
<td>string</td>
<td>否</td>
<td>流程模板来源，business:默认值，业务流程，common：公共流程</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="err">{</span>
    <span class="ss">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="ss">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="ss">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="ss">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="ss">&quot;bk_token&quot;</span><span class="p">:</span> <span class="ss">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="ss">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="ss">&quot;2&quot;</span><span class="p">,</span>
    <span class="ss">&quot;template_source&quot;</span><span class="p">:</span> <span class="ss">&quot;business&quot;</span><span class="p">,</span>
<span class="err">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="err">{</span>
    <span class="ss">&quot;result&quot;</span><span class="p">:</span> <span class="k">true</span><span class="p">,</span>
    <span class="ss">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="err">{</span>
            <span class="ss">&quot;category&quot;</span><span class="p">:</span> <span class="ss">&quot;Other&quot;</span><span class="p">,</span>
            <span class="ss">&quot;edit_time&quot;</span><span class="p">:</span> <span class="ss">&quot;2018-04-23 17:30:48 +0800&quot;</span><span class="p">,</span>
            <span class="ss">&quot;create_time&quot;</span><span class="p">:</span> <span class="ss">&quot;2018-04-23 17:26:40 +0800&quot;</span><span class="p">,</span>
            <span class="ss">&quot;name&quot;</span><span class="p">:</span> <span class="ss">&quot;快速执行脚本&quot;</span><span class="p">,</span>
            <span class="ss">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="ss">&quot;2&quot;</span><span class="p">,</span>
            <span class="ss">&quot;creator&quot;</span><span class="p">:</span> <span class="ss">&quot;admin&quot;</span><span class="p">,</span>
            <span class="ss">&quot;bk_biz_name&quot;</span><span class="p">:</span> <span class="ss">&quot;蓝鲸&quot;</span><span class="p">,</span>
            <span class="ss">&quot;id&quot;</span><span class="p">:</span> <span class="mi">32</span><span class="p">,</span>
            <span class="ss">&quot;editor&quot;</span><span class="p">:</span> <span class="ss">&quot;admin&quot;</span>
        <span class="err">}</span><span class="p">,</span>
        <span class="err">{</span>
            <span class="ss">&quot;category&quot;</span><span class="p">:</span> <span class="ss">&quot;Other&quot;</span><span class="p">,</span>
            <span class="ss">&quot;edit_time&quot;</span><span class="p">:</span> <span class="ss">&quot;2018-04-19 12:04:42 +0800&quot;</span><span class="p">,</span>
            <span class="ss">&quot;create_time&quot;</span><span class="p">:</span> <span class="ss">&quot;2018-04-19 12:04:42 +0800&quot;</span><span class="p">,</span>
            <span class="ss">&quot;name&quot;</span><span class="p">:</span> <span class="ss">&quot;new201804191218&quot;</span><span class="p">,</span>
            <span class="ss">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="ss">&quot;2&quot;</span><span class="p">,</span>
            <span class="ss">&quot;creator&quot;</span><span class="p">:</span> <span class="ss">&quot;admin&quot;</span><span class="p">,</span>
            <span class="ss">&quot;bk_biz_name&quot;</span><span class="p">:</span> <span class="ss">&quot;蓝鲸&quot;</span><span class="p">,</span>
            <span class="ss">&quot;id&quot;</span><span class="p">:</span> <span class="mi">31</span><span class="p">,</span>
            <span class="ss">&quot;editor&quot;</span><span class="p">:</span> <span class="k">null</span>
        <span class="err">}</span><span class="p">,</span>
        <span class="err">{</span>
            <span class="ss">&quot;category&quot;</span><span class="p">:</span> <span class="ss">&quot;Other&quot;</span><span class="p">,</span>
            <span class="ss">&quot;edit_time&quot;</span><span class="p">:</span> <span class="ss">&quot;2018-04-18 17:09:39 +0800&quot;</span><span class="p">,</span>
            <span class="ss">&quot;create_time&quot;</span><span class="p">:</span> <span class="ss">&quot;2018-04-16 21:43:15 +0800&quot;</span><span class="p">,</span>
            <span class="ss">&quot;name&quot;</span><span class="p">:</span> <span class="ss">&quot;new20180416213944&quot;</span><span class="p">,</span>
            <span class="ss">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="ss">&quot;2&quot;</span><span class="p">,</span>
            <span class="ss">&quot;creator&quot;</span><span class="p">:</span> <span class="ss">&quot;admin&quot;</span><span class="p">,</span>
            <span class="ss">&quot;bk_biz_name&quot;</span><span class="p">:</span> <span class="ss">&quot;蓝鲸&quot;</span><span class="p">,</span>
            <span class="ss">&quot;id&quot;</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span>
            <span class="ss">&quot;editor&quot;</span><span class="p">:</span> <span class="ss">&quot;admin&quot;</span>
        <span class="err">}</span><span class="p">,</span>
    <span class="p">]</span>
<span class="err">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>true/false 查询成功与否</td>
</tr>
<tr>
<td>data</td>
<td>list</td>
<td>result=true时模板列表，item 信息见下面说明</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>result=false时错误信息</td>
</tr>
</tbody>
</table>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>string</td>
<td>模板所属业务ID</td>
</tr>
<tr>
<td>bk_biz_name</td>
<td>string</td>
<td>模板所属业务名称</td>
</tr>
<tr>
<td>id</td>
<td>int</td>
<td>模板ID</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>模板名称</td>
</tr>
<tr>
<td>category</td>
<td>string</td>
<td>模板分类，分类信息见下面说明</td>
</tr>
<tr>
<td>creator</td>
<td>string</td>
<td>模板创建人</td>
</tr>
<tr>
<td>create_time</td>
<td>string</td>
<td>模板创建时间</td>
</tr>
<tr>
<td>editor</td>
<td>string 或者 null</td>
<td>模板编辑人</td>
</tr>
<tr>
<td>edit_time</td>
<td>string</td>
<td>模板最新编辑时间</td>
</tr>
</tbody>
</table>
<h4 id="datacategory">data.category</h4>
<table>
<thead>
<tr>
<th>返回值</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>OpsTools</td>
<td>运维工具</td>
</tr>
<tr>
<td>MonitorAlarm</td>
<td>监控告警</td>
</tr>
<tr>
<td>ConfManage</td>
<td>配置管理</td>
</tr>
<tr>
<td>DevTools</td>
<td>开发工具</td>
</tr>
<tr>
<td>EnterpriseIT</td>
<td>企业IT</td>
</tr>
<tr>
<td>OfficeApp</td>
<td>办公应用</td>
</tr>
<tr>
<td>Other</td>
<td>其它</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/sops/import_common_template/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>导入公共流程</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>参数类型</th>
<th>必须</th>
<th>参数说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>template_data</td>
<td>string</td>
<td>是</td>
<td>公共流程数据，即从标准运维 - 公共流程 - 导出功能下载的文件的内容</td>
</tr>
<tr>
<td>override</td>
<td>bool</td>
<td>否</td>
<td>是否覆盖 ID 相同的流程</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="err">{</span>
    <span class="ss">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="ss">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="ss">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="ss">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="ss">&quot;bk_token&quot;</span><span class="p">:</span> <span class="ss">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="ss">&quot;template_data&quot;</span><span class="p">:</span> <span class="ss">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="ss">&quot;override&quot;</span><span class="p">:</span> <span class="k">true</span><span class="p">,</span>
<span class="err">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="err">{</span>
    <span class="ss">&quot;message&quot;</span><span class="p">:</span> <span class="ss">&quot;Successfully imported 2 common flows&quot;</span><span class="p">,</span>
    <span class="ss">&quot;data&quot;</span><span class="p">:</span> <span class="err">{</span>
        <span class="ss">&quot;count&quot;</span><span class="p">:</span> <span class="mi">2</span>
    <span class="err">}</span><span class="p">,</span>
    <span class="ss">&quot;result&quot;</span><span class="p">:</span> <span class="k">true</span>
<span class="err">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>true/false 成功与否</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>result=false 时错误信息</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>返回数据</td>
</tr>
</tbody>
</table>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>count</td>
<td>int</td>
<td>导入的流程数</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/sops/modify_constants_for_periodic_task/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>修改周期任务的全局参数</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>task_id</td>
<td>string</td>
<td>是</td>
<td>周期任务ID</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>string</td>
<td>是</td>
<td>模板所属业务ID</td>
</tr>
<tr>
<td>constants</td>
<td>dict</td>
<td>否</td>
<td>任务全局参数，详细信息见下面说明</td>
</tr>
</tbody>
</table>
<h4 id="constantskey">constants.KEY</h4>
<p>变量 KEY，${key} 格式</p>
<h4 id="constantsvalue">constants.VALUE</h4>
<p>变量值</p>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span>{
    &quot;bk_app_code&quot;: &quot;esb_test&quot;,
    &quot;bk_app_secret&quot;: &quot;xxx&quot;,
    &quot;bk_token&quot;: &quot;xxx&quot;,
    &quot;bk_biz_id&quot;: &quot;2&quot;,
    &quot;task_id&quot;: &quot;8&quot;,
    &quot;constants&quot;: {&quot;<span class="cp">${</span><span class="n">bk_timing</span><span class="cp">}</span>&quot;: &quot;100&quot;},
}
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span>{
    <span class="s2">&quot;</span><span class="s">data</span><span class="s2">&quot;</span>: {
        <span class="s2">&quot;</span><span class="s">${bk_timing}</span><span class="s2">&quot;</span>: {
            <span class="s2">&quot;</span><span class="s">source_tag</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">sleep_timer.bk_timing</span><span class="s2">&quot;</span>,
            <span class="s2">&quot;</span><span class="s">source_info</span><span class="s2">&quot;</span>: {
                <span class="s2">&quot;</span><span class="s">node76393dcfedcf73dbc726f1c4786d</span><span class="s2">&quot;</span>: [
                    <span class="s2">&quot;</span><span class="s">bk_timing</span><span class="s2">&quot;</span>
                ]
            },
            <span class="s2">&quot;</span><span class="s">name</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">定时时间</span><span class="s2">&quot;</span>,
            <span class="s2">&quot;</span><span class="s">custom_type</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>,
            <span class="s2">&quot;</span><span class="s">index</span><span class="s2">&quot;</span>: <span class="mi">0</span>,
            <span class="s2">&quot;</span><span class="s">value</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">15</span><span class="s2">&quot;</span>,
            <span class="s2">&quot;</span><span class="s">show_type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">show</span><span class="s2">&quot;</span>,
            <span class="s2">&quot;</span><span class="s">source_type</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">component_inputs</span><span class="s2">&quot;</span>,
            <span class="s2">&quot;</span><span class="s">key</span><span class="s2">&quot;</span>: <span class="s2">&quot;</span><span class="s">${bk_timing}</span><span class="s2">&quot;</span>,
            <span class="s2">&quot;</span><span class="s">validation</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>,
            <span class="s2">&quot;</span><span class="s">desc</span><span class="s2">&quot;</span>: <span class="s2">&quot;&quot;</span>
        }
    },
    <span class="s2">&quot;</span><span class="s">result</span><span class="s2">&quot;</span>: <span class="nv">true</span>
}
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>true/false 操作是否成功</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>result=true 时成功数据，详细信息请见下面说明</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>result=false 时错误信息</td>
</tr>
</tbody>
</table>
<h4 id="datakey">data.KEY</h4>
<p>全局变量 KEY，${key} 格式</p>
<h4 id="datavalue">data.VALUE</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>key</td>
<td>string</td>
<td>同 KEY</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>变量名字</td>
</tr>
<tr>
<td>index</td>
<td>int</td>
<td>变量在模板中的显示顺序</td>
</tr>
<tr>
<td>desc</td>
<td>string</td>
<td>变量说明</td>
</tr>
<tr>
<td>source_type</td>
<td>string</td>
<td>变量来源, 取值范围 custom: 自定义变量，component_inputs: 从原子输入参数勾选，component_outputs：从原子输出结果中勾选</td>
</tr>
<tr>
<td>custom_type</td>
<td>string</td>
<td>source_type=custom 时有效，自定义变量类型， 取值范围 input: 输入框，textarea: 文本框，datetime: 日期时间，int: 整数</td>
</tr>
<tr>
<td>source_tag</td>
<td>string</td>
<td>source_type=component_inputs/component_outputs 时有效，变量的来源原子</td>
</tr>
<tr>
<td>source_info</td>
<td>dict</td>
<td>source_type=component_inputs/component_outputs 时有效，变量的来源节点信息</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/sops/modify_cron_for_periodic_task/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>修改周期任务的调度策略</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>task_id</td>
<td>string</td>
<td>是</td>
<td>周期任务ID</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>string</td>
<td>是</td>
<td>模板所属业务ID</td>
</tr>
<tr>
<td>cron</td>
<td>dict</td>
<td>否</td>
<td>调度策略对象</td>
</tr>
</tbody>
</table>
<h4 id="cron">cron</h4>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>参数类型</th>
<th>必须</th>
<th>参数说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>minute</td>
<td>string</td>
<td>否</td>
<td>分，默认为 *</td>
</tr>
<tr>
<td>hour</td>
<td>string</td>
<td>否</td>
<td>时，默认为 *</td>
</tr>
<tr>
<td>day_of_week</td>
<td>string</td>
<td>否</td>
<td>一周内的某些天，默认为 *</td>
</tr>
<tr>
<td>day_of_month</td>
<td>string</td>
<td>否</td>
<td>一个月中的某些天，默认为 *</td>
</tr>
<tr>
<td>month_of_year</td>
<td>string</td>
<td>否</td>
<td>一年中的某些月份，默认为 *</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="err">{</span>
    <span class="ss">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="ss">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="ss">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="ss">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="ss">&quot;bk_token&quot;</span><span class="p">:</span> <span class="ss">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="ss">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="ss">&quot;2&quot;</span><span class="p">,</span>
    <span class="ss">&quot;task_id&quot;</span><span class="p">:</span> <span class="ss">&quot;8&quot;</span><span class="p">,</span>
    <span class="ss">&quot;cron&quot;</span> <span class="p">:</span> <span class="err">{</span><span class="ss">&quot;minute&quot;</span><span class="p">:</span> <span class="ss">&quot;*/1&quot;</span><span class="p">,</span> <span class="ss">&quot;hour&quot;</span><span class="p">:</span> <span class="ss">&quot;15&quot;</span><span class="p">,</span> <span class="ss">&quot;day_of_week&quot;</span><span class="p">:</span><span class="ss">&quot;*&quot;</span><span class="p">,</span> <span class="ss">&quot;day_of_month&quot;</span><span class="p">:</span><span class="ss">&quot;*&quot;</span><span class="p">,</span> <span class="ss">&quot;month_of_year&quot;</span><span class="p">:</span><span class="ss">&quot;*&quot;</span><span class="err">}</span><span class="p">,</span>
<span class="err">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="err">{</span>
    <span class="ss">&quot;data&quot;</span><span class="p">:</span> <span class="err">{</span>
        <span class="ss">&quot;cron&quot;</span><span class="p">:</span> <span class="ss">&quot;*/1 15 * * * (m/h/d/dM/MY)&quot;</span>
    <span class="err">}</span><span class="p">,</span>
    <span class="ss">&quot;result&quot;</span><span class="p">:</span> <span class="k">true</span>
<span class="err">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>true/false 操作是否成功</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>result=true 时成功数据，详细信息请见下面说明</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>result=false 时错误信息</td>
</tr>
</tbody>
</table>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>cron</td>
<td>string</td>
<td>调度策略表达式</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/sops/node_callback/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>回调指定的节点</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>参数类型</th>
<th>必须</th>
<th>参数说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>string</td>
<td>是</td>
<td>所属业务ID</td>
</tr>
<tr>
<td>task_id</td>
<td>string</td>
<td>是</td>
<td>任务ID</td>
</tr>
<tr>
<td>node_id</td>
<td>string</td>
<td>是</td>
<td>节点 ID</td>
</tr>
<tr>
<td>callback_data</td>
<td>dict</td>
<td>否</td>
<td>回调数据</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;app_code&quot;</span><span class="p">:</span> <span class="s2">&quot;app_code&quot;</span><span class="p">,</span>
    <span class="s2">&quot;app_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;app_secret&quot;</span><span class="p">,</span>
    <span class="s2">&quot;access_token&quot;</span><span class="p">:</span> <span class="s2">&quot;access_token&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span>
    <span class="s2">&quot;task_id&quot;</span><span class="p">:</span> <span class="s2">&quot;10&quot;</span><span class="p">,</span>
    <span class="s2">&quot;node_id&quot;</span><span class="p">:</span> <span class="s2">&quot;node0df0431f8f553925af01a94854bd&quot;</span><span class="p">,</span>
    <span class="s2">&quot;callback_data&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="s2">&quot;data&quot;</span><span class="p">},</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;http://{stageVariables.domain}/apigw/node_callback/10/2/&quot;</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="err">{</span>
    <span class="ss">&quot;message&quot;</span><span class="p">:</span> <span class="ss">&quot;success&quot;</span><span class="p">,</span>
    <span class="ss">&quot;result&quot;</span><span class="p">:</span> <span class="k">true</span>
<span class="err">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>true/false 成功与否</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>result=false 时错误信息</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/sops/operate_task/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>操作任务，如开始、暂停、继续、终止等</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>string</td>
<td>是</td>
<td>模板所属业务ID</td>
</tr>
<tr>
<td>task_id</td>
<td>string</td>
<td>是</td>
<td>任务ID</td>
</tr>
<tr>
<td>action</td>
<td>string</td>
<td>是</td>
<td>操作类型</td>
</tr>
</tbody>
</table>
<h4 id="action">action</h4>
<table>
<thead>
<tr>
<th>值</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>start</td>
<td>开始任务，等效于调用 start_task 接口</td>
</tr>
<tr>
<td>pause</td>
<td>暂停任务，任务处于执行状态时调用</td>
</tr>
<tr>
<td>resume</td>
<td>继续任务，任务处于暂停状态时调用</td>
</tr>
<tr>
<td>revoke</td>
<td>终止任务</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="err">{</span>
    <span class="ss">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="ss">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="ss">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="ss">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="ss">&quot;bk_token&quot;</span><span class="p">:</span> <span class="ss">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="ss">&quot;action&quot;</span><span class="p">:</span> <span class="ss">&quot;start&quot;</span><span class="p">,</span>
    <span class="ss">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="ss">&quot;2&quot;</span><span class="p">,</span>
    <span class="ss">&quot;task_id&quot;</span><span class="p">:</span> <span class="ss">&quot;10&quot;</span>
<span class="err">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="err">{</span>
    <span class="ss">&quot;result&quot;</span><span class="p">:</span> <span class="k">true</span><span class="p">,</span>
    <span class="ss">&quot;data&quot;</span><span class="p">:</span> <span class="err">{}</span>
<span class="err">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>true/false 操作是否成功</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>result=true 时返回数据</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>result=false 时错误信息</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/sops/query_task_count/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>查询任务实例分类统计总数</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>string</td>
<td>是</td>
<td>模板所属业务ID</td>
</tr>
<tr>
<td>group_by</td>
<td>string</td>
<td>是</td>
<td>分类统计维度，status：按任务状态（未执行、执行中、已完成）统计，category：按照任务类型统计，flow_type：按照流程类型统计，create_method：按照创建方式</td>
</tr>
<tr>
<td>conditions</td>
<td>dict</td>
<td>否</td>
<td>任务过滤条件</td>
</tr>
</tbody>
</table>
<h4 id="conditions">conditions</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>template_id</td>
<td>string</td>
<td>创建任务的模板ID</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>任务名称</td>
</tr>
<tr>
<td>creator</td>
<td>string</td>
<td>创建人</td>
</tr>
<tr>
<td>create_time__gte</td>
<td>string</td>
<td>任务创建时间起始时间</td>
</tr>
<tr>
<td>create_time__lte</td>
<td>string</td>
<td>任务创建时间截止时间</td>
</tr>
<tr>
<td>executor</td>
<td>string</td>
<td>执行人</td>
</tr>
<tr>
<td>start_time__gte</td>
<td>string</td>
<td>任务执行时间起始时间</td>
</tr>
<tr>
<td>start_time__lte</td>
<td>string</td>
<td>任务执行时间截止时间</td>
</tr>
<tr>
<td>is_started</td>
<td>bool</td>
<td>任务是否启动</td>
</tr>
<tr>
<td>is_finished</td>
<td>bool</td>
<td>任务是否完成</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="err">{</span>
    <span class="ss">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="ss">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="ss">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="ss">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="ss">&quot;bk_token&quot;</span><span class="p">:</span> <span class="ss">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="ss">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="ss">&quot;2&quot;</span><span class="p">,</span>
    <span class="ss">&quot;conditions&quot;</span><span class="p">:</span> <span class="err">{</span>
        <span class="ss">&quot;create_time__lte&quot;</span><span class="p">:</span> <span class="ss">&quot;2018-07-12 10:00:00&quot;</span><span class="p">,</span>
        <span class="ss">&quot;is_started&quot;</span><span class="p">:</span> <span class="k">true</span>
    <span class="err">}</span><span class="p">,</span>
    <span class="ss">&quot;group_by&quot;</span><span class="p">:</span> <span class="ss">&quot;flow_type&quot;</span>
<span class="err">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="err">{</span>
    <span class="ss">&quot;data&quot;</span><span class="p">:</span> <span class="err">{</span>
        <span class="ss">&quot;total&quot;</span><span class="p">:</span> <span class="mi">180</span><span class="p">,</span>
        <span class="ss">&quot;groups&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="err">{</span>
                <span class="ss">&quot;code&quot;</span><span class="p">:</span> <span class="ss">&quot;common&quot;</span><span class="p">,</span>
                <span class="ss">&quot;name&quot;</span><span class="p">:</span> <span class="ss">&quot;默认任务流程&quot;</span><span class="p">,</span>
                <span class="ss">&quot;value&quot;</span><span class="p">:</span> <span class="mi">166</span>
            <span class="err">}</span><span class="p">,</span>
            <span class="err">{</span>
                <span class="ss">&quot;code&quot;</span><span class="p">:</span> <span class="ss">&quot;common_func&quot;</span><span class="p">,</span>
                <span class="ss">&quot;name&quot;</span><span class="p">:</span> <span class="ss">&quot;职能化任务流程&quot;</span><span class="p">,</span>
                <span class="ss">&quot;value&quot;</span><span class="p">:</span> <span class="mi">14</span>
            <span class="err">}</span>
        <span class="p">]</span>
    <span class="err">}</span><span class="p">,</span>
    <span class="ss">&quot;result&quot;</span><span class="p">:</span> <span class="k">true</span>
<span class="err">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>true/false 操作是否成功</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>result=true 时返回分类统计信息，详细信息见下面说明</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>result=false 时错误信息</td>
</tr>
</tbody>
</table>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>total</td>
<td>int</td>
<td>按照过滤条件获取的任务总数</td>
</tr>
<tr>
<td>groups</td>
<td>list</td>
<td>按照过滤条件分类分类统计详情</td>
</tr>
</tbody>
</table>
<h4 id="datagroups">data.groups[]</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>code</td>
<td>string</td>
<td>分类统计类型编码</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>分类统计类型名称</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>当前分类任务数量</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/sops/set_periodic_task_enabled/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>设置某个周期任务是否激活</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>task_id</td>
<td>string</td>
<td>是</td>
<td>周期任务ID</td>
</tr>
<tr>
<td>bk_biz_id</td>
<td>string</td>
<td>是</td>
<td>任务所属业务ID</td>
</tr>
<tr>
<td>enabled</td>
<td>bool</td>
<td>否</td>
<td>该周期任务是否激活，不传则为 false</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="err">{</span>
    <span class="ss">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="ss">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="ss">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="ss">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="ss">&quot;bk_token&quot;</span><span class="p">:</span> <span class="ss">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="ss">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="ss">&quot;2&quot;</span><span class="p">,</span>
    <span class="ss">&quot;task_id&quot;</span><span class="p">:</span> <span class="ss">&quot;8&quot;</span><span class="p">,</span>
    <span class="ss">&quot;enabled&quot;</span><span class="p">:</span> <span class="k">false</span>
<span class="err">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="err">{</span>
    <span class="ss">&quot;data&quot;</span><span class="p">:</span> <span class="err">{</span>
        <span class="ss">&quot;enabled&quot;</span><span class="p">:</span> <span class="k">false</span>
    <span class="err">}</span><span class="p">,</span>
    <span class="ss">&quot;result&quot;</span><span class="p">:</span> <span class="k">true</span>
<span class="err">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>true/false 操作是否成功</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>result=true 时成功数据，详细信息请见下面说明</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>result=false 时错误信息</td>
</tr>
</tbody>
</table>
<h4 id="data">data</h4>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>enabled</td>
<td>bool</td>
<td>当前周期任务是否已经激活</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/sops/start_task/</p>
<h3 id="_2">请求方法</h3>
<p>POST</p>
<h3 id="_3">功能描述</h3>
<p>开始执行任务</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token与bk_username必须一个有效，bk_token可以通过Cookie获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_biz_id</td>
<td>string</td>
<td>是</td>
<td>模板所属业务ID</td>
</tr>
<tr>
<td>task_id</td>
<td>string</td>
<td>是</td>
<td>任务ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<div class="codehilite"><pre><span></span><span class="err">{</span>
    <span class="ss">&quot;bk_app_code&quot;</span><span class="p">:</span> <span class="ss">&quot;esb_test&quot;</span><span class="p">,</span>
    <span class="ss">&quot;bk_app_secret&quot;</span><span class="p">:</span> <span class="ss">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="ss">&quot;bk_token&quot;</span><span class="p">:</span> <span class="ss">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="ss">&quot;bk_biz_id&quot;</span><span class="p">:</span> <span class="ss">&quot;2&quot;</span><span class="p">,</span>
    <span class="ss">&quot;task_id&quot;</span><span class="p">:</span> <span class="ss">&quot;10&quot;</span>
<span class="err">}</span>
</pre></div>


<h3 id="_8">返回结果示例</h3>
<div class="codehilite"><pre><span></span><span class="err">{</span>
    <span class="ss">&quot;result&quot;</span><span class="p">:</span> <span class="k">true</span><span class="p">,</span>
    <span class="ss">&quot;data&quot;</span><span class="p">:</span> <span class="err">{}</span>
<span class="err">}</span>
</pre></div>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>true/false 操作是否成功</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>result=true 时返回数据</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>result=false 时错误信息</td>
</tr>
</tbody>
</table>
    </body>
    </html>
    